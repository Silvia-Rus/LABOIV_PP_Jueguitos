(self.webpackChunkLABOIV_TP_Jueguitos=self.webpackChunkLABOIV_TP_Jueguitos||[]).push([[179],{2011:(xt,ge,U)=>{"use strict";U.d(ge,{Dh:()=>Me,GT:()=>de,cc:()=>Fe,hO:()=>et,on:()=>Z,pX:()=>fe,xv:()=>Te});var l=U(4650),B=U(9260),V=U(4976);xt=U.hmd(xt);const _e=["ngOnDestroy"],fe=(Le,Se,Ze,$e={})=>new Proxy(Le,{get:(Ne,Pe)=>Ze.runOutsideAngular(()=>{var rt;if(Le[Pe])return!(null===(rt=$e?.spy)||void 0===rt)&&rt.get&&$e.spy.get(Pe,Le[Pe]),Le[Pe];if(_e.indexOf(Pe)>-1)return()=>{};const Ve=Se.toPromise().then(yt=>{const le=yt&&yt[Pe];return"function"==typeof le?le.bind(yt):le&&le.then?le.then(Mt=>Ze.run(()=>Mt)):Ze.run(()=>le)});return new Proxy(()=>{},{get:(yt,le)=>Ve[le],apply:(yt,le,Mt)=>Ve.then(st=>{var on;const bt=st&&st(...Mt);return!(null===(on=$e?.spy)||void 0===on)&&on.apply&&$e.spy.apply(Pe,Mt,bt),bt})})})}),de=(Le,Se)=>{Se.forEach(Ze=>{Object.getOwnPropertyNames(Ze.prototype||Ze).forEach($e=>{Object.defineProperty(Le.prototype,$e,Object.getOwnPropertyDescriptor(Ze.prototype||Ze,$e))})})};class be{constructor(Se){return Se}}const Me=new l.OlP("angularfire2.app.options"),Te=new l.OlP("angularfire2.app.name");function Z(Le,Se,Ze){const Ne="object"==typeof Ze&&Ze||{};Ne.name=Ne.name||"string"==typeof Ze&&Ze||"[DEFAULT]";const rt=B.Z.apps.filter(Ve=>Ve&&Ve.name===Ne.name)[0]||Se.runOutsideAngular(()=>B.Z.initializeApp(Le,Ne));try{JSON.stringify(Le)!==JSON.stringify(rt.options)&&K("error",`${rt.name} Firebase App already initialized with different options${xt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new be(rt)}const K=(Le,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Le](...Se)},te={provide:be,useFactory:Z,deps:[Me,l.R0b,[new l.FiY,Te]]};let et=(()=>{class Le{constructor(Ze){B.Z.registerVersion("angularfire",V.q4.full,"core"),B.Z.registerVersion("angularfire",V.q4.full,"app-compat"),B.Z.registerVersion("angular",l.q4F.full,Ze.toString())}static initializeApp(Ze,$e){return{ngModule:Le,providers:[{provide:Me,useValue:Ze},{provide:Te,useValue:$e}]}}}return Le.\u0275fac=function(Ze){return new(Ze||Le)(l.LFG(l.Lbi))},Le.\u0275mod=l.oAB({type:Le}),Le.\u0275inj=l.cJS({providers:[te]}),Le})();function Fe(Le,Se,Ze,$e,Ne){const[,Pe,rt]=globalThis.\u0275AngularfireInstanceCache.find(Ve=>Ve[0]===Le)||[];if(Pe)return function it(Le,Se){try{return Le.toString()===Se.toString()}catch{return Le===Se}}(Ne,rt)||(we("error",`${Se} was already initialized on the ${Ze} Firebase App with different settings.${ht?" You may need to reload as Firebase is not HMR aware.":""}`),we("warn",{is:Ne,was:rt})),Pe;{const Ve=$e();return globalThis.\u0275AngularfireInstanceCache.push([Le,Ve,Ne]),Ve}}const ht=!!xt.hot,we=(Le,...Se)=>{(0,l.X6Q)()&&typeof console<"u"&&console[Le](...Se)};globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},4976:(xt,ge,U)=>{"use strict";U.d(ge,{q4:()=>ir,iC:()=>Ys,HU:()=>zt,vb:()=>Nc,JM:()=>Ac});var l=U(4650),B=U(259),V=U(5861),_e=U(6881),fe=U(2090),de=U(4859),be=U(1877);const Me=(E,S)=>S.some(O=>E instanceof O);let Te,Z;const et=new WeakMap,Fe=new WeakMap,it=new WeakMap,ht=new WeakMap,we=new WeakMap;let Ze={get(E,S,O){if(E instanceof IDBTransaction){if("done"===S)return Fe.get(E);if("objectStoreNames"===S)return E.objectStoreNames||it.get(E);if("store"===S)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return rt(E[S])},set:(E,S,O)=>(E[S]=O,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function Pe(E){return"function"==typeof E?function Ne(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function te(){return Z||(Z=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(Ve(this),S),rt(et.get(this))}:function(...S){return rt(E.apply(Ve(this),S))}:function(S,...O){const H=E.call(Ve(this),S,...O);return it.set(H,S.sort?S.sort():[S]),rt(H)}}(E):(E instanceof IDBTransaction&&function Se(E){if(Fe.has(E))return;const S=new Promise((O,H)=>{const Y=()=>{E.removeEventListener("complete",ne),E.removeEventListener("error",me),E.removeEventListener("abort",me)},ne=()=>{O(),Y()},me=()=>{H(E.error||new DOMException("AbortError","AbortError")),Y()};E.addEventListener("complete",ne),E.addEventListener("error",me),E.addEventListener("abort",me)});Fe.set(E,S)}(E),Me(E,function K(){return Te||(Te=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Ze):E)}function rt(E){if(E instanceof IDBRequest)return function Le(E){const S=new Promise((O,H)=>{const Y=()=>{E.removeEventListener("success",ne),E.removeEventListener("error",me)},ne=()=>{O(rt(E.result)),Y()},me=()=>{H(E.error),Y()};E.addEventListener("success",ne),E.addEventListener("error",me)});return S.then(O=>{O instanceof IDBCursor&&et.set(O,E)}).catch(()=>{}),we.set(S,E),S}(E);if(ht.has(E))return ht.get(E);const S=Pe(E);return S!==E&&(ht.set(E,S),we.set(S,E)),S}const Ve=E=>we.get(E),Mt=["get","getKey","getAll","getAllKeys","count"],st=["put","add","delete","clear"],on=new Map;function bt(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(on.get(S))return on.get(S);const O=S.replace(/FromIndex$/,""),H=S!==O,Y=st.includes(O);if(!(O in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!Mt.includes(O))return;const ne=function(){var me=(0,V.Z)(function*(lt,...ot){const kt=this.transaction(lt,Y?"readwrite":"readonly");let Xt=kt.store;return H&&(Xt=Xt.index(ot.shift())),(yield Promise.all([Xt[O](...ot),Y&&kt.done]))[0]});return function(ot){return me.apply(this,arguments)}}();return on.set(S,ne),ne}!function $e(E){Ze=E(Ze)}(E=>({...E,get:(S,O,H)=>bt(S,O)||E.get(S,O,H),has:(S,O)=>!!bt(S,O)||E.has(S,O)}));const Ee="@firebase/installations",Ce="0.6.4",ke=1e4,Be=`w:${Ce}`,tt="FIS_v2",Qe="https://firebaseinstallations.googleapis.com/v1",Ct=36e5,Ht=new fe.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Rt(E){return E instanceof fe.ZR&&E.code.includes("request-failed")}function bn({projectId:E}){return`${Qe}/projects/${E}/installations`}function mn(E){return{token:E.token,requestStatus:2,expiresIn:se(E.expiresIn),creationTime:Date.now()}}function Hn(E,S){return Mr.apply(this,arguments)}function Mr(){return(Mr=(0,V.Z)(function*(E,S){const H=(yield S.json()).error;return Ht.create("request-failed",{requestName:E,serverCode:H.code,serverMessage:H.message,serverStatus:H.status})})).apply(this,arguments)}function jr({apiKey:E}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E})}function wr(E){return nr.apply(this,arguments)}function nr(){return(nr=(0,V.Z)(function*(E){const S=yield E();return S.status>=500&&S.status<600?E():S})).apply(this,arguments)}function se(E){return Number(E.replace("s","000"))}function oe(){return(oe=(0,V.Z)(function*({appConfig:E,heartbeatServiceProvider:S},{fid:O}){const H=bn(E),Y=jr(E),ne=S.getImmediate({optional:!0});if(ne){const kt=yield ne.getHeartbeatsHeader();kt&&Y.append("x-firebase-client",kt)}const lt={method:"POST",headers:Y,body:JSON.stringify({fid:O,authVersion:tt,appId:E.appId,sdkVersion:Be})},ot=yield wr(()=>fetch(H,lt));if(ot.ok){const kt=yield ot.json();return{fid:kt.fid||O,registrationStatus:2,refreshToken:kt.refreshToken,authToken:mn(kt.authToken)}}throw yield Hn("Create Installation",ot)})).apply(this,arguments)}function Je(E){return new Promise(S=>{setTimeout(S,E)})}const wn=/^[cdef][\w-]{21}$/,rn="";function fn(){try{const E=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(E),E[0]=112+E[0]%16;const O=function $t(E){return function ct(E){return btoa(String.fromCharCode(...E)).replace(/\+/g,"-").replace(/\//g,"_")}(E).substr(0,22)}(E);return wn.test(O)?O:rn}catch{return rn}}function _n(E){return`${E.appName}!${E.appId}`}const _t=new Map;function nt(E,S){const O=_n(E);Qn(O,S),function Tn(E,S){const O=function or(){return!kn&&"BroadcastChannel"in self&&(kn=new BroadcastChannel("[Firebase] FID Change"),kn.onmessage=E=>{Qn(E.data.key,E.data.fid)}),kn}();O&&O.postMessage({key:E,fid:S}),function On(){0===_t.size&&kn&&(kn.close(),kn=null)}()}(O,S)}function Qn(E,S){const O=_t.get(E);if(O)for(const H of O)H(S)}let kn=null;const gs="firebase-installations-database",vn=1,ms="firebase-installations-store";let An=null;function yi(){return An||(An=function yt(E,S,{blocked:O,upgrade:H,blocking:Y,terminated:ne}={}){const me=indexedDB.open(E,S),lt=rt(me);return H&&me.addEventListener("upgradeneeded",ot=>{H(rt(me.result),ot.oldVersion,ot.newVersion,rt(me.transaction))}),O&&me.addEventListener("blocked",()=>O()),lt.then(ot=>{ne&&ot.addEventListener("close",()=>ne()),Y&&ot.addEventListener("versionchange",()=>Y())}).catch(()=>{}),lt}(gs,vn,{upgrade:(E,S)=>{0===S&&E.createObjectStore(ms)}})),An}function ar(E,S){return Er.apply(this,arguments)}function Er(){return(Er=(0,V.Z)(function*(E,S){const O=_n(E),Y=(yield yi()).transaction(ms,"readwrite"),ne=Y.objectStore(ms),me=yield ne.get(O);return yield ne.put(S,O),yield Y.done,(!me||me.fid!==S.fid)&&nt(E,S.fid),S})).apply(this,arguments)}function ai(E){return Zn.apply(this,arguments)}function Zn(){return(Zn=(0,V.Z)(function*(E){const S=_n(E),H=(yield yi()).transaction(ms,"readwrite");yield H.objectStore(ms).delete(S),yield H.done})).apply(this,arguments)}function ts(E,S){return vi.apply(this,arguments)}function vi(){return(vi=(0,V.Z)(function*(E,S){const O=_n(E),Y=(yield yi()).transaction(ms,"readwrite"),ne=Y.objectStore(ms),me=yield ne.get(O),lt=S(me);return void 0===lt?yield ne.delete(O):yield ne.put(lt,O),yield Y.done,lt&&(!me||me.fid!==lt.fid)&&nt(E,lt.fid),lt})).apply(this,arguments)}function q(E){return $.apply(this,arguments)}function $(){return $=(0,V.Z)(function*(E){let S;const O=yield ts(E.appConfig,H=>{const Y=function Q(E){return Xn(E||{fid:fn(),registrationStatus:0})}(H),ne=function Oe(E,S){if(0===S.registrationStatus){if(!navigator.onLine)return{installationEntry:S,registrationPromise:Promise.reject(Ht.create("app-offline"))};const O={fid:S.fid,registrationStatus:1,registrationTime:Date.now()},H=function ue(E,S){return We.apply(this,arguments)}(E,O);return{installationEntry:O,registrationPromise:H}}return 1===S.registrationStatus?{installationEntry:S,registrationPromise:Wt(E)}:{installationEntry:S}}(E,Y);return S=ne.registrationPromise,ne.installationEntry});return O.fid===rn?{installationEntry:yield S}:{installationEntry:O,registrationPromise:S}}),$.apply(this,arguments)}function We(){return We=(0,V.Z)(function*(E,S){try{const O=yield function he(E,S){return oe.apply(this,arguments)}(E,S);return ar(E.appConfig,O)}catch(O){throw Rt(O)&&409===O.customData.serverCode?yield ai(E.appConfig):yield ar(E.appConfig,{fid:S.fid,registrationStatus:0}),O}}),We.apply(this,arguments)}function Wt(E){return En.apply(this,arguments)}function En(){return(En=(0,V.Z)(function*(E){let S=yield gr(E.appConfig);for(;1===S.registrationStatus;)yield Je(100),S=yield gr(E.appConfig);if(0===S.registrationStatus){const{installationEntry:O,registrationPromise:H}=yield q(E);return H||O}return S})).apply(this,arguments)}function gr(E){return ts(E,S=>{if(!S)throw Ht.create("installation-not-found");return Xn(S)})}function Xn(E){return function xn(E){return 1===E.registrationStatus&&E.registrationTime+ke<Date.now()}(E)?{fid:E.fid,registrationStatus:0}:E}function li(){return(li=(0,V.Z)(function*({appConfig:E,heartbeatServiceProvider:S},O){const H=function Ai(E,{fid:S}){return`${bn(E)}/${S}/authTokens:generate`}(E,O),Y=function jt(E,{refreshToken:S}){const O=jr(E);return O.append("Authorization",function ee(E){return`${tt} ${E}`}(S)),O}(E,O),ne=S.getImmediate({optional:!0});if(ne){const kt=yield ne.getHeartbeatsHeader();kt&&Y.append("x-firebase-client",kt)}const lt={method:"POST",headers:Y,body:JSON.stringify({installation:{sdkVersion:Be,appId:E.appId}})},ot=yield wr(()=>fetch(H,lt));if(ot.ok)return mn(yield ot.json());throw yield Hn("Generate Auth Token",ot)})).apply(this,arguments)}function bi(E){return Zo.apply(this,arguments)}function Zo(){return Zo=(0,V.Z)(function*(E,S=!1){let O;const H=yield ts(E.appConfig,ne=>{if(!an(ne))throw Ht.create("not-registered");const me=ne.authToken;if(!S&&function Bt(E){return 2===E.requestStatus&&!function Cn(E){const S=Date.now();return S<E.creationTime||E.creationTime+E.expiresIn<S+Ct}(E)}(me))return ne;if(1===me.requestStatus)return O=function ve(E,S){return re.apply(this,arguments)}(E,S),ne;{if(!navigator.onLine)throw Ht.create("app-offline");const lt=function Dn(E){const S={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},E),{authToken:S})}(ne);return O=function Lt(E,S){return Gt.apply(this,arguments)}(E,lt),lt}});return O?yield O:H.authToken}),Zo.apply(this,arguments)}function re(){return(re=(0,V.Z)(function*(E,S){let O=yield ze(E.appConfig);for(;1===O.authToken.requestStatus;)yield Je(100),O=yield ze(E.appConfig);const H=O.authToken;return 0===H.requestStatus?bi(E,S):H})).apply(this,arguments)}function ze(E){return ts(E,S=>{if(!an(S))throw Ht.create("not-registered");return function Or(E){return 1===E.requestStatus&&E.requestTime+ke<Date.now()}(S.authToken)?Object.assign(Object.assign({},S),{authToken:{requestStatus:0}}):S})}function Gt(){return Gt=(0,V.Z)(function*(E,S){try{const O=yield function yn(E,S){return li.apply(this,arguments)}(E,S),H=Object.assign(Object.assign({},S),{authToken:O});return yield ar(E.appConfig,H),O}catch(O){if(!Rt(O)||401!==O.customData.serverCode&&404!==O.customData.serverCode){const H=Object.assign(Object.assign({},S),{authToken:{requestStatus:0}});yield ar(E.appConfig,H)}else yield ai(E.appConfig);throw O}}),Gt.apply(this,arguments)}function an(E){return void 0!==E&&2===E.registrationStatus}function Ta(){return(Ta=(0,V.Z)(function*(E){const S=E,{installationEntry:O,registrationPromise:H}=yield q(S);return H?H.catch(console.error):bi(S).catch(console.error),O.fid})).apply(this,arguments)}function To(){return To=(0,V.Z)(function*(E,S=!1){const O=E;return yield function Gi(E){return ft.apply(this,arguments)}(O),(yield bi(O,S)).token}),To.apply(this,arguments)}function ft(){return(ft=(0,V.Z)(function*(E){const{registrationPromise:S}=yield q(E);S&&(yield S)})).apply(this,arguments)}function ur(E){return Ht.create("missing-app-config-values",{valueName:E})}const ln="installations",qi=E=>{const S=E.getProvider("app").getImmediate(),O=function Ia(E){if(!E||!E.options)throw ur("App Configuration");if(!E.name)throw ur("App Name");const S=["projectId","apiKey","appId"];for(const O of S)if(!E.options[O])throw ur(O);return{appName:E.name,projectId:E.options.projectId,apiKey:E.options.apiKey,appId:E.options.appId}}(S);return{app:S,appConfig:O,heartbeatServiceProvider:(0,_e._getProvider)(S,"heartbeat"),_delete:()=>Promise.resolve()}},_s=E=>{const S=E.getProvider("app").getImmediate(),O=(0,_e._getProvider)(S,ln).getImmediate();return{getId:()=>function Dr(E){return Ta.apply(this,arguments)}(O),getToken:Y=>function pd(E){return To.apply(this,arguments)}(O,Y)}};(function Io(){(0,_e._registerComponent)(new de.wA(ln,qi,"PUBLIC")),(0,_e._registerComponent)(new de.wA("installations-internal",_s,"PRIVATE"))})(),(0,_e.registerVersion)(Ee,Ce),(0,_e.registerVersion)(Ee,Ce,"esm2017");const rr="@firebase/remote-config",jn=new fe.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class Ls{constructor(S,O,H,Y){this.client=S,this.storage=O,this.storageCache=H,this.logger=Y}isCachedDataFresh(S,O){if(!O)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const H=Date.now()-O,Y=H<=S;return this.logger.debug(`Config fetch cache check. Cache age millis: ${H}. Cache max age millis (minimumFetchIntervalMillis setting): ${S}. Is cache hit: ${Y}.`),Y}fetch(S){var O=this;return(0,V.Z)(function*(){const[H,Y]=yield Promise.all([O.storage.getLastSuccessfulFetchTimestampMillis(),O.storage.getLastSuccessfulFetchResponse()]);if(Y&&O.isCachedDataFresh(S.cacheMaxAgeMillis,H))return Y;S.eTag=Y&&Y.eTag;const ne=yield O.client.fetch(S),me=[O.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===ne.status&&me.push(O.storage.setLastSuccessfulFetchResponse(ne)),yield Promise.all(me),ne})()}}function _l(E=navigator){return E.languages&&E.languages[0]||E.language}class tu{constructor(S,O,H,Y,ne,me){this.firebaseInstallations=S,this.sdkVersion=O,this.namespace=H,this.projectId=Y,this.apiKey=ne,this.appId=me}fetch(S){var O=this;return(0,V.Z)(function*(){const[H,Y]=yield Promise.all([O.firebaseInstallations.getId(),O.firebaseInstallations.getToken()]),me=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${O.projectId}/namespaces/${O.namespace}:fetch?key=${O.apiKey}`,lt={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":S.eTag||"*"},ot={sdk_version:O.sdkVersion,app_instance_id:H,app_instance_id_token:Y,app_id:O.appId,language_code:_l()},kt={method:"POST",headers:lt,body:JSON.stringify(ot)},Xt=fetch(me,kt),en=new Promise((hi,Js)=>{S.signal.addEventListener(()=>{const oa=new Error("The operation was aborted.");oa.name="AbortError",Js(oa)})});let ki;try{yield Promise.race([Xt,en]),ki=yield Xt}catch(hi){let Js="fetch-client-network";throw"AbortError"===hi?.name&&(Js="fetch-timeout"),jn.create(Js,{originalErrorMessage:hi?.message})}let Wn=ki.status;const sn=ki.headers.get("ETag")||void 0;let sa,Ja;if(200===ki.status){let hi;try{hi=yield ki.json()}catch(Js){throw jn.create("fetch-client-parse",{originalErrorMessage:Js?.message})}sa=hi.entries,Ja=hi.state}if("INSTANCE_STATE_UNSPECIFIED"===Ja?Wn=500:"NO_CHANGE"===Ja?Wn=304:("NO_TEMPLATE"===Ja||"EMPTY_CONFIG"===Ja)&&(sa={}),304!==Wn&&200!==Wn)throw jn.create("fetch-status",{httpStatus:Wn});return{status:Wn,eTag:sn,config:sa}})()}}class md{constructor(S,O){this.client=S,this.storage=O}fetch(S){var O=this;return(0,V.Z)(function*(){const H=(yield O.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return O.attemptFetch(S,H)})()}attemptFetch(S,{throttleEndTimeMillis:O,backoffCount:H}){var Y=this;return(0,V.Z)(function*(){yield function Bh(E,S){return new Promise((O,H)=>{const Y=Math.max(S-Date.now(),0),ne=setTimeout(O,Y);E.addEventListener(()=>{clearTimeout(ne),H(jn.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(S.signal,O);try{const ne=yield Y.client.fetch(S);return yield Y.storage.deleteThrottleMetadata(),ne}catch(ne){if(!function nu(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(ne))throw ne;const me={throttleEndTimeMillis:Date.now()+(0,fe.$s)(H),backoffCount:H+1};return yield Y.storage.setThrottleMetadata(me),Y.attemptFetch(S,me)}})()}}class Ip{constructor(S,O,H,Y,ne){this.app=S,this._client=O,this._storageCache=H,this._storage=Y,this._logger=ne,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function yl(E,S){const O=E.target.error||void 0;return jn.create(S,{originalErrorMessage:O&&O?.message})}const Wi="app_namespace_store";class vl{constructor(S,O,H,Y=function Jo(){return new Promise((E,S)=>{try{const O=indexedDB.open("firebase_remote_config",1);O.onerror=H=>{S(yl(H,"storage-open"))},O.onsuccess=H=>{E(H.target.result)},O.onupgradeneeded=H=>{0===H.oldVersion&&H.target.result.createObjectStore(Wi,{keyPath:"compositeKey"})}}catch(O){S(jn.create("storage-open",{originalErrorMessage:O?.message}))}})}()){this.appId=S,this.appName=O,this.namespace=H,this.openDbPromise=Y}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(S){return this.set("last_fetch_status",S)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(S){return this.set("last_successful_fetch_timestamp_millis",S)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(S){return this.set("last_successful_fetch_response",S)}getActiveConfig(){return this.get("active_config")}setActiveConfig(S){return this.set("active_config",S)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(S){return this.set("active_config_etag",S)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(S){return this.set("throttle_metadata",S)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(S){var O=this;return(0,V.Z)(function*(){const H=yield O.openDbPromise;return new Promise((Y,ne)=>{const lt=H.transaction([Wi],"readonly").objectStore(Wi),ot=O.createCompositeKey(S);try{const kt=lt.get(ot);kt.onerror=Xt=>{ne(yl(Xt,"storage-get"))},kt.onsuccess=Xt=>{const en=Xt.target.result;Y(en?en.value:void 0)}}catch(kt){ne(jn.create("storage-get",{originalErrorMessage:kt?.message}))}})})()}set(S,O){var H=this;return(0,V.Z)(function*(){const Y=yield H.openDbPromise;return new Promise((ne,me)=>{const ot=Y.transaction([Wi],"readwrite").objectStore(Wi),kt=H.createCompositeKey(S);try{const Xt=ot.put({compositeKey:kt,value:O});Xt.onerror=en=>{me(yl(en,"storage-set"))},Xt.onsuccess=()=>{ne()}}catch(Xt){me(jn.create("storage-set",{originalErrorMessage:Xt?.message}))}})})()}delete(S){var O=this;return(0,V.Z)(function*(){const H=yield O.openDbPromise;return new Promise((Y,ne)=>{const lt=H.transaction([Wi],"readwrite").objectStore(Wi),ot=O.createCompositeKey(S);try{const kt=lt.delete(ot);kt.onerror=Xt=>{ne(yl(Xt,"storage-delete"))},kt.onsuccess=()=>{Y()}}catch(kt){ne(jn.create("storage-delete",{originalErrorMessage:kt?.message}))}})})()}createCompositeKey(S){return[this.appId,this.appName,this.namespace,S].join()}}class Xu{constructor(S){this.storage=S}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var S=this;return(0,V.Z)(function*(){const O=S.storage.getLastFetchStatus(),H=S.storage.getLastSuccessfulFetchTimestampMillis(),Y=S.storage.getActiveConfig(),ne=yield O;ne&&(S.lastFetchStatus=ne);const me=yield H;me&&(S.lastSuccessfulFetchTimestampMillis=me);const lt=yield Y;lt&&(S.activeConfig=lt)})()}setLastFetchStatus(S){return this.lastFetchStatus=S,this.storage.setLastFetchStatus(S)}setLastSuccessfulFetchTimestampMillis(S){return this.lastSuccessfulFetchTimestampMillis=S,this.storage.setLastSuccessfulFetchTimestampMillis(S)}setActiveConfig(S){return this.activeConfig=S,this.storage.setActiveConfig(S)}}function bl(){return No.apply(this,arguments)}function No(){return(No=(0,V.Z)(function*(){if(!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}!function Bs(){(0,_e._registerComponent)(new de.wA("remote-config",function E(S,{instanceIdentifier:O}){const H=S.getProvider("app").getImmediate(),Y=S.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw jn.create("registration-window");if(!(0,fe.hl)())throw jn.create("indexed-db-unavailable");const{projectId:ne,apiKey:me,appId:lt}=H.options;if(!ne)throw jn.create("registration-project-id");if(!me)throw jn.create("registration-api-key");if(!lt)throw jn.create("registration-app-id");const ot=new vl(lt,H.name,O=O||"firebase"),kt=new Xu(ot),Xt=new be.Yd(rr);Xt.logLevel=be.in.ERROR;const en=new tu(Y,_e.SDK_VERSION,O,ne,me,lt),ki=new md(en,ot),Wn=new Ls(ki,ot,kt,Xt),sn=new Ip(H,Wn,kt,ot,Xt);return function Mi(E){const S=(0,fe.m9)(E);S._initializePromise||(S._initializePromise=S._storageCache.loadFromStorage().then(()=>{S._isInitializationComplete=!0}))}(sn),sn},"PUBLIC").setMultipleInstances(!0)),(0,_e.registerVersion)(rr,"0.4.4"),(0,_e.registerVersion)(rr,"0.4.4","esm2017")}();const ec=(E,S)=>S.some(O=>E instanceof O);let iu,co;const wl=new WeakMap,ho=new WeakMap,Ei=new WeakMap,Qr=new WeakMap,Mo=new WeakMap;let Us={get(E,S,O){if(E instanceof IDBTransaction){if("done"===S)return ho.get(E);if("objectStoreNames"===S)return E.objectStoreNames||Ei.get(E);if("store"===S)return O.objectStoreNames[1]?void 0:O.objectStore(O.objectStoreNames[0])}return ci(E[S])},set:(E,S,O)=>(E[S]=O,!0),has:(E,S)=>E instanceof IDBTransaction&&("done"===S||"store"===S)||S in E};function nc(E){return"function"==typeof E?function tc(E){return E!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Na(){return co||(co=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(E)?function(...S){return E.apply(Rr(this),S),ci(wl.get(this))}:function(...S){return ci(E.apply(Rr(this),S))}:function(S,...O){const H=E.call(Rr(this),S,...O);return Ei.set(H,S.sort?S.sort():[S]),ci(H)}}(E):(E instanceof IDBTransaction&&function rs(E){if(ho.has(E))return;const S=new Promise((O,H)=>{const Y=()=>{E.removeEventListener("complete",ne),E.removeEventListener("error",me),E.removeEventListener("abort",me)},ne=()=>{O(),Y()},me=()=>{H(E.error||new DOMException("AbortError","AbortError")),Y()};E.addEventListener("complete",ne),E.addEventListener("error",me),E.addEventListener("abort",me)});ho.set(E,S)}(E),ec(E,function yd(){return iu||(iu=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(E,Us):E)}function ci(E){if(E instanceof IDBRequest)return function xr(E){const S=new Promise((O,H)=>{const Y=()=>{E.removeEventListener("success",ne),E.removeEventListener("error",me)},ne=()=>{O(ci(E.result)),Y()},me=()=>{H(E.error),Y()};E.addEventListener("success",ne),E.addEventListener("error",me)});return S.then(O=>{O instanceof IDBCursor&&wl.set(O,E)}).catch(()=>{}),Mo.set(S,E),S}(E);if(Qr.has(E))return Qr.get(E);const S=nc(E);return S!==E&&(Qr.set(E,S),Mo.set(S,E)),S}const Rr=E=>Mo.get(E);function El(E,S,{blocked:O,upgrade:H,blocking:Y,terminated:ne}={}){const me=indexedDB.open(E,S),lt=ci(me);return H&&me.addEventListener("upgradeneeded",ot=>{H(ci(me.result),ot.oldVersion,ot.newVersion,ci(me.transaction))}),O&&me.addEventListener("blocked",()=>O()),lt.then(ot=>{ne&&ot.addEventListener("close",()=>ne()),Y&&ot.addEventListener("versionchange",()=>Y())}).catch(()=>{}),lt}function Vs(E,{blocked:S}={}){const O=indexedDB.deleteDatabase(E);return S&&O.addEventListener("blocked",()=>S()),ci(O).then(()=>{})}const su=["get","getKey","getAll","getAllKeys","count"],vs=["put","add","delete","clear"],Oo=new Map;function Ma(E,S){if(!(E instanceof IDBDatabase)||S in E||"string"!=typeof S)return;if(Oo.get(S))return Oo.get(S);const O=S.replace(/FromIndex$/,""),H=S!==O,Y=vs.includes(O);if(!(O in(H?IDBIndex:IDBObjectStore).prototype)||!Y&&!su.includes(O))return;const ne=function(){var me=(0,V.Z)(function*(lt,...ot){const kt=this.transaction(lt,Y?"readwrite":"readonly");let Xt=kt.store;return H&&(Xt=Xt.index(ot.shift())),(yield Promise.all([Xt[O](...ot),Y&&kt.done]))[0]});return function(ot){return me.apply(this,arguments)}}();return Oo.set(S,ne),ne}!function zr(E){Us=E(Us)}(E=>({...E,get:(S,O,H)=>Ma(S,O)||E.get(S,O,H),has:(S,O)=>!!Ma(S,O)||E.has(S,O)}));const Yt="/firebase-messaging-sw.js",Oa="/firebase-cloud-messaging-push-scope",ou="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",rc="https://fcmregistrations.googleapis.com/v1",Qo="google.c.a.c_id",au="google.c.a.c_l",xa="google.c.a.ts",ic="google.c.a.e";var Ie=(()=>{return(E=Ie||(Ie={})).PUSH_RECEIVED="push-received",E.NOTIFICATION_CLICKED="notification-clicked",Ie;var E})();function nn(E){const S=new Uint8Array(E);return btoa(String.fromCharCode(...S)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function fo(E){const O=(E+"=".repeat((4-E.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),H=atob(O),Y=new Uint8Array(H.length);for(let ne=0;ne<H.length;++ne)Y[ne]=H.charCodeAt(ne);return Y}const Ra="fcm_token_details_db",Pr=5,xo="fcm_token_object_Store";function di(){return di=(0,V.Z)(function*(E){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(ne=>ne.name).includes(Ra))return null;let S=null;return(yield El(Ra,Pr,{upgrade:(H=(0,V.Z)(function*(Y,ne,me,lt){var ot;if(ne<2||!Y.objectStoreNames.contains(xo))return;const kt=lt.objectStore(xo),Xt=yield kt.index("fcmSenderId").get(E);if(yield kt.clear(),Xt)if(2===ne){const en=Xt;if(!en.auth||!en.p256dh||!en.endpoint)return;S={token:en.fcmToken,createTime:null!==(ot=en.createTime)&&void 0!==ot?ot:Date.now(),subscriptionOptions:{auth:en.auth,p256dh:en.p256dh,endpoint:en.endpoint,swScope:en.swScope,vapidKey:"string"==typeof en.vapidKey?en.vapidKey:nn(en.vapidKey)}}}else if(3===ne){const en=Xt;S={token:en.fcmToken,createTime:en.createTime,subscriptionOptions:{auth:nn(en.auth),p256dh:nn(en.p256dh),endpoint:en.endpoint,swScope:en.swScope,vapidKey:nn(en.vapidKey)}}}else if(4===ne){const en=Xt;S={token:en.fcmToken,createTime:en.createTime,subscriptionOptions:{auth:nn(en.auth),p256dh:nn(en.p256dh),endpoint:en.endpoint,swScope:en.swScope,vapidKey:nn(en.vapidKey)}}}}),function(ne,me,lt,ot){return H.apply(this,arguments)})})).close(),yield Vs(Ra),yield Vs("fcm_vapid_details_db"),yield Vs("undefined"),function oc(E){if(!E||!E.subscriptionOptions)return!1;const{subscriptionOptions:S}=E;return"number"==typeof E.createTime&&E.createTime>0&&"string"==typeof E.token&&E.token.length>0&&"string"==typeof S.auth&&S.auth.length>0&&"string"==typeof S.p256dh&&S.p256dh.length>0&&"string"==typeof S.endpoint&&S.endpoint.length>0&&"string"==typeof S.swScope&&S.swScope.length>0&&"string"==typeof S.vapidKey&&S.vapidKey.length>0}(S)?S:null;var H}),di.apply(this,arguments)}const Tl="firebase-messaging-database",Uh=1,Hs="firebase-messaging-store";let Xo=null;function _r(){return Xo||(Xo=El(Tl,Uh,{upgrade:(E,S)=>{0===S&&E.createObjectStore(Hs)}})),Xo}function Ki(E){return bs.apply(this,arguments)}function bs(){return bs=(0,V.Z)(function*(E){const S=Sl(E),H=yield(yield _r()).transaction(Hs).objectStore(Hs).get(S);if(H)return H;{const Y=yield function Dl(E){return di.apply(this,arguments)}(E.appConfig.senderId);if(Y)return yield Ro(E,Y),Y}}),bs.apply(this,arguments)}function Ro(E,S){return Ri.apply(this,arguments)}function Ri(){return(Ri=(0,V.Z)(function*(E,S){const O=Sl(E),Y=(yield _r()).transaction(Hs,"readwrite");return yield Y.objectStore(Hs).put(S,O),yield Y.done,S})).apply(this,arguments)}function Pa(){return(Pa=(0,V.Z)(function*(E){const S=Sl(E),H=(yield _r()).transaction(Hs,"readwrite");yield H.objectStore(Hs).delete(S),yield H.done})).apply(this,arguments)}function Sl({appConfig:E}){return E.appId}const Tr=new fe.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function Po(E,S){return lu.apply(this,arguments)}function lu(){return(lu=(0,V.Z)(function*(E,S){const O=yield uu(E),H=lc(S),Y={method:"POST",headers:O,body:JSON.stringify(H)};let ne;try{ne=yield(yield fetch(ka(E.appConfig),Y)).json()}catch(me){throw Tr.create("token-subscribe-failed",{errorInfo:me?.toString()})}if(ne.error)throw Tr.create("token-subscribe-failed",{errorInfo:ne.error.message});if(!ne.token)throw Tr.create("token-subscribe-no-token");return ne.token})).apply(this,arguments)}function ac(){return(ac=(0,V.Z)(function*(E,S){const O=yield uu(E),H=lc(S.subscriptionOptions),Y={method:"PATCH",headers:O,body:JSON.stringify(H)};let ne;try{ne=yield(yield fetch(`${ka(E.appConfig)}/${S.token}`,Y)).json()}catch(me){throw Tr.create("token-update-failed",{errorInfo:me?.toString()})}if(ne.error)throw Tr.create("token-update-failed",{errorInfo:ne.error.message});if(!ne.token)throw Tr.create("token-update-no-token");return ne.token})).apply(this,arguments)}function Al(E,S){return Nl.apply(this,arguments)}function Nl(){return(Nl=(0,V.Z)(function*(E,S){const H={method:"DELETE",headers:yield uu(E)};try{const ne=yield(yield fetch(`${ka(E.appConfig)}/${S}`,H)).json();if(ne.error)throw Tr.create("token-unsubscribe-failed",{errorInfo:ne.error.message})}catch(Y){throw Tr.create("token-unsubscribe-failed",{errorInfo:Y?.toString()})}})).apply(this,arguments)}function ka({projectId:E}){return`${rc}/projects/${E}/registrations`}function uu(E){return Fa.apply(this,arguments)}function Fa(){return(Fa=(0,V.Z)(function*({appConfig:E,installations:S}){const O=yield S.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":E.apiKey,"x-goog-firebase-installations-auth":`FIS ${O}`})})).apply(this,arguments)}function lc({p256dh:E,auth:S,endpoint:O,vapidKey:H}){const Y={web:{endpoint:O,auth:S,p256dh:E}};return H!==ou&&(Y.web.applicationPubKey=H),Y}const ws=6048e5;function Ml(){return Ml=(0,V.Z)(function*(E){const S=yield function vd(E,S){return dc.apply(this,arguments)}(E.swRegistration,E.vapidKey),O={vapidKey:E.vapidKey,swScope:E.swRegistration.scope,endpoint:S.endpoint,auth:nn(S.getKey("auth")),p256dh:nn(S.getKey("p256dh"))},H=yield Ki(E.firebaseDependencies);if(H){if(function $s(E,S){return S.vapidKey===E.vapidKey&&S.endpoint===E.endpoint&&S.auth===E.auth&&S.p256dh===E.p256dh}(H.subscriptionOptions,O))return Date.now()>=H.createTime+ws?function er(E,S){return Ol.apply(this,arguments)}(E,{token:H.token,createTime:Date.now(),subscriptionOptions:O}):H.token;try{yield Al(E.firebaseDependencies,H.token)}catch(Y){console.warn(Y)}return cc(E.firebaseDependencies,O)}return cc(E.firebaseDependencies,O)}),Ml.apply(this,arguments)}function js(){return js=(0,V.Z)(function*(E){const S=yield Ki(E.firebaseDependencies);S&&(yield Al(E.firebaseDependencies,S.token),yield function Il(E){return Pa.apply(this,arguments)}(E.firebaseDependencies));const O=yield E.swRegistration.pushManager.getSubscription();return!O||O.unsubscribe()}),js.apply(this,arguments)}function Ol(){return Ol=(0,V.Z)(function*(E,S){try{const O=yield function Cl(E,S){return ac.apply(this,arguments)}(E.firebaseDependencies,S),H=Object.assign(Object.assign({},S),{token:O,createTime:Date.now()});return yield Ro(E.firebaseDependencies,H),O}catch(O){throw yield function qr(E){return js.apply(this,arguments)}(E),O}}),Ol.apply(this,arguments)}function cc(E,S){return ko.apply(this,arguments)}function ko(){return(ko=(0,V.Z)(function*(E,S){const H={token:yield Po(E,S),createTime:Date.now(),subscriptionOptions:S};return yield Ro(E,H),H.token})).apply(this,arguments)}function dc(){return(dc=(0,V.Z)(function*(E,S){return(yield E.pushManager.getSubscription())||E.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:fo(S)})})).apply(this,arguments)}function Gs(E){const S={from:E.from,collapseKey:E.collapse_key,messageId:E.fcmMessageId};return function cu(E,S){if(!S.notification)return;E.notification={};const O=S.notification.title;O&&(E.notification.title=O);const H=S.notification.body;H&&(E.notification.body=H);const Y=S.notification.image;Y&&(E.notification.image=Y);const ne=S.notification.icon;ne&&(E.notification.icon=ne)}(S,E),function du(E,S){S.data&&(E.data=S.data)}(S,E),function hc(E,S){var O,H,Y,ne,me;if(!(S.fcmOptions||null!==(O=S.notification)&&void 0!==O&&O.click_action))return;E.fcmOptions={};const lt=null!==(Y=null===(H=S.fcmOptions)||void 0===H?void 0:H.link)&&void 0!==Y?Y:null===(ne=S.notification)||void 0===ne?void 0:ne.click_action;lt&&(E.fcmOptions.link=lt);const ot=null===(me=S.fcmOptions)||void 0===me?void 0:me.analytics_label;ot&&(E.fcmOptions.analyticsLabel=ot)}(S,E),S}function ea(E,S){const O=[];for(let H=0;H<E.length;H++)O.push(E.charAt(H)),H<S.length&&O.push(S.charAt(H));return O.join("")}function zs(E){return Tr.create("missing-app-config-values",{valueName:E})}ea("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),ea("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class fu{constructor(S,O,H){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const Y=function ta(E){if(!E||!E.options)throw zs("App Configuration Object");if(!E.name)throw zs("App Name");const S=["projectId","apiKey","appId","messagingSenderId"],{options:O}=E;for(const H of S)if(!O[H])throw zs(H);return{appName:E.name,projectId:O.projectId,apiKey:O.apiKey,appId:O.appId,senderId:O.messagingSenderId}}(S);this.firebaseDependencies={app:S,appConfig:Y,installations:O,analyticsProvider:H}}_delete(){return Promise.resolve()}}function I(E){return C.apply(this,arguments)}function C(){return(C=(0,V.Z)(function*(E){try{E.swRegistration=yield navigator.serviceWorker.register(Yt,{scope:Oa}),E.swRegistration.update().catch(()=>{})}catch(S){throw Tr.create("failed-service-worker-registration",{browserErrorMessage:S?.message})}})).apply(this,arguments)}function G(){return(G=(0,V.Z)(function*(E,S){if(!S&&!E.swRegistration&&(yield I(E)),S||!E.swRegistration){if(!(S instanceof ServiceWorkerRegistration))throw Tr.create("invalid-sw-registration");E.swRegistration=S}})).apply(this,arguments)}function Ft(){return(Ft=(0,V.Z)(function*(E,S){S?E.vapidKey=S:E.vapidKey||(E.vapidKey=ou)})).apply(this,arguments)}function kr(){return kr=(0,V.Z)(function*(E,S){if(!navigator)throw Tr.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw Tr.create("permission-blocked");return yield function De(E,S){return Ft.apply(this,arguments)}(E,S?.vapidKey),yield function R(E,S){return G.apply(this,arguments)}(E,S?.serviceWorkerRegistration),function uc(E){return Ml.apply(this,arguments)}(E)}),kr.apply(this,arguments)}function Zi(){return(Zi=(0,V.Z)(function*(E,S,O){const H=function qs(E){switch(E){case Ie.NOTIFICATION_CLICKED:return"notification_open";case Ie.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(S);(yield E.firebaseDependencies.analyticsProvider.get()).logEvent(H,{message_id:O[Qo],message_name:O[au],message_time:O[xa],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function La(){return La=(0,V.Z)(function*(E,S){const O=S.data;if(!O.isFirebaseMessaging)return;E.onMessageHandler&&O.messageType===Ie.PUSH_RECEIVED&&("function"==typeof E.onMessageHandler?E.onMessageHandler(Gs(O)):E.onMessageHandler.next(Gs(O)));const H=O.data;(function hu(E){return"object"==typeof E&&!!E&&Qo in E})(H)&&"1"===H[ic]&&(yield function Wr(E,S,O){return Zi.apply(this,arguments)}(E,O.messageType,H))}),La.apply(this,arguments)}const na="@firebase/messaging",Ba=E=>{const S=new fu(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),E.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",O=>function fc(E,S){return La.apply(this,arguments)}(S,O)),S},pc=E=>{const S=E.getProvider("messaging").getImmediate();return{getToken:H=>function Pn(E,S){return kr.apply(this,arguments)}(S,H)}};function Sp(){return gc.apply(this,arguments)}function gc(){return(gc=(0,V.Z)(function*(){try{yield(0,fe.eu)()}catch{return!1}return typeof window<"u"&&(0,fe.hl)()&&(0,fe.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function pu(){(0,_e._registerComponent)(new de.wA("messaging",Ba,"PUBLIC")),(0,_e._registerComponent)(new de.wA("messaging-internal",pc,"PRIVATE")),(0,_e.registerVersion)(na,"0.12.4"),(0,_e.registerVersion)(na,"0.12.4","esm2017")}();const qn="analytics",Gh="firebase_id",mc="origin",wd=6e4,_c="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",yc="https://www.googletagmanager.com/gtag/js",Xr=new be.Yd("@firebase/analytics"),Fr=new fe.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Ed(E){if(!E.startsWith(yc)){const S=Fr.create("invalid-gtag-resource",{gtagURL:E});return Xr.warn(S.message),""}return E}function gu(E){return Promise.all(E.map(S=>S.catch(O=>O)))}function Ha(){return(Ha=(0,V.Z)(function*(E,S,O,H,Y,ne){const me=H[Y];try{if(me)yield S[me];else{const ot=(yield gu(O)).find(kt=>kt.measurementId===Y);ot&&(yield S[ot.appId])}}catch(lt){Xr.error(lt)}E("config",Y,ne)})).apply(this,arguments)}function _u(){return(_u=(0,V.Z)(function*(E,S,O,H,Y){try{let ne=[];if(Y&&Y.send_to){let me=Y.send_to;Array.isArray(me)||(me=[me]);const lt=yield gu(O);for(const ot of me){const kt=lt.find(en=>en.measurementId===ot),Xt=kt&&S[kt.appId];if(!Xt){ne=[];break}ne.push(Xt)}}0===ne.length&&(ne=Object.values(S)),yield Promise.all(ne),E("event",H,Y||{})}catch(ne){Xr.error(ne)}})).apply(this,arguments)}const yu=30,Ga=new class $a{constructor(S={},O=1e3){this.throttleMetadata=S,this.intervalMillis=O}getThrottleMetadata(S){return this.throttleMetadata[S]}setThrottleMetadata(S,O){this.throttleMetadata[S]=O}deleteThrottleMetadata(S){delete this.throttleMetadata[S]}};function Np(E){return new Headers({Accept:"application/json","x-goog-api-key":E})}function In(){return(In=(0,V.Z)(function*(E){var S;const{appId:O,apiKey:H}=E,Y={method:"GET",headers:Np(H)},ne=_c.replace("{app-id}",O),me=yield fetch(ne,Y);if(200!==me.status&&304!==me.status){let lt="";try{const ot=yield me.json();null!==(S=ot.error)&&void 0!==S&&S.message&&(lt=ot.error.message)}catch{}throw Fr.create("config-fetch-failed",{httpStatus:me.status,responseMessage:lt})}return me.json()})).apply(this,arguments)}function vu(){return(vu=(0,V.Z)(function*(E,S=Ga,O){const{appId:H,apiKey:Y,measurementId:ne}=E.options;if(!H)throw Fr.create("no-app-id");if(!Y){if(ne)return{measurementId:ne,appId:H};throw Fr.create("no-api-key")}const me=S.getThrottleMetadata(H)||{backoffCount:0,throttleEndTimeMillis:Date.now()},lt=new iv;return setTimeout((0,V.Z)(function*(){lt.abort()}),void 0!==O?O:wd),Td({appId:H,apiKey:Y,measurementId:ne},me,lt,S)})).apply(this,arguments)}function Td(E,S,O){return Id.apply(this,arguments)}function Id(){return Id=(0,V.Z)(function*(E,{throttleEndTimeMillis:S,backoffCount:O},H,Y=Ga){var ne;const{appId:me,measurementId:lt}=E;try{yield function rv(E,S){return new Promise((O,H)=>{const Y=Math.max(S-Date.now(),0),ne=setTimeout(O,Y);E.addEventListener(()=>{clearTimeout(ne),H(Fr.create("fetch-throttle",{throttleEndTimeMillis:S}))})})}(H,S)}catch(ot){if(lt)return Xr.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${ot?.message}]`),{appId:me,measurementId:lt};throw ot}try{const ot=yield function zh(E){return In.apply(this,arguments)}(E);return Y.deleteThrottleMetadata(me),ot}catch(ot){const kt=ot;if(!function Mp(E){if(!(E instanceof fe.ZR&&E.customData))return!1;const S=Number(E.customData.httpStatus);return 429===S||500===S||503===S||504===S}(kt)){if(Y.deleteThrottleMetadata(me),lt)return Xr.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${lt} provided in the "measurementId" field in the local Firebase config. [${kt?.message}]`),{appId:me,measurementId:lt};throw ot}const Xt=503===Number(null===(ne=kt?.customData)||void 0===ne?void 0:ne.httpStatus)?(0,fe.$s)(O,Y.intervalMillis,yu):(0,fe.$s)(O,Y.intervalMillis),en={throttleEndTimeMillis:Date.now()+Xt,backoffCount:O+1};return Y.setThrottleMetadata(me,en),Xr.debug(`Calling attemptFetch again in ${Xt} millis`),Td(E,en,H,Y)}}),Id.apply(this,arguments)}class iv{constructor(){this.listeners=[]}addEventListener(S){this.listeners.push(S)}abort(){this.listeners.forEach(S=>S())}}let za,Rp;function Op(){return(Op=(0,V.Z)(function*(E,S,O,H,Y){if(Y&&Y.global)E("event",O,H);else{const ne=yield S;E("event",O,Object.assign(Object.assign({},H),{send_to:ne}))}})).apply(this,arguments)}function Bn(){return(Bn=(0,V.Z)(function*(){if(!(0,fe.hl)())return Xr.warn(Fr.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,fe.eu)()}catch(E){return Xr.warn(Fr.create("indexeddb-unavailable",{errorInfo:E?.toString()}).message),!1}return!0})).apply(this,arguments)}function At(){return At=(0,V.Z)(function*(E,S,O,H,Y,ne,me){var lt;const ot=function Fm(E){return vu.apply(this,arguments)}(E);ot.then(Wn=>{O[Wn.measurementId]=Wn.appId,E.options.measurementId&&Wn.measurementId!==E.options.measurementId&&Xr.warn(`The measurement ID in the local Firebase config (${E.options.measurementId}) does not match the measurement ID fetched from the server (${Wn.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(Wn=>Xr.error(Wn)),S.push(ot);const kt=function Yi(){return Bn.apply(this,arguments)}().then(Wn=>{if(Wn)return H.getId()}),[Xt,en]=yield Promise.all([ot,kt]);(function ja(E){const S=window.document.getElementsByTagName("script");for(const O of Object.values(S))if(O.src&&O.src.includes(yc)&&O.src.includes(E))return O;return null})(ne)||function Lo(E,S){const O=function mu(E,S){let O;return window.trustedTypes&&(O=window.trustedTypes.createPolicy(E,S)),O}("firebase-js-sdk-policy",{createScriptURL:Ed}),H=document.createElement("script"),Y=`${yc}?l=${E}&id=${S}`;H.src=O?O?.createScriptURL(Y):Y,H.async=!0,document.head.appendChild(H)}(ne,Xt.measurementId),Rp&&(Y("consent","default",Rp),function Cd(E){Rp=E}(void 0)),Y("js",new Date);const ki=null!==(lt=me?.config)&&void 0!==lt?lt:{};return ki[mc]="firebase",ki.update=!0,null!=en&&(ki[Gh]=en),Y("config",Xt.measurementId,ki),za&&(Y("set",za),function Dc(E){za=E}(void 0)),Xt.measurementId}),At.apply(this,arguments)}class Mn{constructor(S){this.app=S}_delete(){return delete Un[this.app.options.appId],Promise.resolve()}}let Un={},qh=[];const wu={};let Ad,Ds,Kr="dataLayer",Tc="gtag",kl=!1;function Bo(E,S,O){!function Du(){const E=[];if((0,fe.ru)()&&E.push("This is a browser extension environment."),(0,fe.zI)()||E.push("Cookies are not available."),E.length>0){const S=E.map((H,Y)=>`(${Y+1}) ${H}`).join(" "),O=Fr.create("invalid-analytics-context",{errorInfo:S});Xr.warn(O.message)}}();const H=E.options.appId;if(!H)throw Fr.create("no-app-id");if(!E.options.apiKey){if(!E.options.measurementId)throw Fr.create("no-api-key");Xr.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${E.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Un[H])throw Fr.create("already-exists",{id:H});if(!kl){!function Cp(E){let S=[];Array.isArray(window[E])?S=window[E]:window[E]=S}(Kr);const{wrappedGtag:ne,gtagCore:me}=function ra(E,S,O,H,Y){let ne=function(...me){window[H].push(arguments)};return window[Y]&&"function"==typeof window[Y]&&(ne=window[Y]),window[Y]=function Pl(E,S,O,H){function ne(){return ne=(0,V.Z)(function*(me,...lt){try{if("event"===me){const[ot,kt]=lt;yield function Dd(E,S,O,H,Y){return _u.apply(this,arguments)}(E,S,O,ot,kt)}else if("config"===me){const[ot,kt]=lt;yield function vc(E,S,O,H,Y,ne){return Ha.apply(this,arguments)}(E,S,O,H,ot,kt)}else if("consent"===me){const[ot]=lt;E("consent","update",ot)}else if("get"===me){const[ot,kt,Xt]=lt;E("get",ot,kt,Xt)}else if("set"===me){const[ot]=lt;E("set",ot)}else E(me,...lt)}catch(ot){Xr.error(ot)}}),ne.apply(this,arguments)}return function Y(me){return ne.apply(this,arguments)}}(ne,E,S,O),{gtagCore:ne,wrappedGtag:window[Y]}}(Un,qh,wu,Kr,Tc);Ds=ne,Ad=me,kl=!0}return Un[H]=function Pi(E,S,O,H,Y,ne,me){return At.apply(this,arguments)}(E,qh,wu,S,Ad,Kr,O),new Mn(E)}function Ic(){return Uo.apply(this,arguments)}function Uo(){return(Uo=(0,V.Z)(function*(){if((0,fe.ru)()||!(0,fe.zI)()||!(0,fe.hl)())return!1;try{return yield(0,fe.eu)()}catch{return!1}})).apply(this,arguments)}const is="@firebase/analytics";!function Pp(){(0,_e._registerComponent)(new de.wA(qn,(S,{options:O})=>Bo(S.getProvider("app").getImmediate(),S.getProvider("installations-internal").getImmediate(),O),"PUBLIC")),(0,_e._registerComponent)(new de.wA("analytics-internal",function E(S){try{const O=S.getProvider(qn).getImmediate();return{logEvent:(H,Y,ne)=>function Wh(E,S,O,H){E=(0,fe.m9)(E),function sv(E,S,O,H,Y){return Op.apply(this,arguments)}(Ds,Un[E.app.options.appId],S,O,H).catch(Y=>Xr.error(Y))}(O,H,Y,ne)}}catch(O){throw Fr.create("interop-component-reg-failed",{reason:O})}},"PRIVATE")),(0,_e.registerVersion)(is,"0.10.0"),(0,_e.registerVersion)(is,"0.10.0","esm2017")}();var Ts=U(4408),ss=U(7565);const ti=new class Su extends ss.v{}(class Iu extends Ts.o{constructor(S,O){super(S,O),this.scheduler=S,this.work=O}schedule(S,O=0){return O>0?super.schedule(S,O):(this.delay=O,this.state=S,this.scheduler.flush(this),this)}execute(S,O){return O>0||this.closed?super.execute(S,O):this._execute(S,O)}requestAsyncId(S,O,H=0){return null!=H&&H>0||null==H&&this.delay>0?super.requestAsyncId(S,O,H):(S.flush(this),0)}});var xd=U(4986),Ir=U(8505),Sr=U(9468),go=U(5363);const ir=new l.GfV("7.5.0"),vr="__angularfire_symbol__analyticsIsSupportedValue",Za="__angularfire_symbol__analyticsIsSupported",Rd="__angularfire_symbol__remoteConfigIsSupportedValue",Ll="__angularfire_symbol__remoteConfigIsSupported",Ks="__angularfire_symbol__messagingIsSupportedValue",mo="__angularfire_symbol__messagingIsSupported";function Ac(E,S,O){if(S){if(1===S.length)return S[0];const ne=S.filter(me=>me.app===O);if(1===ne.length)return ne[0]}return O.container.getProvider(E).getImmediate({optional:!0})}globalThis[Za]||(globalThis[Za]=Ic().then(E=>globalThis[vr]=E).catch(()=>globalThis[vr]=!1)),globalThis[mo]||(globalThis[mo]=Sp().then(E=>globalThis[Ks]=E).catch(()=>globalThis[Ks]=!1)),globalThis[Ll]||(globalThis[Ll]=bl().then(E=>globalThis[Rd]=E).catch(()=>globalThis[Rd]=!1));const Nc=(E,S)=>{const O=S?[S]:(0,B.C6)(),H=[];return O.forEach(Y=>{Y.container.getProvider(E).instances.forEach(me=>{H.includes(me)||H.push(me)})}),H};function Vo(){}class Mc{constructor(S,O=ti){this.zone=S,this.delegate=O}now(){return this.delegate.now()}schedule(S,O,H){const Y=this.zone;return this.delegate.schedule(function(me){Y.runGuarded(()=>{S.apply(this,[me])})},O,H)}}class Oc{constructor(S){this.zone=S,this.task=null}call(S,O){const H=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Vo,{},Vo,Vo)),O.pipe((0,Ir.b)({next:H,complete:H,error:H})).subscribe(S).add(H)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let zt=(()=>{class E{constructor(O){this.ngZone=O,this.outsideAngular=O.runOutsideAngular(()=>new Mc(Zone.current)),this.insideAngular=O.run(()=>new Mc(Zone.current,xd.z)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return E.\u0275fac=function(O){return new(O||E)(l.LFG(l.R0b))},E.\u0275prov=l.Yz7({token:E,factory:E.\u0275fac,providedIn:"root"}),E})();function Zs(){const E=globalThis.\u0275AngularFireScheduler;if(!E)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return E}function Ys(E){return Zs(),function Yh(E){return function(O){return(O=O.lift(new Oc(E.ngZone))).pipe((0,Sr.R)(E.outsideAngular),(0,go.Q)(E.insideAngular))}}(Zs())(E)}},2090:(xt,ge,U)=>{"use strict";U.d(ge,{$s:()=>ai,BH:()=>Pe,G6:()=>Be,L:()=>Te,LL:()=>ut,Pz:()=>Ne,Sg:()=>rt,UG:()=>le,US:()=>de,ZB:()=>te,ZR:()=>Kt,aH:()=>$e,b$:()=>on,eu:()=>Qe,hl:()=>tt,jU:()=>Mt,m9:()=>vi,ne:()=>_n,pd:()=>fn,r3:()=>nr,ru:()=>st,tV:()=>Z,uI:()=>yt,vZ:()=>oe,w1:()=>Ee,xO:()=>wn,xb:()=>ee,z$:()=>Ve,zI:()=>Ct,zd:()=>rn});const _e=function(q){const $=[];let Q=0;for(let Oe=0;Oe<q.length;Oe++){let ue=q.charCodeAt(Oe);ue<128?$[Q++]=ue:ue<2048?($[Q++]=ue>>6|192,$[Q++]=63&ue|128):55296==(64512&ue)&&Oe+1<q.length&&56320==(64512&q.charCodeAt(Oe+1))?(ue=65536+((1023&ue)<<10)+(1023&q.charCodeAt(++Oe)),$[Q++]=ue>>18|240,$[Q++]=ue>>12&63|128,$[Q++]=ue>>6&63|128,$[Q++]=63&ue|128):($[Q++]=ue>>12|224,$[Q++]=ue>>6&63|128,$[Q++]=63&ue|128)}return $},de={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(q,$){if(!Array.isArray(q))throw Error("encodeByteArray takes an array as a parameter");this.init_();const Q=$?this.byteToCharMapWebSafe_:this.byteToCharMap_,Oe=[];for(let ue=0;ue<q.length;ue+=3){const We=q[ue],Wt=ue+1<q.length,En=Wt?q[ue+1]:0,gr=ue+2<q.length,Xn=gr?q[ue+2]:0;let li=(15&En)<<2|Xn>>6,Ai=63&Xn;gr||(Ai=64,Wt||(li=64)),Oe.push(Q[We>>2],Q[(3&We)<<4|En>>4],Q[li],Q[Ai])}return Oe.join("")},encodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?btoa(q):this.encodeByteArray(_e(q),$)},decodeString(q,$){return this.HAS_NATIVE_SUPPORT&&!$?atob(q):function(q){const $=[];let Q=0,Oe=0;for(;Q<q.length;){const ue=q[Q++];if(ue<128)$[Oe++]=String.fromCharCode(ue);else if(ue>191&&ue<224){const We=q[Q++];$[Oe++]=String.fromCharCode((31&ue)<<6|63&We)}else if(ue>239&&ue<365){const gr=((7&ue)<<18|(63&q[Q++])<<12|(63&q[Q++])<<6|63&q[Q++])-65536;$[Oe++]=String.fromCharCode(55296+(gr>>10)),$[Oe++]=String.fromCharCode(56320+(1023&gr))}else{const We=q[Q++],Wt=q[Q++];$[Oe++]=String.fromCharCode((15&ue)<<12|(63&We)<<6|63&Wt)}}return $.join("")}(this.decodeStringToByteArray(q,$))},decodeStringToByteArray(q,$){this.init_();const Q=$?this.charToByteMapWebSafe_:this.charToByteMap_,Oe=[];for(let ue=0;ue<q.length;){const We=Q[q.charAt(ue++)],En=ue<q.length?Q[q.charAt(ue)]:0;++ue;const Xn=ue<q.length?Q[q.charAt(ue)]:64;++ue;const yn=ue<q.length?Q[q.charAt(ue)]:64;if(++ue,null==We||null==En||null==Xn||null==yn)throw new be;Oe.push(We<<2|En>>4),64!==Xn&&(Oe.push(En<<4&240|Xn>>2),64!==yn&&Oe.push(Xn<<6&192|yn))}return Oe},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let q=0;q<this.ENCODED_VALS.length;q++)this.byteToCharMap_[q]=this.ENCODED_VALS.charAt(q),this.charToByteMap_[this.byteToCharMap_[q]]=q,this.byteToCharMapWebSafe_[q]=this.ENCODED_VALS_WEBSAFE.charAt(q),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[q]]=q,q>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(q)]=q,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(q)]=q)}}};class be extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Te=function(q){return function(q){const $=_e(q);return de.encodeByteArray($,!0)}(q).replace(/\./g,"")},Z=function(q){try{return de.decodeString(q,!0)}catch($){console.error("base64Decode failed: ",$)}return null};function te(q,$){if(!($ instanceof Object))return $;switch($.constructor){case Date:return new Date($.getTime());case Object:void 0===q&&(q={});break;case Array:q=[];break;default:return $}for(const Q in $)!$.hasOwnProperty(Q)||!et(Q)||(q[Q]=te(q[Q],$[Q]));return q}function et(q){return"__proto__"!==q}const Le=()=>{try{return function Fe(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const q=process.env.__FIREBASE_DEFAULTS__;return q?JSON.parse(q):void 0})()||(()=>{if(typeof document>"u")return;let q;try{q=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const $=q&&Z(q[1]);return $&&JSON.parse($)})()}catch(q){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${q}`)}},$e=()=>{var q;return null===(q=Le())||void 0===q?void 0:q.config},Ne=q=>{var $;return null===($=Le())||void 0===$?void 0:$[`_${q}`]};class Pe{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(($,Q)=>{this.resolve=$,this.reject=Q})}wrapCallback($){return(Q,Oe)=>{Q?this.reject(Q):this.resolve(Oe),"function"==typeof $&&(this.promise.catch(()=>{}),1===$.length?$(Q):$(Q,Oe))}}}function rt(q,$){if(q.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const Oe=$||"demo-project",ue=q.iat||0,We=q.sub||q.user_id;if(!We)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const Wt=Object.assign({iss:`https://securetoken.google.com/${Oe}`,aud:Oe,iat:ue,exp:ue+3600,auth_time:ue,sub:We,user_id:We,firebase:{sign_in_provider:"custom",identities:{}}},q);return[Te(JSON.stringify({alg:"none",type:"JWT"})),Te(JSON.stringify(Wt)),""].join(".")}function Ve(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function yt(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ve())}function le(){var q;const $=null===(q=Le())||void 0===q?void 0:q.forceEnvironment;if("node"===$)return!0;if("browser"===$)return!1;try{return"[object process]"===Object.prototype.toString.call(global.process)}catch{return!1}}function Mt(){return"object"==typeof self&&self.self===self}function st(){const q="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof q&&void 0!==q.id}function on(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function Ee(){const q=Ve();return q.indexOf("MSIE ")>=0||q.indexOf("Trident/")>=0}function Be(){return!le()&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function tt(){try{return"object"==typeof indexedDB}catch{return!1}}function Qe(){return new Promise((q,$)=>{try{let Q=!0;const Oe="validate-browser-context-for-indexeddb-analytics-module",ue=self.indexedDB.open(Oe);ue.onsuccess=()=>{ue.result.close(),Q||self.indexedDB.deleteDatabase(Oe),q(!0)},ue.onupgradeneeded=()=>{Q=!1},ue.onerror=()=>{var We;$((null===(We=ue.error)||void 0===We?void 0:We.message)||"")}}catch(Q){$(Q)}})}function Ct(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class Kt extends Error{constructor($,Q,Oe){super(Q),this.code=$,this.customData=Oe,this.name="FirebaseError",Object.setPrototypeOf(this,Kt.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,ut.prototype.create)}}class ut{constructor($,Q,Oe){this.service=$,this.serviceName=Q,this.errors=Oe}create($,...Q){const Oe=Q[0]||{},ue=`${this.service}/${$}`,We=this.errors[$],Wt=We?function Ht(q,$){return q.replace(Rt,(Q,Oe)=>{const ue=$[Oe];return null!=ue?String(ue):`<${Oe}?>`})}(We,Oe):"Error";return new Kt(ue,`${this.serviceName}: ${Wt} (${ue}).`,Oe)}}const Rt=/\{\$([^}]+)}/g;function nr(q,$){return Object.prototype.hasOwnProperty.call(q,$)}function ee(q){for(const $ in q)if(Object.prototype.hasOwnProperty.call(q,$))return!1;return!0}function oe(q,$){if(q===$)return!0;const Q=Object.keys(q),Oe=Object.keys($);for(const ue of Q){if(!Oe.includes(ue))return!1;const We=q[ue],Wt=$[ue];if(Je(We)&&Je(Wt)){if(!oe(We,Wt))return!1}else if(We!==Wt)return!1}for(const ue of Oe)if(!Q.includes(ue))return!1;return!0}function Je(q){return null!==q&&"object"==typeof q}function wn(q){const $=[];for(const[Q,Oe]of Object.entries(q))Array.isArray(Oe)?Oe.forEach(ue=>{$.push(encodeURIComponent(Q)+"="+encodeURIComponent(ue))}):$.push(encodeURIComponent(Q)+"="+encodeURIComponent(Oe));return $.length?"&"+$.join("&"):""}function rn(q){const $={};return q.replace(/^\?/,"").split("&").forEach(Oe=>{if(Oe){const[ue,We]=Oe.split("=");$[decodeURIComponent(ue)]=decodeURIComponent(We)}}),$}function fn(q){const $=q.indexOf("?");if(!$)return"";const Q=q.indexOf("#",$);return q.substring($,Q>0?Q:void 0)}function _n(q,$){const Q=new _t(q,$);return Q.subscribe.bind(Q)}class _t{constructor($,Q){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=Q,this.task.then(()=>{$(this)}).catch(Oe=>{this.error(Oe)})}next($){this.forEachObserver(Q=>{Q.next($)})}error($){this.forEachObserver(Q=>{Q.error($)}),this.close($)}complete(){this.forEachObserver($=>{$.complete()}),this.close()}subscribe($,Q,Oe){let ue;if(void 0===$&&void 0===Q&&void 0===Oe)throw new Error("Missing Observer.");ue=function $r(q,$){if("object"!=typeof q||null===q)return!1;for(const Q of $)if(Q in q&&"function"==typeof q[Q])return!0;return!1}($,["next","error","complete"])?$:{next:$,error:Q,complete:Oe},void 0===ue.next&&(ue.next=zn),void 0===ue.error&&(ue.error=zn),void 0===ue.complete&&(ue.complete=zn);const We=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?ue.error(this.finalError):ue.complete()}catch{}}),this.observers.push(ue),We}unsubscribeOne($){void 0===this.observers||void 0===this.observers[$]||(delete this.observers[$],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver($){if(!this.finalized)for(let Q=0;Q<this.observers.length;Q++)this.sendOne(Q,$)}sendOne($,Q){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[$])try{Q(this.observers[$])}catch(Oe){typeof console<"u"&&console.error&&console.error(Oe)}})}close($){this.finalized||(this.finalized=!0,void 0!==$&&(this.finalError=$),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function zn(){}const An=1e3,yi=2,ar=144e5,Er=.5;function ai(q,$=An,Q=yi){const Oe=$*Math.pow(Q,q),ue=Math.round(Er*Oe*(Math.random()-.5)*2);return Math.min(ar,Oe+ue)}function vi(q){return q&&q._delegate?q._delegate:q}},6326:(xt,ge,U)=>{"use strict";var l=U(4650);let B=null;function V(){return B}class fe{}const de=new l.OlP("DocumentToken");let be=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function Me(){return(0,l.LFG)(Z)}()},providedIn:"platform"}),n})();const Te=new l.OlP("Location Initialized");let Z=(()=>{class n extends be{constructor(t){super(),this._doc=t,this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return V().getBaseHref(this._doc)}onPopState(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=V().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){K()?this._history.pushState(t,r,i):this._location.hash=i}replaceState(t,r,i){K()?this._history.replaceState(t,r,i):this._location.hash=i}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function te(){return new Z((0,l.LFG)(de))}()},providedIn:"platform"}),n})();function K(){return!!window.history.pushState}function et(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function Fe(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function it(n){return n&&"?"!==n[0]?"?"+n:n}let ht=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(Le)},providedIn:"root"}),n})();const we=new l.OlP("appBaseHref");let Le=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,l.f3M)(de).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return et(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+it(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){const c=this.prepareExternalUrl(i+it(o));this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){const c=this.prepareExternalUrl(i+it(o));this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Se=(()=>{class n extends ht{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=et(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let c=this.prepareExternalUrl(i+it(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.pushState(t,r,c)}replaceState(t,r,i,o){let c=this.prepareExternalUrl(i+it(o));0==c.length&&(c=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,c)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(be),l.LFG(we,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Ze=(()=>{class n{constructor(t){this._subject=new l.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function rt(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(Fe(Pe(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+it(r))}normalize(t){return n.stripTrailingSlash(function Ne(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,Pe(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+it(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=it,n.joinWithSlash=et,n.stripTrailingSlash=Fe,n.\u0275fac=function(t){return new(t||n)(l.LFG(ht))},n.\u0275prov=l.Yz7({token:n,factory:function(){return function $e(){return new Ze((0,l.LFG)(ht))}()},providedIn:"root"}),n})();function Pe(n){return n.replace(/\/index.html$/,"")}var yt=(()=>((yt=yt||{})[yt.Decimal=0]="Decimal",yt[yt.Percent=1]="Percent",yt[yt.Currency=2]="Currency",yt[yt.Scientific=3]="Scientific",yt))(),Mt=(()=>((Mt=Mt||{})[Mt.Format=0]="Format",Mt[Mt.Standalone=1]="Standalone",Mt))(),st=(()=>((st=st||{})[st.Narrow=0]="Narrow",st[st.Abbreviated=1]="Abbreviated",st[st.Wide=2]="Wide",st[st.Short=3]="Short",st))(),on=(()=>((on=on||{})[on.Short=0]="Short",on[on.Medium=1]="Medium",on[on.Long=2]="Long",on[on.Full=3]="Full",on))(),bt=(()=>((bt=bt||{})[bt.Decimal=0]="Decimal",bt[bt.Group=1]="Group",bt[bt.List=2]="List",bt[bt.PercentSign=3]="PercentSign",bt[bt.PlusSign=4]="PlusSign",bt[bt.MinusSign=5]="MinusSign",bt[bt.Exponential=6]="Exponential",bt[bt.SuperscriptingExponent=7]="SuperscriptingExponent",bt[bt.PerMille=8]="PerMille",bt[bt.Infinity=9]="Infinity",bt[bt.NaN=10]="NaN",bt[bt.TimeSeparator=11]="TimeSeparator",bt[bt.CurrencyDecimal=12]="CurrencyDecimal",bt[bt.CurrencyGroup=13]="CurrencyGroup",bt))();function ke(n,e,t){const r=(0,l.cg1)(n),o=he([r[l.wAp.DayPeriodsFormat],r[l.wAp.DayPeriodsStandalone]],e);return he(o,t)}function Be(n,e,t){const r=(0,l.cg1)(n),o=he([r[l.wAp.DaysFormat],r[l.wAp.DaysStandalone]],e);return he(o,t)}function tt(n,e,t){const r=(0,l.cg1)(n),o=he([r[l.wAp.MonthsFormat],r[l.wAp.MonthsStandalone]],e);return he(o,t)}function Kt(n,e){return he((0,l.cg1)(n)[l.wAp.DateFormat],e)}function ut(n,e){return he((0,l.cg1)(n)[l.wAp.TimeFormat],e)}function Ht(n,e){return he((0,l.cg1)(n)[l.wAp.DateTimeFormat],e)}function Rt(n,e){const t=(0,l.cg1)(n),r=t[l.wAp.NumberSymbols][e];if(typeof r>"u"){if(e===bt.CurrencyDecimal)return t[l.wAp.NumberSymbols][bt.Decimal];if(e===bt.CurrencyGroup)return t[l.wAp.NumberSymbols][bt.Group]}return r}function wr(n){if(!n[l.wAp.ExtraData])throw new Error(`Missing extra locale data for the locale "${n[l.wAp.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function he(n,e){for(let t=e;t>-1;t--)if(typeof n[t]<"u")return n[t];throw new Error("Locale data API: locale data undefined")}function oe(n){const[e,t]=n.split(":");return{hours:+e,minutes:+t}}const rn=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,fn={},$t=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/;var _n=(()=>((_n=_n||{})[_n.Short=0]="Short",_n[_n.ShortGMT=1]="ShortGMT",_n[_n.Long=2]="Long",_n[_n.Extended=3]="Extended",_n))(),_t=(()=>((_t=_t||{})[_t.FullYear=0]="FullYear",_t[_t.Month=1]="Month",_t[_t.Date=2]="Date",_t[_t.Hours=3]="Hours",_t[_t.Minutes=4]="Minutes",_t[_t.Seconds=5]="Seconds",_t[_t.FractionalSeconds=6]="FractionalSeconds",_t[_t.Day=7]="Day",_t))(),nt=(()=>((nt=nt||{})[nt.DayPeriods=0]="DayPeriods",nt[nt.Days=1]="Days",nt[nt.Months=2]="Months",nt[nt.Eras=3]="Eras",nt))();function $r(n,e,t,r){let i=function ue(n){if(Wt(n))return n;if("number"==typeof n&&!isNaN(n))return new Date(n);if("string"==typeof n){if(n=n.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(n)){const[i,o=1,c=1]=n.split("-").map(f=>+f);return zn(i,o-1,c)}const t=parseFloat(n);if(!isNaN(n-t))return new Date(t);let r;if(r=n.match(rn))return function We(n){const e=new Date(0);let t=0,r=0;const i=n[8]?e.setUTCFullYear:e.setFullYear,o=n[8]?e.setUTCHours:e.setHours;n[9]&&(t=Number(n[9]+n[10]),r=Number(n[9]+n[11])),i.call(e,Number(n[1]),Number(n[2])-1,Number(n[3]));const c=Number(n[4]||0)-t,f=Number(n[5]||0)-r,_=Number(n[6]||0),b=Math.floor(1e3*parseFloat("0."+(n[7]||0)));return o.call(e,c,f,_,b),e}(r)}const e=new Date(n);if(!Wt(e))throw new Error(`Unable to convert "${n}" into a date`);return e}(n);e=Qn(t,e)||e;let f,c=[];for(;e;){if(f=$t.exec(e),!f){c.push(e);break}{c=c.concat(f.slice(1));const T=c.pop();if(!T)break;e=T}}let _=i.getTimezoneOffset();r&&(_=$(r,_),i=function Oe(n,e,t){const r=t?-1:1,i=n.getTimezoneOffset();return function Q(n,e){return(n=new Date(n.getTime())).setMinutes(n.getMinutes()+e),n}(n,r*($(e,i)-i))}(i,r,!0));let b="";return c.forEach(T=>{const M=function q(n){if(vi[n])return vi[n];let e;switch(n){case"G":case"GG":case"GGG":e=vn(nt.Eras,st.Abbreviated);break;case"GGGG":e=vn(nt.Eras,st.Wide);break;case"GGGGG":e=vn(nt.Eras,st.Narrow);break;case"y":e=On(_t.FullYear,1,0,!1,!0);break;case"yy":e=On(_t.FullYear,2,0,!0,!0);break;case"yyy":e=On(_t.FullYear,3,0,!1,!0);break;case"yyyy":e=On(_t.FullYear,4,0,!1,!0);break;case"Y":e=ts(1);break;case"YY":e=ts(2,!0);break;case"YYY":e=ts(3);break;case"YYYY":e=ts(4);break;case"M":case"L":e=On(_t.Month,1,1);break;case"MM":case"LL":e=On(_t.Month,2,1);break;case"MMM":e=vn(nt.Months,st.Abbreviated);break;case"MMMM":e=vn(nt.Months,st.Wide);break;case"MMMMM":e=vn(nt.Months,st.Narrow);break;case"LLL":e=vn(nt.Months,st.Abbreviated,Mt.Standalone);break;case"LLLL":e=vn(nt.Months,st.Wide,Mt.Standalone);break;case"LLLLL":e=vn(nt.Months,st.Narrow,Mt.Standalone);break;case"w":e=Zn(1);break;case"ww":e=Zn(2);break;case"W":e=Zn(1,!0);break;case"d":e=On(_t.Date,1);break;case"dd":e=On(_t.Date,2);break;case"c":case"cc":e=On(_t.Day,1);break;case"ccc":e=vn(nt.Days,st.Abbreviated,Mt.Standalone);break;case"cccc":e=vn(nt.Days,st.Wide,Mt.Standalone);break;case"ccccc":e=vn(nt.Days,st.Narrow,Mt.Standalone);break;case"cccccc":e=vn(nt.Days,st.Short,Mt.Standalone);break;case"E":case"EE":case"EEE":e=vn(nt.Days,st.Abbreviated);break;case"EEEE":e=vn(nt.Days,st.Wide);break;case"EEEEE":e=vn(nt.Days,st.Narrow);break;case"EEEEEE":e=vn(nt.Days,st.Short);break;case"a":case"aa":case"aaa":e=vn(nt.DayPeriods,st.Abbreviated);break;case"aaaa":e=vn(nt.DayPeriods,st.Wide);break;case"aaaaa":e=vn(nt.DayPeriods,st.Narrow);break;case"b":case"bb":case"bbb":e=vn(nt.DayPeriods,st.Abbreviated,Mt.Standalone,!0);break;case"bbbb":e=vn(nt.DayPeriods,st.Wide,Mt.Standalone,!0);break;case"bbbbb":e=vn(nt.DayPeriods,st.Narrow,Mt.Standalone,!0);break;case"B":case"BB":case"BBB":e=vn(nt.DayPeriods,st.Abbreviated,Mt.Format,!0);break;case"BBBB":e=vn(nt.DayPeriods,st.Wide,Mt.Format,!0);break;case"BBBBB":e=vn(nt.DayPeriods,st.Narrow,Mt.Format,!0);break;case"h":e=On(_t.Hours,1,-12);break;case"hh":e=On(_t.Hours,2,-12);break;case"H":e=On(_t.Hours,1);break;case"HH":e=On(_t.Hours,2);break;case"m":e=On(_t.Minutes,1);break;case"mm":e=On(_t.Minutes,2);break;case"s":e=On(_t.Seconds,1);break;case"ss":e=On(_t.Seconds,2);break;case"S":e=On(_t.FractionalSeconds,1);break;case"SS":e=On(_t.FractionalSeconds,2);break;case"SSS":e=On(_t.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=An(_n.Short);break;case"ZZZZZ":e=An(_n.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=An(_n.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=An(_n.Long);break;default:return null}return vi[n]=e,e}(T);b+=M?M(i,t,_):"''"===T?"'":T.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),b}function zn(n,e,t){const r=new Date(0);return r.setFullYear(n,e,t),r.setHours(0,0,0),r}function Qn(n,e){const t=function Ce(n){return(0,l.cg1)(n)[l.wAp.LocaleId]}(n);if(fn[t]=fn[t]||{},fn[t][e])return fn[t][e];let r="";switch(e){case"shortDate":r=Kt(n,on.Short);break;case"mediumDate":r=Kt(n,on.Medium);break;case"longDate":r=Kt(n,on.Long);break;case"fullDate":r=Kt(n,on.Full);break;case"shortTime":r=ut(n,on.Short);break;case"mediumTime":r=ut(n,on.Medium);break;case"longTime":r=ut(n,on.Long);break;case"fullTime":r=ut(n,on.Full);break;case"short":const i=Qn(n,"shortTime"),o=Qn(n,"shortDate");r=Tn(Ht(n,on.Short),[i,o]);break;case"medium":const c=Qn(n,"mediumTime"),f=Qn(n,"mediumDate");r=Tn(Ht(n,on.Medium),[c,f]);break;case"long":const _=Qn(n,"longTime"),b=Qn(n,"longDate");r=Tn(Ht(n,on.Long),[_,b]);break;case"full":const T=Qn(n,"fullTime"),M=Qn(n,"fullDate");r=Tn(Ht(n,on.Full),[T,M])}return r&&(fn[t][e]=r),r}function Tn(n,e){return e&&(n=n.replace(/\{([^}]+)}/g,function(t,r){return null!=e&&r in e?e[r]:t})),n}function kn(n,e,t="-",r,i){let o="";(n<0||i&&n<=0)&&(i?n=1-n:(n=-n,o=t));let c=String(n);for(;c.length<e;)c="0"+c;return r&&(c=c.slice(c.length-e)),o+c}function On(n,e,t=0,r=!1,i=!1){return function(o,c){let f=function gs(n,e){switch(n){case _t.FullYear:return e.getFullYear();case _t.Month:return e.getMonth();case _t.Date:return e.getDate();case _t.Hours:return e.getHours();case _t.Minutes:return e.getMinutes();case _t.Seconds:return e.getSeconds();case _t.FractionalSeconds:return e.getMilliseconds();case _t.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${n}".`)}}(n,o);if((t>0||f>-t)&&(f+=t),n===_t.Hours)0===f&&-12===t&&(f=12);else if(n===_t.FractionalSeconds)return function or(n,e){return kn(n,3).substring(0,e)}(f,e);const _=Rt(c,bt.MinusSign);return kn(f,e,_,r,i)}}function vn(n,e,t=Mt.Format,r=!1){return function(i,o){return function ms(n,e,t,r,i,o){switch(t){case nt.Months:return tt(e,i,r)[n.getMonth()];case nt.Days:return Be(e,i,r)[n.getDay()];case nt.DayPeriods:const c=n.getHours(),f=n.getMinutes();if(o){const b=function nr(n){const e=(0,l.cg1)(n);return wr(e),(e[l.wAp.ExtraData][2]||[]).map(r=>"string"==typeof r?oe(r):[oe(r[0]),oe(r[1])])}(e),T=function se(n,e,t){const r=(0,l.cg1)(n);wr(r);const o=he([r[l.wAp.ExtraData][0],r[l.wAp.ExtraData][1]],e)||[];return he(o,t)||[]}(e,i,r),M=b.findIndex(F=>{if(Array.isArray(F)){const[L,z]=F,J=c>=L.hours&&f>=L.minutes,ae=c<z.hours||c===z.hours&&f<z.minutes;if(L.hours<z.hours){if(J&&ae)return!0}else if(J||ae)return!0}else if(F.hours===c&&F.minutes===f)return!0;return!1});if(-1!==M)return T[M]}return ke(e,i,r)[c<12?0:1];case nt.Eras:return function Qe(n,e){return he((0,l.cg1)(n)[l.wAp.Eras],e)}(e,r)[n.getFullYear()<=0?0:1];default:throw new Error(`unexpected translation type ${t}`)}}(i,o,n,e,t,r)}}function An(n){return function(e,t,r){const i=-1*r,o=Rt(t,bt.MinusSign),c=i>0?Math.floor(i/60):Math.ceil(i/60);switch(n){case _n.Short:return(i>=0?"+":"")+kn(c,2,o)+kn(Math.abs(i%60),2,o);case _n.ShortGMT:return"GMT"+(i>=0?"+":"")+kn(c,1,o);case _n.Long:return"GMT"+(i>=0?"+":"")+kn(c,2,o)+":"+kn(Math.abs(i%60),2,o);case _n.Extended:return 0===r?"Z":(i>=0?"+":"")+kn(c,2,o)+":"+kn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${n}"`)}}}const yi=0,ar=4;function ai(n){return zn(n.getFullYear(),n.getMonth(),n.getDate()+(ar-n.getDay()))}function Zn(n,e=!1){return function(t,r){let i;if(e){const o=new Date(t.getFullYear(),t.getMonth(),1).getDay()-1,c=t.getDate();i=1+Math.floor((c+o)/7)}else{const o=ai(t),c=function Er(n){const e=zn(n,yi,1).getDay();return zn(n,0,1+(e<=ar?ar:ar+7)-e)}(o.getFullYear()),f=o.getTime()-c.getTime();i=1+Math.round(f/6048e5)}return kn(i,n,Rt(r,bt.MinusSign))}}function ts(n,e=!1){return function(t,r){return kn(ai(t).getFullYear(),n,Rt(r,bt.MinusSign),e)}}const vi={};function $(n,e){n=n.replace(/:/g,"");const t=Date.parse("Jan 01, 1970 00:00:00 "+n)/6e4;return isNaN(t)?e:t}function Wt(n){return n instanceof Date&&!isNaN(n.valueOf())}const En=/^(\d+)?\.((\d+)(-(\d+))?)?$/,gr=22,Xn=".",xn="0",yn=";",li=",",Ai="#";function Dn(n){const e=parseInt(n);if(isNaN(e))throw new Error("Invalid integer literal when parsing "+n);return e}function To(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,o]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}class mr{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return 0===this.index}get last(){return this.index===this.count-1}get even(){return this.index%2==0}get odd(){return!this.even}}let ui=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;const t=this._ngForOf;!this._differ&&t&&(this._differ=this._differs.find(t).create(this.ngForTrackBy))}if(this._differ){const t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){const r=this._viewContainer;t.forEachOperation((i,o,c)=>{if(null==i.previousIndex)r.createEmbeddedView(this._template,new mr(i.item,this._ngForOf,-1,-1),null===c?void 0:c);else if(null==c)r.remove(null===o?void 0:o);else if(null!==o){const f=r.get(o);r.move(f,c),lr(f,i)}});for(let i=0,o=r.length;i<o;i++){const f=r.get(i).context;f.index=i,f.count=o,f.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{lr(r.get(i.currentIndex),i)})}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc),l.Y36(l.ZZ4))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0}),n})();function lr(n,e){n.context.$implicit=e.item}let ur=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new ln,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){Sa("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){Sa("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b),l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0}),n})();class ln{constructor(){this.$implicit=null,this.ngIf=null}}function Sa(n,e){if(e&&!e.createEmbeddedView)throw new Error(`${n} must be a TemplateRef, but received '${(0,l.AaK)(e)}'.`)}let jn=(()=>{class n{constructor(t){this._viewContainerRef=t,this._viewRef=null,this.ngTemplateOutletContext=null,this.ngTemplateOutlet=null,this.ngTemplateOutletInjector=null}ngOnChanges(t){if(t.ngTemplateOutlet||t.ngTemplateOutletInjector){const r=this._viewContainerRef;if(this._viewRef&&r.remove(r.indexOf(this._viewRef)),this.ngTemplateOutlet){const{ngTemplateOutlet:i,ngTemplateOutletContext:o,ngTemplateOutletInjector:c}=this;this._viewRef=r.createEmbeddedView(i,o,c?{injector:c}:void 0)}else this._viewRef=null}else this._viewRef&&t.ngTemplateOutletContext&&this.ngTemplateOutletContext&&(this._viewRef.context=this.ngTemplateOutletContext)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.s_b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngTemplateOutlet",""]],inputs:{ngTemplateOutletContext:"ngTemplateOutletContext",ngTemplateOutlet:"ngTemplateOutlet",ngTemplateOutletInjector:"ngTemplateOutletInjector"},standalone:!0,features:[l.TTD]}),n})();function Ni(n,e){return new l.vHH(2100,!1)}class Fs{createSubscription(e,t){return e.subscribe({next:t,error:r=>{throw r}})}dispose(e){e.unsubscribe()}}class Xl{createSubscription(e,t){return e.then(t,r=>{throw r})}dispose(e){}}const Ao=new Xl,ao=new Fs;let lo=(()=>{class n{constructor(t){this._latestValue=null,this._subscription=null,this._obj=null,this._strategy=null,this._ref=t}ngOnDestroy(){this._subscription&&this._dispose(),this._ref=null}transform(t){return this._obj?t!==this._obj?(this._dispose(),this.transform(t)):this._latestValue:(t&&this._subscribe(t),this._latestValue)}_subscribe(t){this._obj=t,this._strategy=this._selectStrategy(t),this._subscription=this._strategy.createSubscription(t,r=>this._updateLatestValue(t,r))}_selectStrategy(t){if((0,l.QGY)(t))return Ao;if((0,l.F4k)(t))return ao;throw Ni()}_dispose(){this._strategy.dispose(this._subscription),this._latestValue=null,this._subscription=null,this._obj=null}_updateLatestValue(t,r){t===this._obj&&(this._latestValue=r,this._ref.markForCheck())}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO,16))},n.\u0275pipe=l.Yjl({name:"async",type:n,pure:!1,standalone:!0}),n})(),nu=(()=>{class n{constructor(t){this._locale=t}transform(t,r,i){if(!function Aa(n){return!(null==n||""===n||n!=n)}(t))return null;i=i||this._locale;try{return function ze(n,e,t){return function ve(n,e,t,r,i,o,c=!1){let f="",_=!1;if(isFinite(n)){let b=function Bt(n){let r,i,o,c,f,e=Math.abs(n)+"",t=0;for((i=e.indexOf(Xn))>-1&&(e=e.replace(Xn,"")),(o=e.search(/e/i))>0?(i<0&&(i=o),i+=+e.slice(o+1),e=e.substring(0,o)):i<0&&(i=e.length),o=0;e.charAt(o)===xn;o++);if(o===(f=e.length))r=[0],i=1;else{for(f--;e.charAt(f)===xn;)f--;for(i-=o,r=[],c=0;o<=f;o++,c++)r[c]=Number(e.charAt(o))}return i>gr&&(r=r.splice(0,gr-1),t=i-1,i=1),{digits:r,exponent:t,integerLen:i}}(n);c&&(b=function an(n){if(0===n.digits[0])return n;const e=n.digits.length-n.integerLen;return n.exponent?n.exponent+=2:(0===e?n.digits.push(0,0):1===e&&n.digits.push(0),n.integerLen+=2),n}(b));let T=e.minInt,M=e.minFrac,F=e.maxFrac;if(o){const Ue=o.match(En);if(null===Ue)throw new Error(`${o} is not a valid digit info`);const qe=Ue[1],Ye=Ue[3],dt=Ue[5];null!=qe&&(T=Dn(qe)),null!=Ye&&(M=Dn(Ye)),null!=dt?F=Dn(dt):null!=Ye&&M>F&&(F=M)}!function Cn(n,e,t){if(e>t)throw new Error(`The minimum number of digits after fraction (${e}) is higher than the maximum (${t}).`);let r=n.digits,i=r.length-n.integerLen;const o=Math.min(Math.max(e,i),t);let c=o+n.integerLen,f=r[c];if(c>0){r.splice(Math.max(n.integerLen,c));for(let M=c;M<r.length;M++)r[M]=0}else{i=Math.max(0,i),n.integerLen=1,r.length=Math.max(1,c=o+1),r[0]=0;for(let M=1;M<c;M++)r[M]=0}if(f>=5)if(c-1<0){for(let M=0;M>c;M--)r.unshift(0),n.integerLen++;r.unshift(1),n.integerLen++}else r[c-1]++;for(;i<Math.max(0,o);i++)r.push(0);let _=0!==o;const b=e+n.integerLen,T=r.reduceRight(function(M,F,L,z){return z[L]=(F+=M)<10?F:F-10,_&&(0===z[L]&&L>=b?z.pop():_=!1),F>=10?1:0},0);T&&(r.unshift(T),n.integerLen++)}(b,M,F);let L=b.digits,z=b.integerLen;const J=b.exponent;let ae=[];for(_=L.every(Ue=>!Ue);z<T;z++)L.unshift(0);for(;z<0;z++)L.unshift(0);z>0?ae=L.splice(z,L.length):(ae=L,L=[0]);const Ae=[];for(L.length>=e.lgSize&&Ae.unshift(L.splice(-e.lgSize,L.length).join(""));L.length>e.gSize;)Ae.unshift(L.splice(-e.gSize,L.length).join(""));L.length&&Ae.unshift(L.join("")),f=Ae.join(Rt(t,r)),ae.length&&(f+=Rt(t,i)+ae.join("")),J&&(f+=Rt(t,bt.Exponential)+"+"+J)}else f=Rt(t,bt.Infinity);return f=n<0&&!_?e.negPre+f+e.negSuf:e.posPre+f+e.posSuf,f}(n,function Gt(n,e="-"){const t={minInt:1,minFrac:0,maxFrac:0,posPre:"",posSuf:"",negPre:"",negSuf:"",gSize:0,lgSize:0},r=n.split(yn),i=r[0],o=r[1],c=-1!==i.indexOf(Xn)?i.split(Xn):[i.substring(0,i.lastIndexOf(xn)+1),i.substring(i.lastIndexOf(xn)+1)],f=c[0],_=c[1]||"";t.posPre=f.substring(0,f.indexOf(Ai));for(let T=0;T<_.length;T++){const M=_.charAt(T);M===xn?t.minFrac=t.maxFrac=T+1:M===Ai?t.maxFrac=T+1:t.posSuf+=M}const b=f.split(li);if(t.gSize=b[1]?b[1].length:0,t.lgSize=b[2]||b[1]?(b[2]||b[1]).length:0,o){const T=i.length-t.posPre.length-t.posSuf.length,M=o.indexOf(Ai);t.negPre=o.substring(0,M).replace(/'/g,""),t.negSuf=o.slice(M+T).replace(/'/g,"")}else t.negPre=e+t.posPre,t.negSuf=t.posSuf;return t}(function bn(n,e){return(0,l.cg1)(n)[l.wAp.NumberFormats][e]}(e,yt.Percent),Rt(e,bt.MinusSign)),e,bt.Group,bt.Decimal,t,!0).replace(new RegExp("%","g"),Rt(e,bt.PercentSign))}(function ru(n){if("string"==typeof n&&!isNaN(Number(n)-parseFloat(n)))return Number(n);if("number"!=typeof n)throw new Error(`${n} is not a number`);return n}(t),i,r)}catch(o){throw Ni()}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.soG,16))},n.\u0275pipe=l.Yjl({name:"percent",type:n,pure:!0,standalone:!0}),n})();let Wi=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const _d="browser",Qu="server";function Bs(n){return n===Qu}let No=(()=>{class n{}return n.\u0275prov=(0,l.Yz7)({token:n,providedIn:"root",factory:()=>new ec((0,l.LFG)(de),window)}),n})();class ec{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function co(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&(n.body.createShadowRoot||n.body.attachShadow)){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const o=i.shadowRoot;if(o){const c=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(c)return c}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=iu(this.window.history)||iu(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function iu(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class Na{}class hc extends fe{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class hu extends hc{static makeCurrent(){!function _e(n){B||(B=n)}(new hu)}onAndCancel(e,t,r){return e.addEventListener(t,r,!1),()=>{e.removeEventListener(t,r,!1)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function ta(){return ea=ea||document.querySelector("base"),ea?ea.getAttribute("href"):null}();return null==t?null:function fu(n){zs=zs||document.createElement("a"),zs.setAttribute("href",n);const e=zs.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){ea=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return To(document.cookie,e)}}let zs,ea=null;const I=new l.OlP("TRANSITION_ID"),R=[{provide:l.ip1,useFactory:function C(n,e,t){return()=>{t.get(l.CZH).donePromise.then(()=>{const r=V(),i=e.querySelectorAll(`style[ng-transition="${n}"]`);for(let o=0;o<i.length;o++)r.remove(i[o])})}},deps:[I,de,l.zs3],multi:!0}];let De=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Ft=new l.OlP("EventManagerPlugins");let Pn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}addGlobalEventListener(t,r,i){return this._findPluginFor(r).addGlobalEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){const r=this._eventNameToPlugin.get(t);if(r)return r;const i=this._plugins;for(let o=0;o<i.length;o++){const c=i[o];if(c.supports(t))return this._eventNameToPlugin.set(t,c),c}throw new Error(`No event manager plugin found for event ${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Ft),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class kr{constructor(e){this._doc=e}addGlobalEventListener(e,t,r){const i=V().getGlobalEventTarget(this._doc,e);if(!i)throw new Error(`Unsupported event target ${i} for event ${t}`);return this.addEventListener(i,t,r)}}let Wr=(()=>{class n{constructor(){this.usageCount=new Map}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)0===this.changeUsageCount(r,-1)&&this.onStyleRemoved(r)}onStyleRemoved(t){}onStyleAdded(t){}getAllStyles(){return this.usageCount.keys()}changeUsageCount(t,r){const i=this.usageCount;let o=i.get(t)??0;return o+=r,o>0?i.set(t,o):i.delete(t),o}ngOnDestroy(){for(const t of this.getAllStyles())this.onStyleRemoved(t);this.usageCount.clear()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Zi=(()=>{class n extends Wr{constructor(t){super(),this.doc=t,this.styleRef=new Map,this.hostNodes=new Set,this.resetHostNodes()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.forEach(o=>o.remove()),r.delete(t)}ngOnDestroy(){super.ngOnDestroy(),this.styleRef.clear(),this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}addStyleToHost(t,r){const i=this.doc.createElement("style");i.textContent=r,t.appendChild(i);const o=this.styleRef.get(r);o?o.push(i):this.styleRef.set(r,[i])}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const qs={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},fc=/%COMP%/g,pu=new l.OlP("RemoveStylesOnCompDestory",{providedIn:"root",factory:()=>!1});function jh(n,e){return e.flat(100).map(t=>t.replace(fc,n))}function Ua(n){return e=>{if("__ngUnwrap__"===e)return n;!1===n(e)&&(e.preventDefault(),e.returnValue=!1)}}let Es=(()=>{class n{constructor(t,r,i,o){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestory=o,this.rendererByCompId=new Map,this.defaultRenderer=new Fo(t)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;const i=this.getOrCreateRenderer(t,r);return i instanceof Gh?i.applyToHost(t):i instanceof qn&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let o=i.get(r.id);if(!o){const c=this.eventManager,f=this.sharedStylesHost,_=this.removeStylesOnCompDestory;switch(r.encapsulation){case l.ifc.Emulated:o=new Gh(c,f,r,this.appId,_);break;case l.ifc.ShadowDom:return new $h(c,f,t,r);default:o=new qn(c,f,r,_)}o.onDestroy=()=>i.delete(r.id),i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}begin(){}end(){}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Pn),l.LFG(Zi),l.LFG(l.AFp),l.LFG(pu))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class Fo{constructor(e){this.eventManager=e,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?document.createElementNS(qs[t]||t,e):document.createElement(e)}createComment(e){return document.createComment(e)}createText(e){return document.createTextNode(e)}appendChild(e,t){(Rl(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(Rl(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?document.querySelector(e):e;if(!r)throw new Error(`The selector "${e}" did not match any elements`);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const o=qs[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=qs[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(l.JOm.DashCase|l.JOm.Important)?e.style.setProperty(t,r,i&l.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&l.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){return"string"==typeof e?this.eventManager.addGlobalEventListener(e,t,Ua(r)):this.eventManager.addEventListener(e,t,Ua(r))}}function Rl(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class $h extends Fo{constructor(e,t,r,i){super(e),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const o=jh(i.id,i.styles);for(const c of o){const f=document.createElement("style");f.textContent=c,this.shadowRoot.appendChild(f)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class qn extends Fo{constructor(e,t,r,i,o=r.id){super(e),this.sharedStylesHost=t,this.removeStylesOnCompDestory=i,this.rendererUsageCount=0,this.styles=jh(o,r.styles)}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestory&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Gh extends qn{constructor(e,t,r,i,o){const c=i+"-"+r.id;super(e,t,r,o,c),this.contentAttr=function Sp(n){return"_ngcontent-%COMP%".replace(fc,n)}(c),this.hostAttr=function gc(n){return"_nghost-%COMP%".replace(fc,n)}(c)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let mc=(()=>{class n extends kr{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const wd=["alt","control","meta","shift"],_c={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},yc={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let Xr=(()=>{class n extends kr{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const o=n.parseEventName(r),c=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>V().onAndCancel(t,o.domEventName,c))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const o=n._normalizeKey(r.pop());let c="",f=r.indexOf("code");if(f>-1&&(r.splice(f,1),c="code."),wd.forEach(b=>{const T=r.indexOf(b);T>-1&&(r.splice(T,1),c+=b+".")}),c+=o,0!=r.length||0===o.length)return null;const _={};return _.domEventName=i,_.fullKey=c,_}static matchEventFullKeyCode(t,r){let i=_c[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),wd.forEach(c=>{c!==i&&(0,yc[c])(t)&&(o+=c+".")}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const Dd=(0,l.eFA)(l._c5,"browser",[{provide:l.Lbi,useValue:_d},{provide:l.g9A,useValue:function Lo(){hu.makeCurrent()},multi:!0},{provide:de,useFactory:function vc(){return(0,l.RDi)(document),document},deps:[]}]),_u=new l.OlP(""),Pl=[{provide:l.rWj,useClass:class G{addToWindow(e){l.dqk.getAngularTestability=(r,i=!0)=>{const o=e.findTestabilityInTree(r,i);if(null==o)throw new Error("Could not find testability for element.");return o},l.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),l.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),l.dqk.frameworkStabilizers||(l.dqk.frameworkStabilizers=[]),l.dqk.frameworkStabilizers.push(r=>{const i=l.dqk.getAllAngularTestabilities();let o=i.length,c=!1;const f=function(_){c=c||_,o--,0==o&&r(c)};i.forEach(function(_){_.whenStable(f)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?V().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:l.lri,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]},{provide:l.dDg,useClass:l.dDg,deps:[l.R0b,l.eoX,l.rWj]}],ra=[{provide:l.zSh,useValue:"root"},{provide:l.qLn,useFactory:function Cp(){return new l.qLn},deps:[]},{provide:Ft,useClass:mc,multi:!0,deps:[de,l.R0b,l.Lbi]},{provide:Ft,useClass:Xr,multi:!0,deps:[de]},{provide:Es,useClass:Es,deps:[Pn,Zi,l.AFp,pu]},{provide:l.FYo,useExisting:Es},{provide:Wr,useExisting:Zi},{provide:Zi,useClass:Zi,deps:[de]},{provide:Pn,useClass:Pn,deps:[Ft,l.R0b]},{provide:Na,useClass:De,deps:[]},[]];let ja=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:l.AFp,useValue:t.appId},{provide:I,useExisting:l.AFp},R]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(_u,12))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[...ra,...Pl],imports:[Wi,l.hGG]}),n})(),Np=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Ga(){return new Np((0,l.LFG)(de))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var Bn=U(8996),Pi=U(3269);function At(...n){const e=(0,Pi.yG)(n);return(0,Bn.D)(n,e)}var Mn=U(7579);class Un extends Mn.x{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){const t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){const{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}}const wu=(0,U(3888).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var Kr=U(9751);const{isArray:Tc}=Array,{getPrototypeOf:Ad,prototype:Ds,keys:kl}=Object;function Eu(n){if(1===n.length){const e=n[0];if(Tc(e))return{args:e,keys:null};if(function Du(n){return n&&"object"==typeof n&&Ad(n)===Ds}(e)){const t=kl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var Bo=U(4671),Pt=U(4004);const{isArray:Nd}=Array;function Uo(n){return(0,Pt.U)(e=>function Ic(n,e){return Nd(e)?n(...e):n(e)}(n,e))}function ia(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var yr=U(5403),Md=U(9672);function Tu(...n){const e=(0,Pi.yG)(n),t=(0,Pi.jO)(n),{args:r,keys:i}=Eu(n);if(0===r.length)return(0,Bn.D)([],e);const o=new Kr.y(function Wa(n,e,t=Bo.y){return r=>{Ka(e,()=>{const{length:i}=n,o=new Array(i);let c=i,f=i;for(let _=0;_<i;_++)Ka(e,()=>{const b=(0,Bn.D)(n[_],e);let T=!1;b.subscribe((0,yr.x)(r,M=>{o[_]=M,T||(T=!0,f--),f||r.next(t(o.slice()))},()=>{--c||r.complete()}))},r)},r)}}(r,e,i?c=>ia(i,c):Bo.y));return t?o.pipe(Uo(t)):o}function Ka(n,e,t){n?(0,Md.f)(t,n,e):e()}var Sc=U(8189);function Fl(...n){return function Wh(){return(0,Sc.J)(1)}()((0,Bn.D)(n,(0,Pi.yG)(n)))}var is=U(8421);function Kh(n){return new Kr.y(e=>{(0,is.Xf)(n()).subscribe(e)})}var Pp=U(9635),Ts=U(576);function Iu(n,e){const t=(0,Ts.m)(n)?n:()=>n,r=i=>i.error(t());return new Kr.y(e?i=>e.schedule(r,0,i):r)}var ss=U(515),Su=U(727),ti=U(4482);function Od(){return(0,ti.e)((n,e)=>{let t=null;n._refCount++;const r=(0,yr.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class xd extends Kr.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ti.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new Su.w0;const t=this.getSubject();e.add(this.source.subscribe((0,yr.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=Su.w0.EMPTY)}return e}refCount(){return Od()(this)}}function Ir(n,e){return(0,ti.e)((t,r)=>{let i=null,o=0,c=!1;const f=()=>c&&!i&&r.complete();t.subscribe((0,yr.x)(r,_=>{i?.unsubscribe();let b=0;const T=o++;(0,is.Xf)(n(_,T)).subscribe(i=(0,yr.x)(r,M=>r.next(e?e(_,M,T,b++):M),()=>{i=null,f()}))},()=>{c=!0,f()}))})}function Sr(n){return n<=0?()=>ss.E:(0,ti.e)((e,t)=>{let r=0;e.subscribe((0,yr.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function go(...n){const e=(0,Pi.yG)(n);return(0,ti.e)((t,r)=>{(e?Fl(n,t,e):Fl(n,t)).subscribe(r)})}function ir(n,e){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,yr.x)(r,o=>n.call(e,o,i++)&&r.next(o)))})}var vr=U(5577);function Za(n){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,yr.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Rd(n=Ll){return(0,ti.e)((e,t)=>{let r=!1;e.subscribe((0,yr.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Ll(){return new wu}function Ks(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,o)=>n(i,o,r)):Bo.y,Sr(1),t?Za(e):Rd(()=>new wu))}function mo(n,e){return(0,Ts.m)(e)?(0,vr.z)(n,e,1):(0,vr.z)(n,1)}var Zr=U(8505);function Ya(n){return(0,ti.e)((e,t)=>{let o,r=null,i=!1;r=e.subscribe((0,yr.x)(t,void 0,void 0,c=>{o=(0,is.Xf)(n(c,Ya(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function Cc(n,e){return(0,ti.e)(function kp(n,e,t,r,i){return(o,c)=>{let f=t,_=e,b=0;o.subscribe((0,yr.x)(c,T=>{const M=b++;_=f?n(_,T,M):(f=!0,T),r&&c.next(_)},i&&(()=>{f&&c.next(_),c.complete()})))}}(n,e,arguments.length>=2,!0))}function Ac(n){return n<=0?()=>ss.E:(0,ti.e)((e,t)=>{let r=[];e.subscribe((0,yr.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Nc(n,e){const t=arguments.length>=2;return r=>r.pipe(n?ir((i,o)=>n(i,o,r)):Bo.y,Ac(1),t?Za(e):Rd(()=>new wu))}function Oc(n){return(0,ti.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const zt="primary",Zs=Symbol("RouteTitle");class xc{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function Is(n){return new xc(n)}function Fp(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let o=0;o<r.length;o++){const c=r[o],f=n[o];if(c.startsWith(":"))i[c.substring(1)]=f;else if(c!==f.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Ys(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!Yh(n[i],e[i]))return!1;return!0}function Yh(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}return n===e}function Jh(n){return Array.prototype.concat.apply([],n)}function Qh(n){return n.length>0?n[n.length-1]:null}function S(n,e){for(const t in n)n.hasOwnProperty(t)&&e(n[t],t)}function O(n){return(0,l.CqO)(n)?n:(0,l.QGY)(n)?(0,Bn.D)(Promise.resolve(n)):At(n)}const H=!1,Y={exact:function ot(n,e,t){if(!hi(n.segments,e.segments)||!ki(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!ot(n.children[r],e.children[r],t))return!1;return!0},subset:Xt},ne={exact:function lt(n,e){return Ys(n,e)},subset:function kt(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Yh(n[t],e[t]))},ignored:()=>!0};function me(n,e,t){return Y[t.paths](n.root,e.root,t.matrixParams)&&ne[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Xt(n,e,t){return en(n,e,e.segments,t)}function en(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!hi(i,t)||e.hasChildren()||!ki(i,t,r))}if(n.segments.length===t.length){if(!hi(n.segments,t)||!ki(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Xt(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!!(hi(n.segments,i)&&ki(n.segments,i,r)&&n.children[zt])&&en(n.children[zt],e,o,r)}}function ki(n,e,t){return e.every((r,i)=>ne[t](n[i].parameters,r.parameters))}class Wn{constructor(e=new sn([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return kd.serialize(this)}}class sn{constructor(e,t){this.segments=e,this.children=t,this.parent=null,S(t,(r,i)=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return Lp(this)}}class sa{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=Is(this.parameters)),this._parameterMap}toString(){return Lm(this)}}function hi(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return new Pd},providedIn:"root"}),n})();class Pd{parse(e){const t=new Ld(e);return new Wn(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${Cu(e.root,!0)}`,r=function ov(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${Qa(t)}=${Qa(i)}`).join("&"):`${Qa(t)}=${Qa(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function Bp(n){return encodeURI(n)}(e.fragment)}`:""}`}}const kd=new Pd;function Lp(n){return n.segments.map(e=>Lm(e)).join("/")}function Cu(n,e){if(!n.hasChildren())return Lp(n);if(e){const t=n.children[zt]?Cu(n.children[zt],!1):"",r=[];return S(n.children,(i,o)=>{o!==zt&&r.push(`${o}:${Cu(i,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Js(n,e){let t=[];return S(n.children,(r,i)=>{i===zt&&(t=t.concat(e(r,i)))}),S(n.children,(r,i)=>{i!==zt&&(t=t.concat(e(r,i)))}),t}(n,(r,i)=>i===zt?[Cu(n.children[zt],!1)]:[`${i}:${Cu(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[zt]?`${Lp(n)}/${t[0]}`:`${Lp(n)}/(${t.join("//")})`}}function Fd(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function Qa(n){return Fd(n).replace(/%3B/gi,";")}function Xa(n){return Fd(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Rc(n){return decodeURIComponent(n)}function Up(n){return Rc(n.replace(/\+/g,"%20"))}function Lm(n){return`${Xa(n.path)}${function Vp(n){return Object.keys(n).map(e=>`;${Xa(e)}=${Xa(n[e])}`).join("")}(n.parameters)}`}const Bm=/^[^\/()?;=#]+/;function Xh(n){const e=n.match(Bm);return e?e[0]:""}const Zw=/^[^=?&#]+/,av=/^[^&#]+/;class Ld{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new sn([],{}):new sn([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[zt]=new sn(e,t)),r}parseSegment(){const e=Xh(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new l.vHH(4009,H);return this.capture(e),new sa(Rc(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=Xh(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Xh(this.remaining);i&&(r=i,this.capture(r))}e[Rc(t)]=Rc(r)}parseQueryParam(e){const t=function Au(n){const e=n.match(Zw);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const c=function Um(n){const e=n.match(av);return e?e[0]:""}(this.remaining);c&&(r=c,this.capture(r))}const i=Up(t),o=Up(r);if(e.hasOwnProperty(i)){let c=e[i];Array.isArray(c)||(c=[c],e[i]=c),c.push(o)}else e[i]=o}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Xh(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new l.vHH(4010,H);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=zt);const c=this.parseChildren();t[o]=1===Object.keys(c).length?c[zt]:new sn([],c),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new l.vHH(4011,H)}}function ef(n){return n.segments.length>0?new sn([],{[zt]:n}):n}function Bl(n){const e={};for(const r of Object.keys(n.children)){const o=Bl(n.children[r]);(o.segments.length>0||o.hasChildren())&&(e[r]=o)}return function lv(n){if(1===n.numberOfChildren&&n.children[zt]){const e=n.children[zt];return new sn(n.segments.concat(e.segments),e.children)}return n}(new sn(n.segments,e))}function Nu(n){return n instanceof Wn}const Pc=!1;function Vm(n,e,t,r,i){if(0===t.length)return el(e.root,e.root,e.root,r,i);const o=function Vd(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new nf(!0,0,n);let e=0,t=!1;const r=n.reduce((i,o,c)=>{if("object"==typeof o&&null!=o){if(o.outlets){const f={};return S(o.outlets,(_,b)=>{f[b]="string"==typeof _?_.split("/"):_}),[...i,{outlets:f}]}if(o.segmentPath)return[...i,o.segmentPath]}return"string"!=typeof o?[...i,o]:0===c?(o.split("/").forEach((f,_)=>{0==_&&"."===f||(0==_&&""===f?t=!0:".."===f?e++:""!=f&&i.push(f))}),i):[...i,o]},[]);return new nf(t,e,r)}(t);return o.toRoot()?el(e.root,e.root,new sn([],{}),r,i):function c(_){const b=function rf(n,e,t,r){if(n.isAbsolute)return new Mu(e.root,!0,0);if(-1===r)return new Mu(t,t===e.root,0);return function Ou(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new l.vHH(4005,Pc&&"Invalid number of '../'");i=r.segments.length}return new Mu(r,!1,i-o)}(t,r+(Ud(n.commands[0])?0:1),n.numberOfDoubleDots)}(o,e,n.snapshot?._urlSegment,_),T=b.processChildren?Ho(b.segmentGroup,b.index,o.commands):af(b.segmentGroup,b.index,o.commands);return el(e.root,b.segmentGroup,T,r,i)}(n.snapshot?._lastPathIndex)}function Ud(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function tf(n){return"object"==typeof n&&null!=n&&n.outlets}function el(n,e,t,r,i){let c,o={};r&&S(r,(_,b)=>{o[b]=Array.isArray(_)?_.map(T=>`${T}`):`${_}`}),c=n===e?t:Hm(n,e,t);const f=ef(Bl(c));return new Wn(f,o,i)}function Hm(n,e,t){const r={};return S(n.children,(i,o)=>{r[o]=i===e?t:Hm(i,e,t)}),new sn(n.segments,r)}class nf{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&Ud(r[0]))throw new l.vHH(4003,Pc&&"Root segment cannot have matrix parameters");const i=r.find(tf);if(i&&i!==Qh(r))throw new l.vHH(4004,Pc&&"{outlets:{}} has to be the last command")}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class Mu{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function af(n,e,t){if(n||(n=new sn([],{})),0===n.segments.length&&n.hasChildren())return Ho(n,e,t);const r=function jp(n,e,t){let r=0,i=e;const o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;const c=n.segments[i],f=t[r];if(tf(f))break;const _=`${f}`,b=r<t.length-1?t[r+1]:null;if(i>0&&void 0===_)break;if(_&&b&&"object"==typeof b&&void 0===b.outlets){if(!Gp(_,b,c))return o;r+=2}else{if(!Gp(_,{},c))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const o=new sn(n.segments.slice(0,r.pathIndex),{});return o.children[zt]=new sn(n.segments.slice(r.pathIndex),n.children),Ho(o,0,i)}return r.match&&0===i.length?new sn(n.segments,{}):r.match&&!n.hasChildren()?Hd(n,e,t):r.match?Ho(n,0,i):Hd(n,e,t)}function Ho(n,e,t){if(0===t.length)return new sn(n.segments,{});{const r=function sf(n){return tf(n[0])?n[0].outlets:{[zt]:n}}(t),i={};if(!r[zt]&&n.children[zt]&&1===n.numberOfChildren&&0===n.children[zt].segments.length){const o=Ho(n.children[zt],e,t);return new sn(n.segments,o.children)}return S(r,(o,c)=>{"string"==typeof o&&(o=[o]),null!==o&&(i[c]=af(n.children[c],e,o))}),S(n.children,(o,c)=>{void 0===r[c]&&(i[c]=o)}),new sn(n.segments,i)}}function Hd(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const o=t[i];if(tf(o)){const _=jd(o.outlets);return new sn(r,_)}if(0===i&&Ud(t[0])){r.push(new sa(n.segments[e].path,$p(t[0]))),i++;continue}const c=tf(o)?o.outlets[zt]:`${o}`,f=i<t.length-1?t[i+1]:null;c&&f&&Ud(f)?(r.push(new sa(c,$p(f))),i+=2):(r.push(new sa(c,{})),i++)}return new sn(r,{})}function jd(n){const e={};return S(n,(t,r)=>{"string"==typeof t&&(t=[t]),null!==t&&(e[r]=Hd(new sn([],{}),0,t))}),e}function $p(n){const e={};return S(n,(t,r)=>e[r]=`${t}`),e}function Gp(n,e,t){return n==t.path&&Ys(e,t.parameters)}const $d="imperative";class aa{constructor(e,t){this.id=e,this.url=t}}class zp extends aa{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class _o extends aa{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Gd extends aa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class Vl extends aa{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class zd extends aa{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class kc extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class cv extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class dv extends aa{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class hv extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qp extends aa{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class qd{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class jm{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class $m{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Fc{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Wp{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class Ss{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class xu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}let Zp=(()=>{class n{createUrlTree(t,r,i,o,c,f){return Vm(t||r.root,i,o,c,f)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),fv=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(e){return Zp.\u0275fac(e)},providedIn:"root"}),n})();class Jp{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=Qp(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=Qp(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Fi(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Fi(e,this._root).map(t=>t.value)}}function Qp(n,e){if(n===e.value)return e;for(const t of e.children){const r=Qp(n,t);if(r)return r}return null}function Fi(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Fi(n,t);if(r.length)return r.unshift(e),r}return[]}class Cs{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Lc(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class pv extends Jp{constructor(e,t){super(e),this.snapshot=t,Ru(this,e)}toString(){return this.snapshot.toString()}}function gv(n,e){const t=function mv(n,e){const c=new uf([],{},{},"",{},zt,e,null,n.root,-1,{});return new la("",new Cs(c,[]))}(n,e),r=new Un([new sa("",{})]),i=new Un({}),o=new Un({}),c=new Un({}),f=new Un(""),_=new Di(r,i,c,f,o,zt,e,t.root);return _.snapshot=t.root,new pv(new Cs(_,[]),t)}class Di{constructor(e,t,r,i,o,c,f,_){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.title=this.data?.pipe((0,Pt.U)(b=>b[Zs]))??At(void 0),this._futureSnapshot=_}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,Pt.U)(e=>Is(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,Pt.U)(e=>Is(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function Xp(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],o=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(o.component)break;r--}}return function lf(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class uf{get title(){return this.data?.[Zs]}constructor(e,t,r,i,o,c,f,_,b,T,M){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=c,this.component=f,this.routeConfig=_,this._urlSegment=b,this._lastPathIndex=T,this._resolve=M}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=Is(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=Is(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class la extends Jp{constructor(e,t){super(t),this.url=e,Ru(this,t)}toString(){return eg(this._root)}}function Ru(n,e){e.value._routerState=n,e.children.forEach(t=>Ru(n,t))}function eg(n){const e=n.children.length>0?` { ${n.children.map(eg).join(", ")} } `:"";return`${n.value}${e}`}function Bc(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Ys(e.queryParams,t.queryParams)||n.queryParams.next(t.queryParams),e.fragment!==t.fragment&&n.fragment.next(t.fragment),Ys(e.params,t.params)||n.params.next(t.params),function Zh(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Ys(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.url.next(t.url),Ys(e.data,t.data)||n.data.next(t.data)}else n.snapshot=n._futureSnapshot,n.data.next(n._futureSnapshot.data)}function jo(n,e){const t=Ys(n.params,e.params)&&function Ja(n,e){return hi(n,e)&&n.every((t,r)=>Ys(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||jo(n.parent,e.parent))}function Uc(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function zm(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Uc(n,r,i);return Uc(n,r)})}(n,e,t);return new Cs(r,i)}{if(n.shouldAttach(e.value)){const o=n.retrieve(e.value);if(null!==o){const c=o.route;return c.value._futureSnapshot=e.value,c.children=e.children.map(f=>Uc(n,f)),c}}const r=function qm(n){return new Di(new Un(n.url),new Un(n.params),new Un(n.queryParams),new Un(n.fragment),new Un(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(o=>Uc(n,o));return new Cs(r,i)}}const Wm="ngNavigationCancelingError";function y(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Nu(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=p(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function p(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Wm]=!0,r.cancellationCode=e,t&&(r.url=t),r}function g(n){return w(n)&&Nu(n.url)}function w(n){return n&&n[Wm]}class N{constructor(){this.outlet=null,this.route=null,this.resolver=null,this.injector=null,this.children=new P,this.attachRef=null}}let P=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new N,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const W=!1;let ie=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=zt,this.activateEvents=new l.vpe,this.deactivateEvents=new l.vpe,this.attachEvents=new l.vpe,this.detachEvents=new l.vpe,this.parentContexts=(0,l.f3M)(P),this.location=(0,l.f3M)(l.s_b),this.changeDetector=(0,l.f3M)(l.sBO),this.environmentInjector=(0,l.f3M)(l.lqb)}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new l.vHH(4012,W);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new l.vHH(4012,W);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new l.vHH(4012,W);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new l.vHH(4013,W);this._activatedRoute=t;const i=this.location,c=t.snapshot.component,f=this.parentContexts.getOrCreateContext(this.name).children,_=new je(t,f,i.injector);if(r&&function at(n){return!!n.resolveComponentFactory}(r)){const b=r.resolveComponentFactory(c);this.activated=i.createComponent(b,i.length,_)}else this.activated=i.createComponent(c,{index:i.length,injector:_,environmentInjector:r??this.environmentInjector});this.changeDetector.markForCheck(),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[l.TTD]}),n})();class je{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Di?this.route:e===P?this.childContexts:this.parent.get(e,t)}}let wt=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[l.jDz],decls:1,vars:0,template:function(t,r){1&t&&l._UZ(0,"router-outlet")},dependencies:[ie],encapsulation:2}),n})();function It(n,e){return n.providers&&!n._injector&&(n._injector=(0,l.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}function Zd(n){const e=n.children&&n.children.map(Zd),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==zt&&(t.component=wt),t}function Qs(n){return n.outlet||zt}function cf(n,e){const t=n.filter(r=>Qs(r)===e);return t.push(...n.filter(r=>Qs(r)!==e)),t}function Vc(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class df{constructor(e,t,r,i){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),Bc(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Lc(t);e.children.forEach(o=>{const c=o.value.outlet;this.deactivateRoutes(o,i[c],r),delete i[c]}),S(i,(o,c)=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(i===o)if(i.component){const c=r.getContext(i.outlet);c&&this.deactivateChildRoutes(e,t,c.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Lc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);if(r&&r.outlet){const c=r.outlet.detach(),f=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:c,route:e,contexts:f})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=Lc(e);for(const c of Object.keys(o))this.deactivateRouteAndItsChildren(o[c],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.resolver=null,r.route=null)}activateChildRoutes(e,t,r){const i=Lc(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Ss(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Fc(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,o=t?t.value:null;if(Bc(i),i===o)if(i.component){const c=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,c.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const c=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const f=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),c.children.onOutletReAttached(f.contexts),c.attachRef=f.componentRef,c.route=f.route.value,c.outlet&&c.outlet.attach(f.componentRef,f.route.value),Bc(f.route.value),this.activateChildRoutes(e,null,c.children)}else{const f=Vc(i.snapshot),_=f?.get(l._Vd)??null;c.attachRef=null,c.route=i,c.resolver=_,c.injector=f,c.outlet&&c.outlet.activateWith(i,c.injector),this.activateChildRoutes(e,null,c.children)}}else this.activateChildRoutes(e,null,r)}}class vv{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class bv{constructor(e,t){this.component=e,this.route=t}}function tg(n,e,t){const r=n._root;return hf(r,e?e._root:null,t,[r.value])}function Yd(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,l.Z0I)(n)?e.get(n):n:r}function hf(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=Lc(e);return n.children.forEach(c=>{(function Yw(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const o=n.value,c=e?e.value:null,f=t?t.getContext(n.value.outlet):null;if(c&&o.routeConfig===c.routeConfig){const _=function II(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!hi(n.url,e.url);case"pathParamsOrQueryParamsChange":return!hi(n.url,e.url)||!Ys(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!jo(n,e)||!Ys(n.queryParams,e.queryParams);default:return!jo(n,e)}}(c,o,o.routeConfig.runGuardsAndResolvers);_?i.canActivateChecks.push(new vv(r)):(o.data=c.data,o._resolvedData=c._resolvedData),hf(n,e,o.component?f?f.children:null:t,r,i),_&&f&&f.outlet&&f.outlet.isActivated&&i.canDeactivateChecks.push(new bv(f.outlet.component,c))}else c&&ng(e,f,i),i.canActivateChecks.push(new vv(r)),hf(n,null,o.component?f?f.children:null:t,r,i)})(c,o[c.value.outlet],t,r.concat([c.value]),i),delete o[c.value.outlet]}),S(o,(c,f)=>ng(c,t.getContext(f),i)),i}function ng(n,e,t){const r=Lc(n),i=n.value;S(r,(o,c)=>{ng(o,i.component?e?e.children.getContext(c):null:e,t)}),t.canDeactivateChecks.push(new bv(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function ff(n){return"function"==typeof n}function ku(n){return n instanceof wu||"EmptyError"===n?.name}const Ym=Symbol("INITIAL_VALUE");function Hc(){return Ir(n=>Tu(n.map(e=>e.pipe(Sr(1),go(Ym)))).pipe((0,Pt.U)(e=>{for(const t of e)if(!0!==t){if(t===Ym)return Ym;if(!1===t||t instanceof Wn)return t}return!0}),ir(e=>e!==Ym),Sr(1)))}function Cv(n){return(0,Pp.z)((0,Zr.b)(e=>{if(Nu(e))throw y(0,e)}),(0,Pt.U)(e=>!0===e))}const Av={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function eE(n,e,t,r,i){const o=Nv(n,e,t);return o.matched?function pf(n,e,t,r){const i=e.canMatch;return i&&0!==i.length?At(i.map(c=>{const f=Yd(c,n);return O(function Tv(n){return n&&ff(n.canMatch)}(f)?f.canMatch(e,t):n.runInContext(()=>f(e,t)))})).pipe(Hc(),Cv()):At(!0)}(r=It(e,r),e,t).pipe((0,Pt.U)(c=>!0===c?o:{...Av})):At(o)}function Nv(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Av}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||Fp)(t,n,e);if(!i)return{...Av};const o={};S(i.posParams,(f,_)=>{o[_]=f.path});const c=i.consumed.length>0?{...o,...i.consumed[i.consumed.length-1].parameters}:o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:c,positionalParamSegments:i.posParams??{}}}function gf(n,e,t,r){if(t.length>0&&function xI(n,e,t){return t.some(r=>Mv(n,e,r)&&Qs(r)!==zt)}(n,t,r)){const o=new sn(e,function tE(n,e,t,r){const i={};i[zt]=r,r._sourceSegment=n,r._segmentIndexShift=e.length;for(const o of t)if(""===o.path&&Qs(o)!==zt){const c=new sn([],{});c._sourceSegment=n,c._segmentIndexShift=e.length,i[Qs(o)]=c}return i}(n,e,r,new sn(t,n.children)));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:[]}}if(0===t.length&&function nE(n,e,t){return t.some(r=>Mv(n,e,r))}(n,t,r)){const o=new sn(n.segments,function OI(n,e,t,r,i){const o={};for(const c of r)if(Mv(n,t,c)&&!i[Qs(c)]){const f=new sn([],{});f._sourceSegment=n,f._segmentIndexShift=e.length,o[Qs(c)]=f}return{...i,...o}}(n,e,t,r,n.children));return o._sourceSegment=n,o._segmentIndexShift=e.length,{segmentGroup:o,slicedSegments:t}}const i=new sn(n.segments,n.children);return i._sourceSegment=n,i._segmentIndexShift=e.length,{segmentGroup:i,slicedSegments:t}}function Mv(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}function rE(n,e,t,r){return!!(Qs(n)===r||r!==zt&&Mv(e,t,n))&&("**"===n.path||Nv(e,n,t).matched)}function mf(n,e,t){return 0===e.length&&!n.children[t]}const Xm=!1;class Fu{constructor(e){this.segmentGroup=e||null}}class _f{constructor(e){this.urlTree=e}}function rg(n){return Iu(new Fu(n))}function Ov(n){return Iu(new _f(n))}class iE{constructor(e,t,r,i,o){this.injector=e,this.configLoader=t,this.urlSerializer=r,this.urlTree=i,this.config=o,this.allowRedirects=!0}apply(){const e=gf(this.urlTree.root,[],[],this.config).segmentGroup,t=new sn(e.segments,e.children);return this.expandSegmentGroup(this.injector,this.config,t,zt).pipe((0,Pt.U)(o=>this.createUrlTree(Bl(o),this.urlTree.queryParams,this.urlTree.fragment))).pipe(Ya(o=>{if(o instanceof _f)return this.allowRedirects=!1,this.match(o.urlTree);throw o instanceof Fu?this.noMatchError(o):o}))}match(e){return this.expandSegmentGroup(this.injector,this.config,e.root,zt).pipe((0,Pt.U)(i=>this.createUrlTree(Bl(i),e.queryParams,e.fragment))).pipe(Ya(i=>{throw i instanceof Fu?this.noMatchError(i):i}))}noMatchError(e){return new l.vHH(4002,Xm)}createUrlTree(e,t,r){const i=ef(e);return new Wn(i,t,r)}expandSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.expandChildren(e,t,r).pipe((0,Pt.U)(o=>new sn([],o))):this.expandSegment(e,r,t,r.segments,i,!0)}expandChildren(e,t,r){const i=[];for(const o of Object.keys(r.children))"primary"===o?i.unshift(o):i.push(o);return(0,Bn.D)(i).pipe(mo(o=>{const c=r.children[o],f=cf(t,o);return this.expandSegmentGroup(e,f,c,o).pipe((0,Pt.U)(_=>({segment:_,outlet:o})))}),Cc((o,c)=>(o[c.outlet]=c.segment,o),{}),Nc())}expandSegment(e,t,r,i,o,c){return(0,Bn.D)(r).pipe(mo(f=>this.expandSegmentAgainstRoute(e,t,r,f,i,o,c).pipe(Ya(b=>{if(b instanceof Fu)return At(null);throw b}))),Ks(f=>!!f),Ya((f,_)=>{if(ku(f))return mf(t,i,o)?At(new sn([],{})):rg(t);throw f}))}expandSegmentAgainstRoute(e,t,r,i,o,c,f){return rE(i,t,o,c)?void 0===i.redirectTo?this.matchSegmentAgainstRoute(e,t,i,o,c):f&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c):rg(t):rg(t)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,c):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const o=this.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?Ov(o):this.lineralizeSegments(r,o).pipe((0,vr.z)(c=>{const f=new sn(c,{});return this.expandSegment(e,f,t,c,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,o,c){const{matched:f,consumedSegments:_,remainingSegments:b,positionalParamSegments:T}=Nv(t,i,o);if(!f)return rg(t);const M=this.applyRedirectCommands(_,i.redirectTo,T);return i.redirectTo.startsWith("/")?Ov(M):this.lineralizeSegments(i,M).pipe((0,vr.z)(F=>this.expandSegment(e,t,r,F.concat(b),c,!1)))}matchSegmentAgainstRoute(e,t,r,i,o){return"**"===r.path?(e=It(r,e),r.loadChildren?(r._loadedRoutes?At({routes:r._loadedRoutes,injector:r._loadedInjector}):this.configLoader.loadChildren(e,r)).pipe((0,Pt.U)(f=>(r._loadedRoutes=f.routes,r._loadedInjector=f.injector,new sn(i,{})))):At(new sn(i,{}))):eE(t,r,i,e).pipe(Ir(({matched:c,consumedSegments:f,remainingSegments:_})=>c?this.getChildConfig(e=r._injector??e,r,i).pipe((0,vr.z)(T=>{const M=T.injector??e,F=T.routes,{segmentGroup:L,slicedSegments:z}=gf(t,f,_,F),J=new sn(L.segments,L.children);if(0===z.length&&J.hasChildren())return this.expandChildren(M,F,J).pipe((0,Pt.U)(qe=>new sn(f,qe)));if(0===F.length&&0===z.length)return At(new sn(f,{}));const ae=Qs(r)===o;return this.expandSegment(M,J,F,z,ae?zt:o,!0).pipe((0,Pt.U)(Ue=>new sn(f.concat(Ue.segments),Ue.children)))})):rg(t)))}getChildConfig(e,t,r){return t.children?At({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?At({routes:t._loadedRoutes,injector:t._loadedInjector}):function MI(n,e,t,r){const i=e.canLoad;return void 0===i||0===i.length?At(!0):At(i.map(c=>{const f=Yd(c,n);return O(function Ev(n){return n&&ff(n.canLoad)}(f)?f.canLoad(e,t):n.runInContext(()=>f(e,t)))})).pipe(Hc(),Cv())}(e,t,r).pipe((0,vr.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Zr.b)(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):function PI(n){return Iu(p(Xm,3))}())):At({routes:[],injector:e})}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return At(r);if(i.numberOfChildren>1||!i.children[zt])return e.redirectTo,Iu(new l.vHH(4e3,Xm));i=i.children[zt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const o=this.createSegmentGroup(e,t.root,r,i);return new Wn(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return S(e,(i,o)=>{if("string"==typeof i&&i.startsWith(":")){const f=i.substring(1);r[o]=t[f]}else r[o]=i}),r}createSegmentGroup(e,t,r,i){const o=this.createSegments(e,t.segments,r,i);let c={};return S(t.children,(f,_)=>{c[_]=this.createSegmentGroup(e,f,r,i)}),new sn(o,c)}createSegments(e,t,r,i){return t.map(o=>o.path.startsWith(":")?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new l.vHH(4001,Xm);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}class xv{}class ig{constructor(e,t,r,i,o,c,f){this.injector=e,this.rootComponentType=t,this.config=r,this.urlTree=i,this.url=o,this.paramsInheritanceStrategy=c,this.urlSerializer=f}recognize(){const e=gf(this.urlTree.root,[],[],this.config.filter(t=>void 0===t.redirectTo)).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,zt).pipe((0,Pt.U)(t=>{if(null===t)return null;const r=new uf([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},zt,this.rootComponentType,null,this.urlTree.root,-1,{}),i=new Cs(r,t),o=new la(this.url,i);return this.inheritParamsAndData(o._root),o}))}inheritParamsAndData(e){const t=e.value,r=Xp(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i)}processChildren(e,t,r){return(0,Bn.D)(Object.keys(r.children)).pipe(mo(i=>{const o=r.children[i],c=cf(t,i);return this.processSegmentGroup(e,c,o,i)}),Cc((i,o)=>i&&o?(i.push(...o),i):null),function Vo(n,e=!1){return(0,ti.e)((t,r)=>{let i=0;t.subscribe((0,yr.x)(r,o=>{const c=n(o,i++);(c||e)&&r.next(o),!c&&r.complete()}))})}(i=>null!==i),Za(null),Nc(),(0,Pt.U)(i=>{if(null===i)return null;const o=oE(i);return function LI(n){n.sort((e,t)=>e.value.outlet===zt?-1:t.value.outlet===zt?1:e.value.outlet.localeCompare(t.value.outlet))}(o),o}))}processSegment(e,t,r,i,o){return(0,Bn.D)(t).pipe(mo(c=>this.processSegmentAgainstRoute(c._injector??e,c,r,i,o)),Ks(c=>!!c),Ya(c=>{if(ku(c))return mf(r,i,o)?At([]):At(null);throw c}))}processSegmentAgainstRoute(e,t,r,i,o){if(t.redirectTo||!rE(t,r,i,o))return At(null);let c;if("**"===t.path){const f=i.length>0?Qh(i).parameters:{},_=lE(r)+i.length;c=At({snapshot:new uf(i,f,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hl(t),Qs(t),t.component??t._loadedComponent??null,t,aE(r),_,uE(t)),consumedSegments:[],remainingSegments:[]})}else c=eE(r,t,i,e).pipe((0,Pt.U)(({matched:f,consumedSegments:_,remainingSegments:b,parameters:T})=>{if(!f)return null;const M=lE(r)+_.length;return{snapshot:new uf(_,T,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,Hl(t),Qs(t),t.component??t._loadedComponent??null,t,aE(r),M,uE(t)),consumedSegments:_,remainingSegments:b}}));return c.pipe(Ir(f=>{if(null===f)return At(null);const{snapshot:_,consumedSegments:b,remainingSegments:T}=f;e=t._injector??e;const M=t._loadedInjector??e,F=function BI(n){return n.children?n.children:n.loadChildren?n._loadedRoutes:[]}(t),{segmentGroup:L,slicedSegments:z}=gf(r,b,T,F.filter(ae=>void 0===ae.redirectTo));if(0===z.length&&L.hasChildren())return this.processChildren(M,F,L).pipe((0,Pt.U)(ae=>null===ae?null:[new Cs(_,ae)]));if(0===F.length&&0===z.length)return At([new Cs(_,[])]);const J=Qs(t)===o;return this.processSegment(M,F,L,z,J?zt:o).pipe((0,Pt.U)(ae=>null===ae?null:[new Cs(_,ae)]))}))}}function UI(n){const e=n.value.routeConfig;return e&&""===e.path&&void 0===e.redirectTo}function oE(n){const e=[],t=new Set;for(const r of n){if(!UI(r)){e.push(r);continue}const i=e.find(o=>r.value.routeConfig===o.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=oE(r.children);e.push(new Cs(r.value,i))}return e.filter(r=>!t.has(r))}function aE(n){let e=n;for(;e._sourceSegment;)e=e._sourceSegment;return e}function lE(n){let e=n,t=e._segmentIndexShift??0;for(;e._sourceSegment;)e=e._sourceSegment,t+=e._segmentIndexShift??0;return t-1}function Hl(n){return n.data||{}}function uE(n){return n.resolve||{}}function RO(n,e){return(0,vr.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return At(t);let o=0;return(0,Bn.D)(i).pipe(mo(c=>function PO(n,e,t,r){const i=n.routeConfig,o=n._resolve;return void 0!==i?.title&&!Pv(i)&&(o[Zs]=i.title),function cE(n,e,t,r){const i=function kO(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return At({});const o={};return(0,Bn.D)(i).pipe((0,vr.z)(c=>function dE(n,e,t,r){const i=Vc(e)??r,o=Yd(n,i);return O(o.resolve?o.resolve(e,t):i.runInContext(()=>o(e,t)))}(n[c],e,t,r).pipe(Ks(),(0,Zr.b)(f=>{o[c]=f}))),Ac(1),function Mc(n){return(0,Pt.U)(()=>n)}(o),Ya(c=>ku(c)?ss.E:Iu(c)))}(o,n,e,r).pipe((0,Pt.U)(c=>(n._resolvedData=c,n.data=Xp(n,t).resolve,i&&Pv(i)&&(n.data[Zs]=i.title),null)))}(c.route,r,n,e)),(0,Zr.b)(()=>o++),Ac(1),(0,vr.z)(c=>o===i.length?At(t):ss.E))})}function Pv(n){return"string"==typeof n.title||null===n.title}function kv(n){return Ir(e=>{const t=n(e);return t?(0,Bn.D)(t).pipe((0,Pt.U)(()=>e)):At(e)})}const yf=new l.OlP("ROUTES");let Lv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,l.f3M)(l.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return At(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=O(t.loadComponent()).pipe((0,Pt.U)(hE),(0,Zr.b)(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Oc(()=>{this.componentLoaders.delete(t)})),i=new xd(r,()=>new Mn.x).pipe(Od());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return At({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const o=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,Pt.U)(f=>{this.onLoadEndListener&&this.onLoadEndListener(r);let _,b,T=!1;Array.isArray(f)?b=f:(_=f.create(t).injector,b=Jh(_.get(yf,[],l.XFs.Self|l.XFs.Optional)));return{routes:b.map(Zd),injector:_}}),Oc(()=>{this.childrenLoaders.delete(r)})),c=new xd(o,()=>new Mn.x).pipe(Od());return this.childrenLoaders.set(r,c),c}loadModuleFactoryOrRoutes(t){return O(t()).pipe((0,Pt.U)(hE),(0,vr.z)(r=>r instanceof l.YKP||Array.isArray(r)?At(r):(0,Bn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function hE(n){return function tl(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let t_=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Mn.x,this.configLoader=(0,l.f3M)(Lv),this.environmentInjector=(0,l.f3M)(l.lqb),this.urlSerializer=(0,l.f3M)(oa),this.rootContexts=(0,l.f3M)(P),this.navigationId=0,this.afterPreactivation=()=>At(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new jm(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new qd(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new Un({id:0,targetPageId:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:$d,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(ir(r=>0!==r.id),(0,Pt.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),Ir(r=>{let i=!1,o=!1;return At(r).pipe((0,Zr.b)(c=>{this.currentNavigation={id:c.id,initialUrl:c.rawUrl,extractedUrl:c.extractedUrl,trigger:c.source,extras:c.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),Ir(c=>{const f=t.browserUrlTree.toString(),_=!t.navigated||c.extractedUrl.toString()!==f||f!==t.currentUrlTree.toString();if(!_&&"reload"!==(c.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const T="";return this.events.next(new Vl(c.id,t.serializeUrl(r.rawUrl),T,0)),t.rawUrlTree=c.rawUrl,c.resolve(null),ss.E}if(t.urlHandlingStrategy.shouldProcessUrl(c.rawUrl))return fE(c.source)&&(t.browserUrlTree=c.extractedUrl),At(c).pipe(Ir(T=>{const M=this.transitions?.getValue();return this.events.next(new zp(T.id,this.urlSerializer.serialize(T.extractedUrl),T.source,T.restoredState)),M!==this.transitions?.getValue()?ss.E:Promise.resolve(T)}),function sE(n,e,t,r){return Ir(i=>function kI(n,e,t,r,i){return new iE(n,e,t,r,i).apply()}(n,e,t,i.extractedUrl,r).pipe((0,Pt.U)(o=>({...i,urlAfterRedirects:o}))))}(this.environmentInjector,this.configLoader,this.urlSerializer,t.config),(0,Zr.b)(T=>{this.currentNavigation={...this.currentNavigation,finalUrl:T.urlAfterRedirects},r.urlAfterRedirects=T.urlAfterRedirects}),function HI(n,e,t,r,i){return(0,vr.z)(o=>function Rv(n,e,t,r,i,o,c="emptyOnly"){return new ig(n,e,t,r,i,c,o).recognize().pipe(Ir(f=>null===f?function FI(n){return new Kr.y(e=>e.error(n))}(new xv):At(f)))}(n,e,t,o.urlAfterRedirects,r.serialize(o.urlAfterRedirects),r,i).pipe((0,Pt.U)(c=>({...o,targetSnapshot:c}))))}(this.environmentInjector,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Zr.b)(T=>{if(r.targetSnapshot=T.targetSnapshot,"eager"===t.urlUpdateStrategy){if(!T.extras.skipLocationChange){const F=t.urlHandlingStrategy.merge(T.urlAfterRedirects,T.rawUrl);t.setBrowserUrl(F,T)}t.browserUrlTree=T.urlAfterRedirects}const M=new kc(T.id,this.urlSerializer.serialize(T.extractedUrl),this.urlSerializer.serialize(T.urlAfterRedirects),T.targetSnapshot);this.events.next(M)}));if(_&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:T,extractedUrl:M,source:F,restoredState:L,extras:z}=c,J=new zp(T,this.urlSerializer.serialize(M),F,L);this.events.next(J);const ae=gv(M,this.rootComponentType).snapshot;return At(r={...c,targetSnapshot:ae,urlAfterRedirects:M,extras:{...z,skipLocationChange:!1,replaceUrl:!1}})}{const T="";return this.events.next(new Vl(c.id,t.serializeUrl(r.extractedUrl),T,1)),t.rawUrlTree=c.rawUrl,c.resolve(null),ss.E}}),(0,Zr.b)(c=>{const f=new cv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot);this.events.next(f)}),(0,Pt.U)(c=>r={...c,guards:tg(c.targetSnapshot,c.currentSnapshot,this.rootContexts)}),function Jm(n,e){return(0,vr.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:c}}=t;return 0===c.length&&0===o.length?At({...t,guardsResult:!0}):function AI(n,e,t,r){return(0,Bn.D)(n).pipe((0,vr.z)(i=>function NI(n,e,t,r,i){const o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;return o&&0!==o.length?At(o.map(f=>{const _=Vc(e)??i,b=Yd(f,_);return O(function SI(n){return n&&ff(n.canDeactivate)}(b)?b.canDeactivate(n,e,t,r):_.runInContext(()=>b(n,e,t,r))).pipe(Ks())})).pipe(Hc()):At(!0)}(i.component,i.route,t,e,r)),Ks(i=>!0!==i,!0))}(c,r,i,n).pipe((0,vr.z)(f=>f&&function Jw(n){return"boolean"==typeof n}(f)?function Iv(n,e,t,r){return(0,Bn.D)(e).pipe(mo(i=>Fl(function Jd(n,e){return null!==n&&e&&e(new $m(n)),At(!0)}(i.route.parent,r),function Qm(n,e){return null!==n&&e&&e(new Wp(n)),At(!0)}(i.route,r),function Sv(n,e,t){const r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(c=>function wv(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(c)).filter(c=>null!==c).map(c=>Kh(()=>At(c.guards.map(_=>{const b=Vc(c.node)??t,T=Yd(_,b);return O(function Dv(n){return n&&ff(n.canActivateChild)}(T)?T.canActivateChild(r,n):b.runInContext(()=>T(r,n))).pipe(Ks())})).pipe(Hc())));return At(o).pipe(Hc())}(n,i.path,t),function Xw(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return At(!0);const i=r.map(o=>Kh(()=>{const c=Vc(e)??t,f=Yd(o,c);return O(function xO(n){return n&&ff(n.canActivate)}(f)?f.canActivate(e,n):c.runInContext(()=>f(e,n))).pipe(Ks())}));return At(i).pipe(Hc())}(n,i.route,t))),Ks(i=>!0!==i,!0))}(r,o,n,e):At(f)),(0,Pt.U)(f=>({...t,guardsResult:f})))})}(this.environmentInjector,c=>this.events.next(c)),(0,Zr.b)(c=>{if(r.guardsResult=c.guardsResult,Nu(c.guardsResult))throw y(0,c.guardsResult);const f=new dv(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(c.urlAfterRedirects),c.targetSnapshot,!!c.guardsResult);this.events.next(f)}),ir(c=>!!c.guardsResult||(t.restoreHistory(c),this.cancelNavigationTransition(c,"",3),!1)),kv(c=>{if(c.guards.canActivateChecks.length)return At(c).pipe((0,Zr.b)(f=>{const _=new hv(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}),Ir(f=>{let _=!1;return At(f).pipe(RO(t.paramsInheritanceStrategy,this.environmentInjector),(0,Zr.b)({next:()=>_=!0,complete:()=>{_||(t.restoreHistory(f),this.cancelNavigationTransition(f,"",2))}}))}),(0,Zr.b)(f=>{const _=new qp(f.id,this.urlSerializer.serialize(f.extractedUrl),this.urlSerializer.serialize(f.urlAfterRedirects),f.targetSnapshot);this.events.next(_)}))}),kv(c=>{const f=_=>{const b=[];_.routeConfig?.loadComponent&&!_.routeConfig._loadedComponent&&b.push(this.configLoader.loadComponent(_.routeConfig).pipe((0,Zr.b)(T=>{_.component=T}),(0,Pt.U)(()=>{})));for(const T of _.children)b.push(...f(T));return b};return Tu(f(c.targetSnapshot.root)).pipe(Za(),Sr(1))}),kv(()=>this.afterPreactivation()),(0,Pt.U)(c=>{const f=function Pu(n,e,t){const r=Uc(n,e._root,t?t._root:void 0);return new pv(r,e)}(t.routeReuseStrategy,c.targetSnapshot,c.currentRouterState);return r={...c,targetRouterState:f}}),(0,Zr.b)(c=>{t.currentUrlTree=c.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(c.urlAfterRedirects,c.rawUrl),t.routerState=c.targetRouterState,"deferred"===t.urlUpdateStrategy&&(c.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,c),t.browserUrlTree=c.urlAfterRedirects)}),((n,e,t)=>(0,Pt.U)(r=>(new df(e,r.targetRouterState,r.currentRouterState,t).activate(n),r)))(this.rootContexts,t.routeReuseStrategy,c=>this.events.next(c)),Sr(1),(0,Zr.b)({next:c=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new _o(c.id,this.urlSerializer.serialize(c.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(c.targetRouterState.snapshot),c.resolve(!0)},complete:()=>{i=!0}}),Oc(()=>{i||o||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Ya(c=>{if(o=!0,w(c)){g(c)||(t.navigated=!0,t.restoreHistory(r,!0));const f=new Gd(r.id,this.urlSerializer.serialize(r.extractedUrl),c.message,c.cancellationCode);if(this.events.next(f),g(c)){const _=t.urlHandlingStrategy.merge(c.url,t.rawUrlTree),b={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||fE(r.source)};t.scheduleNavigation(_,$d,null,b,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const f=new zd(r.id,this.urlSerializer.serialize(r.extractedUrl),c,r.targetSnapshot??void 0);this.events.next(f);try{r.resolve(t.errorHandler(c))}catch(_){r.reject(_)}}return ss.E}))}))}cancelNavigationTransition(t,r,i){const o=new Gd(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function fE(n){return n!==$d}let pE=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===zt);return r}getResolvedTitleForRoute(t){return t.data[Zs]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(jI)},providedIn:"root"}),n})(),jI=(()=>{class n extends pE{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Np))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),gE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(GI)},providedIn:"root"}),n})();class $I{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let GI=(()=>{class n extends $I{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const un=new l.OlP("",{providedIn:"root",factory:()=>({})});let mE=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return(0,l.f3M)(_E)},providedIn:"root"}),n})(),_E=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function qI(n){throw n}function WI(n,e,t){return e.parse("/")}const yE={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},KI={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let As=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,l.f3M)(l.c2e),this.isNgZoneEnabled=!1,this.options=(0,l.f3M)(un,{optional:!0})||{},this.errorHandler=this.options.errorHandler||qI,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||WI,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,l.f3M)(mE),this.routeReuseStrategy=(0,l.f3M)(gE),this.urlCreationStrategy=(0,l.f3M)(fv),this.titleStrategy=(0,l.f3M)(pE),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=Jh((0,l.f3M)(yf,{optional:!0})??[]),this.navigationTransitions=(0,l.f3M)(t_),this.urlSerializer=(0,l.f3M)(oa),this.location=(0,l.f3M)(Ze),this.isNgZoneEnabled=(0,l.f3M)(l.R0b)instanceof l.R0b&&l.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Wn,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=gv(this.currentUrlTree,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),$d,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const o={replaceUrl:!0},c=i?.navigationId?i:null;if(i){const _={...i};delete _.navigationId,delete _.\u0275routerPageId,0!==Object.keys(_).length&&(o.state=_)}const f=this.parseUrl(t);this.scheduleNavigation(f,r,c,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}resetConfig(t){this.config=t.map(Zd),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:o,fragment:c,queryParamsHandling:f,preserveFragment:_}=r,b=_?this.currentUrlTree.fragment:c;let T=null;switch(f){case"merge":T={...this.currentUrlTree.queryParams,...o};break;case"preserve":T=this.currentUrlTree.queryParams;break;default:T=o||null}return null!==T&&(T=this.removeEmptyProps(T)),this.urlCreationStrategy.createUrlTree(i,this.routerState,this.currentUrlTree,t,T,b??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Nu(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,$d,null,r)}navigate(t,r={skipLocationChange:!1}){return function ZI(n){for(let e=0;e<n.length;e++){const t=n[e];if(null==t)throw new l.vHH(4008,false)}}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...yE}:!1===r?{...KI}:r,Nu(t))return me(this.currentUrlTree,t,i);const o=this.parseUrl(t);return me(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const o=t[i];return null!=o&&(r[i]=o),r},{})}scheduleNavigation(t,r,i,o,c){if(this.disposed)return Promise.resolve(!1);let f,_,b,T;return c?(f=c.resolve,_=c.reject,b=c.promise):b=new Promise((M,F)=>{f=M,_=F}),T="computed"===this.canceledNavigationResolution?i&&i.\u0275routerPageId?i.\u0275routerPageId:(this.browserPageId??0)+1:0,this.navigationTransitions.handleNavigationRequest({targetPageId:T,source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:f,reject:_,promise:b,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),b.catch(M=>Promise.reject(M))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const c={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",c)}else{const o={...r.extras.state,...this.generateNgRouterState(r.id,r.targetPageId)};this.location.go(i,"",o)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const o=this.currentPageId-(this.browserPageId??this.currentPageId);0!==o?this.location.historyGo(o):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===o&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),ag=(()=>{class n{constructor(t,r,i,o,c,f){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=c,this.locationStrategy=f,this._preserveFragment=!1,this._skipLocationChange=!1,this._replaceUrl=!1,this.href=null,this.commands=null,this.onChanges=new Mn.x;const _=c.nativeElement.tagName?.toLowerCase();this.isAnchorElement="a"===_||"area"===_,this.isAnchorElement?this.subscription=t.events.subscribe(b=>{b instanceof _o&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}set preserveFragment(t){this._preserveFragment=(0,l.D6c)(t)}get preserveFragment(){return this._preserveFragment}set skipLocationChange(t){this._skipLocationChange=(0,l.D6c)(t)}get skipLocationChange(){return this._skipLocationChange}set replaceUrl(t){this._replaceUrl=(0,l.D6c)(t)}get replaceUrl(){return this._replaceUrl}setTabIndexIfNotOnNativeEl(t){null!=this.tabIndexAttribute||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){null!=t?(this.commands=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0")):(this.commands=null,this.setTabIndexIfNotOnNativeEl(null))}onClick(t,r,i,o,c){return!!(null===this.urlTree||this.isAnchorElement&&(0!==t||r||i||o||c||"string"==typeof this.target&&"_self"!=this.target))||(this.router.navigateByUrl(this.urlTree,{skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state}),!this.isAnchorElement)}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){this.href=null!==this.urlTree&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(this.urlTree)):null;const t=null===this.href?null:(0,l.P3R)(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",t)}applyAttributeValue(t,r){const i=this.renderer,o=this.el.nativeElement;null!==r?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return null===this.commands?null:this.router.createUrlTree(this.commands,{relativeTo:void 0!==this.relativeTo?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(As),l.Y36(Di),l.$8M("tabindex"),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(ht))},n.\u0275dir=l.lG2({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(t,r){1&t&&l.NdJ("click",function(o){return r.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),2&t&&l.uIk("target",r.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",relativeTo:"relativeTo",preserveFragment:"preserveFragment",skipLocationChange:"skipLocationChange",replaceUrl:"replaceUrl",routerLink:"routerLink"},standalone:!0,features:[l.TTD]}),n})();class Bv{}let Uv=(()=>{class n{constructor(t,r,i,o,c){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=c}setUpPreloading(){this.subscription=this.router.events.pipe(ir(t=>t instanceof _o),mo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const o of r){o.providers&&!o._injector&&(o._injector=(0,l.MMx)(o.providers,t,`Route: ${o.path}`));const c=o._injector??t,f=o._loadedInjector??c;(o.loadChildren&&!o._loadedRoutes&&void 0===o.canLoad||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(c,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(f,o.children??o._loadedRoutes))}return(0,Bn.D)(i).pipe((0,Sc.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):At(null);const o=i.pipe((0,vr.z)(c=>null===c?At(void 0):(r._loadedRoutes=c.routes,r._loadedInjector=c.injector,this.processRoutes(c.injector??t,c.routes))));if(r.loadComponent&&!r._loadedComponent){const c=this.loader.loadComponent(r);return(0,Bn.D)([o,c]).pipe((0,Sc.J)())}return o})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(As),l.LFG(l.Sil),l.LFG(l.lqb),l.LFG(Bv),l.LFG(Lv))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const lg=new l.OlP("");let bE=(()=>{class n{constructor(t,r,i,o,c={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=c,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},c.scrollPositionRestoration=c.scrollPositionRestoration||"disabled",c.anchorScrolling=c.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof zp?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof _o&&(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof xu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new xu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){l.$Z()},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var ca=(()=>((ca=ca||{})[ca.COMPLETE=0]="COMPLETE",ca[ca.FAILED=1]="FAILED",ca[ca.REDIRECTING=2]="REDIRECTING",ca))();const ug=!1;function Qd(n,e){return{\u0275kind:n,\u0275providers:e}}const Hv=new l.OlP("",{providedIn:"root",factory:()=>!1});function cg(){const n=(0,l.f3M)(l.zs3);return e=>{const t=n.get(l.z2F);if(e!==t.components[0])return;const r=n.get(As),i=n.get(wE);1===n.get(r_)&&r.initialNavigation(),n.get(EE,null,l.XFs.Optional)?.setUpPreloading(),n.get(lg,null,l.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const wE=new l.OlP(ug?"bootstrap done indicator":"",{factory:()=>new Mn.x}),r_=new l.OlP(ug?"initial navigation":"",{providedIn:"root",factory:()=>1});function XI(){let n=[];return n=ug?[{provide:l.Xts,multi:!0,useFactory:()=>{const e=(0,l.f3M)(As);return()=>e.events.subscribe(t=>{console.group?.(`Router Event: ${t.constructor.name}`),console.log(function Kp(n){if(!("type"in n))return`Unknown Router Event: ${n.constructor.name}`;switch(n.type){case 14:return`ActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 13:return`ActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 12:return`ChildActivationEnd(path: '${n.snapshot.routeConfig?.path||""}')`;case 11:return`ChildActivationStart(path: '${n.snapshot.routeConfig?.path||""}')`;case 8:return`GuardsCheckEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state}, shouldActivate: ${n.shouldActivate})`;case 7:return`GuardsCheckStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 2:return`NavigationCancel(id: ${n.id}, url: '${n.url}')`;case 16:return`NavigationSkipped(id: ${n.id}, url: '${n.url}')`;case 1:return`NavigationEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}')`;case 3:return`NavigationError(id: ${n.id}, url: '${n.url}', error: ${n.error})`;case 0:return`NavigationStart(id: ${n.id}, url: '${n.url}')`;case 6:return`ResolveEnd(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 5:return`ResolveStart(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 10:return`RouteConfigLoadEnd(path: ${n.route.path})`;case 9:return`RouteConfigLoadStart(path: ${n.route.path})`;case 4:return`RoutesRecognized(id: ${n.id}, url: '${n.url}', urlAfterRedirects: '${n.urlAfterRedirects}', state: ${n.state})`;case 15:return`Scroll(anchor: '${n.anchor}', position: '${n.position?`${n.position[0]}, ${n.position[1]}`:null}')`}}(t)),console.log(t),console.groupEnd?.()})}}]:[],Qd(1,n)}const EE=new l.OlP(ug?"router preloader":"");function eS(n){return Qd(0,[{provide:EE,useExisting:Uv},{provide:Bv,useExisting:n}])}const wf=!1,rS=new l.OlP(wf?"router duplicate forRoot guard":"ROUTER_FORROOT_GUARD"),jv=[Ze,{provide:oa,useClass:Pd},As,P,{provide:Di,useFactory:function Vv(n){return n.routerState.root},deps:[As]},Lv,wf?{provide:Hv,useValue:!0}:[]];function iS(){return new l.PXZ("Router",As)}let sS=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[jv,wf&&r?.enableTracing?XI().\u0275providers:[],{provide:yf,multi:!0,useValue:t},{provide:rS,useFactory:IE,deps:[[As,new l.FiY,new l.tp0]]},{provide:un,useValue:r||{}},r?.useHash?{provide:ht,useClass:Se}:{provide:ht,useClass:Le},{provide:lg,useFactory:()=>{const n=(0,l.f3M)(No),e=(0,l.f3M)(l.R0b),t=(0,l.f3M)(un),r=(0,l.f3M)(t_),i=(0,l.f3M)(oa);return t.scrollOffset&&n.setOffset(t.scrollOffset),new bE(i,r,n,e,t)}},r?.preloadingStrategy?eS(r.preloadingStrategy).\u0275providers:[],{provide:l.PXZ,multi:!0,useFactory:iS},r?.initialNavigation?aS(r):[],[{provide:SE,useFactory:cg},{provide:l.tb,multi:!0,useExisting:SE}]]}}static forChild(t){return{ngModule:n,providers:[{provide:yf,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(rS,8))},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wt]}),n})();function IE(n){if(wf&&n)throw new l.vHH(4007,"The Router was provided more than once. This can happen if 'forRoot' is used outside of the root injector. Lazy loaded modules should use RouterModule.forChild() instead.");return"guarded"}function aS(n){return["disabled"===n.initialNavigation?Qd(3,[{provide:l.ip1,multi:!0,useFactory:()=>{const e=(0,l.f3M)(As);return()=>{e.setUpLocationChangeListener()}}},{provide:r_,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Qd(2,[{provide:r_,useValue:0},{provide:l.ip1,multi:!0,deps:[l.zs3],useFactory:e=>{const t=e.get(Te,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(As),o=e.get(wE);(function BO(n,e){n.events.pipe(ir(t=>t instanceof _o||t instanceof Gd||t instanceof zd||t instanceof Vl),(0,Pt.U)(t=>t instanceof _o||t instanceof Vl?ca.COMPLETE:t instanceof Gd&&(0===t.code||1===t.code)?ca.REDIRECTING:ca.FAILED),ir(t=>t!==ca.REDIRECTING),Sr(1)).subscribe(()=>{e()})})(i,()=>{r(!0)}),e.get(t_).afterPreactivation=()=>(r(!0),o.closed?At(void 0):o),i.initialNavigation()}))}}]).\u0275providers:[]]}const SE=new l.OlP(wf?"Router Initializer":"");var xe=U(5861),Df=U(6451),Tf=U(5363),s_=U(6063);class CE extends Mn.x{constructor(e=1/0,t=1/0,r=s_.l){super(),this._bufferSize=e,this._windowTime=t,this._timestampProvider=r,this._buffer=[],this._infiniteTimeWindow=!0,this._infiniteTimeWindow=t===1/0,this._bufferSize=Math.max(1,e),this._windowTime=Math.max(1,t)}next(e){const{isStopped:t,_buffer:r,_infiniteTimeWindow:i,_timestampProvider:o,_windowTime:c}=this;t||(r.push(e),!i&&r.push(o.now()+c)),this._trimBuffer(),super.next(e)}_subscribe(e){this._throwIfClosed(),this._trimBuffer();const t=this._innerSubscribe(e),{_infiniteTimeWindow:r,_buffer:i}=this,o=i.slice();for(let c=0;c<o.length&&!e.closed;c+=r?1:2)e.next(o[c]);return this._checkFinalizedStatuses(e),t}_trimBuffer(){const{_bufferSize:e,_timestampProvider:t,_buffer:r,_infiniteTimeWindow:i}=this,o=(i?1:2)*e;if(e<1/0&&o<r.length&&r.splice(0,r.length-o),!i){const c=t.now();let f=0;for(let _=1;_<r.length&&r[_]<=c;_+=2)f=_;f&&r.splice(0,f+1)}}}var $v=U(3099);function o_(n,e,t){let r,i=!1;return n&&"object"==typeof n?({bufferSize:r=1/0,windowTime:e=1/0,refCount:i=!1,scheduler:t}=n):r=n??1/0,(0,$v.B)({connector:()=>new CE(r,e,t),resetOnError:!0,resetOnComplete:!1,resetOnRefCountZero:i})}function a_(n,e){return(0,Ts.m)(e)?Ir(()=>n,e):Ir(()=>n)}var l_=U(9468),Ji=U(4976),nl=U(2011);U(259);var Xd=U(6881),If=U(4859),Gn=U(2090),jc=U(1877);const zv=new Map,OE={activated:!1,tokenObservers:[]},pS={initialized:!1,enabled:!1};function Kn(n){return zv.get(n)||Object.assign({},OE)}function u_(){return pS}const Wv="https://content-firebaseappcheck.googleapis.com/v1",mS="exchangeDebugToken",RE={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class _S{constructor(e,t,r,i,o){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=o,this.pending=null,this.nextErrorWaitInterval=i,i>o)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,xe.Z)(function*(){t.stop();try{t.pending=new Gn.BH,yield function yS(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new Gn.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const Ti=new Gn.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function pg(n,e){return d_.apply(this,arguments)}function d_(){return(d_=(0,xe.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const M=yield i.getHeartbeatsHeader();M&&(r["X-Firebase-Client"]=M)}const o={method:"POST",body:JSON.stringify(e),headers:r};let c,f;try{c=yield fetch(n,o)}catch(M){throw Ti.create("fetch-network-error",{originalErrorMessage:M?.message})}if(200!==c.status)throw Ti.create("fetch-status-error",{httpStatus:c.status});try{f=yield c.json()}catch(M){throw Ti.create("fetch-parse-error",{originalErrorMessage:M?.message})}const _=f.ttl.match(/^([\d.]+)(s)$/);if(!_||!_[2]||isNaN(Number(_[1])))throw Ti.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${f.ttl}`});const b=1e3*Number(_[1]),T=Date.now();return{token:f.token,expireTimeMillis:T+b,issuedAtTimeMillis:T}})).apply(this,arguments)}const Lu="firebase-app-check-database",f_=1,$c="firebase-app-check-store";let p_=null;function BE(n,e){return UE.apply(this,arguments)}function UE(){return(UE=(0,xe.Z)(function*(n,e){const r=(yield function Yv(){return p_||(p_=new Promise((n,e)=>{try{const t=indexedDB.open(Lu,f_);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(Ti.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore($c,{keyPath:"compositeKey"})}}catch(t){e(Ti.create("storage-open",{originalErrorMessage:t?.message}))}}),p_)}()).transaction($c,"readwrite"),o=r.objectStore($c).put({compositeKey:n,value:e});return new Promise((c,f)=>{o.onsuccess=_=>{c()},r.onerror=_=>{var b;f(Ti.create("storage-set",{originalErrorMessage:null===(b=_.target.error)||void 0===b?void 0:b.message}))}})})).apply(this,arguments)}const mg=new jc.Yd("@firebase/app-check");function Xv(n,e){return(0,Gn.hl)()?function vS(n,e){return BE(function HE(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{mg.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function yg(){return t0.apply(this,arguments)}function t0(){return(t0=(0,xe.Z)(function*(){const n=u_();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const DS={error:"UNKNOWN_ERROR"};function TS(n){return Gn.US.encodeString(JSON.stringify(n),!1)}function g_(n){return n0.apply(this,arguments)}function n0(){return(n0=(0,xe.Z)(function*(n,e=!1){const t=n.app;!function PE(n){if(!Kn(n).activated)throw Ti.create("use-before-activation",{appName:n.name})}(t);const r=Kn(t);let o,i=r.token;if(i&&!Bu(i)&&(r.token=void 0,i=void 0),!i){const _=yield r.cachedTokenPromise;_&&(Bu(_)?i=_:yield Xv(t,void 0))}if(!e&&i&&Bu(i))return{token:i.token};let f,c=!1;if(function e0(){return u_().enabled}()){r.exchangeTokenPromise||(r.exchangeTokenPromise=pg(function h_(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${Wv}/projects/${t}/apps/${r}:${mS}?key=${i}`,body:{debug_token:e}}}(t,yield yg()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),c=!0);const _=yield r.exchangeTokenPromise;return yield Xv(t,_),r.token=_,{token:_.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),c=!0),i=yield Kn(t).exchangeTokenPromise}catch(_){"appCheck/throttled"===_.code?mg.warn(_.message):mg.error(_),o=_}return i?o?f=Bu(i)?{token:i.token,internalError:o}:zE(o):(f={token:i.token},r.token=i,yield Xv(t,i)):f=zE(o),c&&function SS(n,e){const t=Kn(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,f),f})).apply(this,arguments)}function r0(n,e){const t=Kn(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function IS(n){const{app:e}=n,t=Kn(e);let r=t.tokenRefresher;r||(r=function GE(n){const{app:e}=n;return new _S((0,xe.Z)(function*(){let r;if(r=Kn(e).token?yield g_(n,!0):yield g_(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=Kn(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},RE.RETRIAL_MIN_WAIT,RE.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function Bu(n){return n.expireTimeMillis-Date.now()>0}function zE(n){return{token:TS(DS),error:n}}class CS{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=Kn(this.app);for(const t of e)r0(this.app,t.next);return Promise.resolve()}}const WE="app-check-internal";!function KE(){(0,Xd._registerComponent)(new If.wA("app-check",n=>function s0(n,e){return new CS(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(WE).initialize()})),(0,Xd._registerComponent)(new If.wA(WE,n=>function AS(n){return{getToken:e=>g_(n,e),addTokenListener:e=>function __(n,e,t,r){const{app:i}=n,o=Kn(i);if(o.tokenObservers=[...o.tokenObservers,{next:t,error:r,type:e}],o.token&&Bu(o.token)){const f=o.token;Promise.resolve().then(()=>{t({token:f.token}),IS(n)}).catch(()=>{})}o.cachedTokenPromise.then(()=>IS(n))}(n,"INTERNAL",e),removeTokenListener:e=>r0(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Xd.registerVersion)("@firebase/app-check","0.7.0")}();class bg{constructor(){return(0,Ji.vb)("app-check")}}typeof window<"u"&&window;var VS=U(9260);const d0=new l.OlP("angularfire2.auth.use-emulator"),h0=new l.OlP("angularfire2.auth.settings"),f0=new l.OlP("angularfire2.auth.tenant-id"),nD=new l.OlP("angularfire2.auth.langugage-code"),p0=new l.OlP("angularfire2.auth.use-device-language"),g0=new l.OlP("angularfire.auth.persistence"),D_=(n,e,t,r,i,o,c,f)=>(0,nl.cc)(`${n.name}.auth`,"AngularFireAuth",n.name,()=>{const _=e.runOutsideAngular(()=>n.auth());if(t&&_.useEmulator(...t),r&&(_.tenantId=r),_.languageCode=i,o&&_.useDeviceLanguage(),c)for(const[b,T]of Object.entries(c))_.settings[b]=T;return f&&_.setPersistence(f),_},[t,r,i,o,c,f]);let Of=(()=>{class n{constructor(t,r,i,o,c,f,_,b,T,M,F,L){const z=new Mn.x,J=At(void 0).pipe((0,Tf.Q)(c.outsideAngular),Ir(()=>o.runOutsideAngular(()=>Promise.resolve().then(U.bind(U,3042)))),(0,Pt.U)(()=>(0,nl.on)(t,o,r)),(0,Pt.U)(ae=>D_(ae,o,f,b,T,M,_,F)),o_({bufferSize:1,refCount:!1}));if(Bs(i))this.authState=this.user=this.idToken=this.idTokenResult=this.credential=At(null);else{J.pipe(Ks()).subscribe();const Ae=J.pipe(Ir(Ye=>Ye.getRedirectResult().then(dt=>dt,()=>null)),Ji.iC,o_({bufferSize:1,refCount:!1})),Ue=J.pipe(Ir(Ye=>new Kr.y(dt=>({unsubscribe:o.runOutsideAngular(()=>Ye.onAuthStateChanged(vt=>dt.next(vt),vt=>dt.error(vt),()=>dt.complete()))})))),qe=J.pipe(Ir(Ye=>new Kr.y(dt=>({unsubscribe:o.runOutsideAngular(()=>Ye.onIdTokenChanged(vt=>dt.next(vt),vt=>dt.error(vt),()=>dt.complete()))}))));this.authState=Ae.pipe(a_(Ue),(0,l_.R)(c.outsideAngular),(0,Tf.Q)(c.insideAngular)),this.user=Ae.pipe(a_(qe),(0,l_.R)(c.outsideAngular),(0,Tf.Q)(c.insideAngular)),this.idToken=this.user.pipe(Ir(Ye=>Ye?(0,Bn.D)(Ye.getIdToken()):At(null))),this.idTokenResult=this.user.pipe(Ir(Ye=>Ye?(0,Bn.D)(Ye.getIdTokenResult()):At(null))),this.credential=(0,Df.T)(Ae,z,this.authState.pipe(ir(Ye=>!Ye))).pipe((0,Pt.U)(Ye=>Ye?.user?Ye:null),(0,l_.R)(c.outsideAngular),(0,Tf.Q)(c.insideAngular))}return(0,nl.pX)(this,J,o,{spy:{apply:(ae,Ae,Ue)=>{(ae.startsWith("signIn")||ae.startsWith("createUser"))&&Ue.then(qe=>z.next(qe))}}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nl.Dh),l.LFG(nl.xv,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(d0,8),l.LFG(h0,8),l.LFG(f0,8),l.LFG(nD,8),l.LFG(p0,8),l.LFG(g0,8),l.LFG(bg,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var Dt,rD=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},fa={},T_=T_||{},dn=rD||self;function wg(){}function Eg(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function zc(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var m0="closure_uid_"+(1e9*Math.random()>>>0),jS=0;function _0(n,e,t){return n.call.apply(n.bind,arguments)}function ah(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Qi(n,e,t){return(Qi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?_0:ah).apply(null,arguments)}function I_(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function Ii(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,o){for(var c=Array(arguments.length-2),f=2;f<arguments.length;f++)c[f-2]=arguments[f];return e.prototype[i].apply(r,c)}}function lh(){this.s=this.s,this.o=this.o}lh.prototype.s=!1,lh.prototype.ra=function(){!this.s&&(this.s=!0,this.N(),0)&&function qc(n){Object.prototype.hasOwnProperty.call(n,m0)&&n[m0]||(n[m0]=++jS)}(this)},lh.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const iD=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function y0(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function v0(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(Eg(r)){const i=n.length||0,o=r.length||0;n.length=i+o;for(let c=0;c<o;c++)n[i+c]=r[c]}else n.push(r)}}function Ms(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Ms.prototype.h=function(){this.defaultPrevented=!0};var Li=function(){if(!dn.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{dn.addEventListener("test",wg,e),dn.removeEventListener("test",wg,e)}catch{}return n}();function Dg(n){return/^[\s\xa0]*$/.test(n)}var sD=String.prototype.trim?function(n){return n.trim()}:function(n){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(n)[1]};function b0(n,e){return n<e?-1:n>e?1:0}function Tg(){var n=dn.navigator;return n&&(n=n.userAgent)?n:""}function $l(n){return-1!=Tg().indexOf(n)}function S_(n){return S_[" "](n),n}function w0(n,e,t){return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}S_[" "]=wg;var Pf,n,xf=$l("Opera"),Rf=$l("Trident")||$l("MSIE"),oD=$l("Edge"),C_=oD||Rf,aD=$l("Gecko")&&!(-1!=Tg().toLowerCase().indexOf("webkit")&&!$l("Edge"))&&!($l("Trident")||$l("MSIE"))&&!$l("Edge"),lD=-1!=Tg().toLowerCase().indexOf("webkit")&&!$l("Edge");function $S(){var n=dn.document;return n?n.documentMode:void 0}e:{var Ig="",pa=(n=Tg(),aD?/rv:([^\);]+)(\)|;)/.exec(n):oD?/Edge\/([\d\.]+)/.exec(n):Rf?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):lD?/WebKit\/(\S+)/.exec(n):xf?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(pa&&(Ig=pa?pa[1]:""),Rf){var E0=$S();if(null!=E0&&E0>parseFloat(Ig)){Pf=String(E0);break e}}Pf=Ig}var uD={},cD=dn.document&&Rf&&($S()||parseInt(Pf,10))||void 0;function kf(n,e){if(Ms.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(aD){e:{try{S_(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:GS[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&kf.$.h.call(this)}}Ii(kf,Ms);var GS={2:"touch",3:"pen",4:"mouse"};kf.prototype.h=function(){kf.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var Sg="closure_listenable_"+(1e6*Math.random()|0),zS=0;function qS(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++zS,this.fa=this.ia=!1}function Ff(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function uh(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function dD(n){const e={};for(const t in n)e[t]=n[t];return e}const D0="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function hD(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let o=0;o<D0.length;o++)t=D0[o],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function A_(n){this.src=n,this.g={},this.h=0}function N_(n,e){var t=e.type;if(t in n.g){var o,r=n.g[t],i=iD(r,e);(o=0<=i)&&Array.prototype.splice.call(r,i,1),o&&(Ff(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function M_(n,e,t,r){for(var i=0;i<n.length;++i){var o=n[i];if(!o.fa&&o.listener==e&&o.capture==!!t&&o.la==r)return i}return-1}A_.prototype.add=function(n,e,t,r,i){var o=n.toString();(n=this.g[o])||(n=this.g[o]=[],this.h++);var c=M_(n,e,r,i);return-1<c?(e=n[c],t||(e.ia=!1)):((e=new qS(e,this.src,o,!!r,i)).ia=t,n.push(e)),e};var Lf="closure_lm_"+(1e6*Math.random()|0),T0={};function I0(n,e,t,r,i){if(r&&r.once)return Cg(n,e,t,r,i);if(Array.isArray(e)){for(var o=0;o<e.length;o++)I0(n,e[o],t,r,i);return null}return t=P_(t),n&&n[Sg]?n.O(e,t,zc(r)?!!r.capture:!!r,i):S0(n,e,t,!1,r,i)}function S0(n,e,t,r,i,o){if(!e)throw Error("Invalid event type");var c=zc(i)?!!i.capture:!!i,f=x_(n);if(f||(n[Lf]=f=new A_(n)),(t=f.add(e,t,r,c,o)).proxy)return t;if(r=function C0(){const e=fD;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)Li||(i=c),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(N0(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function Cg(n,e,t,r,i){if(Array.isArray(e)){for(var o=0;o<e.length;o++)Cg(n,e[o],t,r,i);return null}return t=P_(t),n&&n[Sg]?n.P(e,t,zc(r)?!!r.capture:!!r,i):S0(n,e,t,!0,r,i)}function A0(n,e,t,r,i){if(Array.isArray(e))for(var o=0;o<e.length;o++)A0(n,e[o],t,r,i);else r=zc(r)?!!r.capture:!!r,t=P_(t),n&&n[Sg]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=M_(o=n.g[e],t,r,i))&&(Ff(o[t]),Array.prototype.splice.call(o,t,1),0==o.length&&(delete n.g[e],n.h--))):n&&(n=x_(n))&&(e=n.g[e.toString()],n=-1,e&&(n=M_(e,t,r,i)),(t=-1<n?e[n]:null)&&O_(t))}function O_(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[Sg])N_(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(N0(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=x_(e))?(N_(t,n),0==t.h&&(t.src=null,e[Lf]=null)):Ff(n)}}}function N0(n){return n in T0?T0[n]:T0[n]="on"+n}function fD(n,e){if(n.fa)n=!0;else{e=new kf(e,this);var t=n.listener,r=n.la||n.src;n.ia&&O_(n),n=t.call(r,e)}return n}function x_(n){return(n=n[Lf])instanceof A_?n:null}var R_="__closure_events_fn_"+(1e9*Math.random()>>>0);function P_(n){return"function"==typeof n?n:(n[R_]||(n[R_]=function(e){return n.handleEvent(e)}),n[R_])}function Bi(){lh.call(this),this.i=new A_(this),this.S=this,this.J=null}function os(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Ms(e,n);else if(e instanceof Ms)e.target=e.target||n;else{var i=e;hD(e=new Ms(r,n),i)}if(i=!0,t)for(var o=t.length-1;0<=o;o--){var c=e.g=t[o];i=Ag(c,r,!0,e)&&i}if(i=Ag(c=e.g=n,r,!0,e)&&i,i=Ag(c,r,!1,e)&&i,t)for(o=0;o<t.length;o++)i=Ag(c=e.g=t[o],r,!1,e)&&i}function Ag(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,o=0;o<e.length;++o){var c=e[o];if(c&&!c.fa&&c.capture==t){var f=c.listener,_=c.la||c.src;c.ia&&N_(n.i,c),i=!1!==f.call(_,r)&&i}}return i&&!r.defaultPrevented}Ii(Bi,lh),Bi.prototype[Sg]=!0,Bi.prototype.removeEventListener=function(n,e,t,r){A0(this,n,e,t,r)},Bi.prototype.N=function(){if(Bi.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)Ff(t[r]);delete n.g[e],n.h--}}this.J=null},Bi.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},Bi.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var M0=dn.JSON.stringify;function WS(){var n=mD;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var O0,pD=new class{constructor(n,e){this.i=n,this.j=e,this.h=0,this.g=null}get(){let n;return 0<this.h?(this.h--,n=this.g,this.g=n.next,n.next=null):n=this.i(),n}}(()=>new ZS,n=>n.reset());class ZS{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function YS(n){dn.setTimeout(()=>{throw n},0)}function gD(n,e){O0||function JS(){var n=dn.Promise.resolve(void 0);O0=function(){n.then(QS)}}(),x0||(O0(),x0=!0),mD.add(n,e)}var x0=!1,mD=new class KS{constructor(){this.h=this.g=null}add(e,t){const r=pD.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}};function QS(){for(var n;n=WS();){try{n.h.call(n.g)}catch(t){YS(t)}var e=pD;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}x0=!1}function k_(n,e){Bi.call(this),this.h=n||1,this.g=e||dn,this.j=Qi(this.qb,this),this.l=Date.now()}function R0(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function P0(n,e,t){if("function"==typeof n)t&&(n=Qi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Qi(n.handleEvent,n)}return 2147483647<Number(e)?-1:dn.setTimeout(n,e||0)}function _D(n){n.g=P0(()=>{n.g=null,n.i&&(n.i=!1,_D(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}Ii(k_,Bi),(Dt=k_.prototype).ga=!1,Dt.T=null,Dt.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),os(this,"tick"),this.ga&&(R0(this),this.start()))}},Dt.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Dt.N=function(){k_.$.N.call(this),R0(this),delete this.g};class yD extends lh{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:_D(this)}N(){super.N(),this.g&&(dn.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Bf(n){lh.call(this),this.h=n,this.g={}}Ii(Bf,lh);var k0=[];function F0(n,e,t,r){Array.isArray(t)||(t&&(k0[0]=t.toString()),t=k0);for(var i=0;i<t.length;i++){var o=I0(e,t[i],r||n.handleEvent,!1,n.h||n);if(!o)break;n.g[o.key]=o}}function L0(n){uh(n.g,function(e,t){this.g.hasOwnProperty(t)&&O_(e)},n),n.g={}}function Ng(){this.g=!0}function ch(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function wD(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var o=i[0];if("noop"!=o&&"stop"!=o&&"close"!=o)for(var c=1;c<i.length;c++)i[c]=""}}}return M0(t)}catch{return e}}(n,t)+(r?" "+r:"")})}Bf.prototype.N=function(){Bf.$.N.call(this),L0(this)},Bf.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Ng.prototype.Ea=function(){this.g=!1},Ng.prototype.info=function(){};var Go={},ED=null;function F_(){return ED=ED||new Bi}function dh(n){Ms.call(this,Go.Ta,n)}function L_(n){const e=F_();os(e,new dh(e))}function B_(n,e){Ms.call(this,Go.STAT_EVENT,n),this.stat=e}function yo(n){const e=F_();os(e,new B_(e,n))}function U0(n,e){Ms.call(this,Go.Ua,n),this.size=e}function Uf(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return dn.setTimeout(function(){n()},e)}Go.Ta="serverreachability",Ii(dh,Ms),Go.STAT_EVENT="statevent",Ii(B_,Ms),Go.Ua="timingevent",Ii(U0,Ms);var V0={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},Zt={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function H0(){}function TD(){}H0.prototype.h=null;var Hf,zl={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function j0(){Ms.call(this,"d")}function Vf(){Ms.call(this,"c")}function Cr(){}function U_(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new Bf(this),this.P=ID,this.V=new k_(n=C_?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.aa=-1,this.J=!1,this.O=0,this.M=null,this.ca=this.K=this.ba=this.S=!1,this.h=new $0}function $0(){this.i=null,this.g="",this.h=!1}Ii(j0,Ms),Ii(Vf,Ms),Ii(Cr,H0),Cr.prototype.g=function(){return new XMLHttpRequest},Cr.prototype.i=function(){return{}},Hf=new Cr;var ID=45e3,G0={},Mg={};function V_(n,e,t){n.L=1,n.v=Pg(Uu(e)),n.s=t,n.S=!0,z0(n,null)}function z0(n,e){n.G=Date.now(),Og(n),n.A=Uu(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),Z0(t.i,"t",r),n.C=0,t=n.l.I,n.h=new $0,n.g=ob(n.l,t?e:null,!n.s),0<n.O&&(n.M=new yD(Qi(n.Pa,n,n.g),n.O)),F0(n.U,n.g,"readystatechange",n.nb),e=n.I?dD(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),L_(),function vD(n,e,t,r,i,o){n.info(function(){if(n.g)if(o)for(var c="",f=o.split("&"),_=0;_<f.length;_++){var b=f[_].split("=");if(1<b.length){var T=b[0];b=b[1];var M=T.split("_");c=2<=M.length&&"type"==M[1]?c+(T+"=")+b+"&":c+(T+"=redacted&")}}else c=null;else c=o;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+c})}(n.j,n.u,n.A,n.m,n.W,n.s)}function q0(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function SD(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=XS(n,t),i==Mg){4==e&&(n.o=4,yo(14),r=!1),ch(n.j,n.m,null,"[Incomplete Response]");break}if(i==G0){n.o=4,yo(15),ch(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}ch(n.j,n.m,i,null),$f(n,i)}q0(n)&&i!=Mg&&i!=G0&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,yo(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ca&&(n.ca=!0,(e=n.l).g==n&&e.ca&&!e.L&&(e.j.info("Great, no buffering proxy detected. Bytes received: "+t.length),ib(e),e.L=!0,yo(11))):(ch(n.j,n.m,t,"[Invalid Chunked Response]"),hh(n),xg(n))}function XS(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Mg:(t=Number(e.substring(t,r)),isNaN(t)?G0:(r+=1)+t>e.length?Mg:(e=e.substr(r,t),n.C=r+t,e))}function Og(n){n.Y=Date.now()+n.P,jf(n,n.P)}function jf(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=Uf(Qi(n.lb,n),e)}function H_(n){n.B&&(dn.clearTimeout(n.B),n.B=null)}function xg(n){0==n.l.H||n.J||sb(n.l,n)}function hh(n){H_(n);var e=n.M;e&&"function"==typeof e.ra&&e.ra(),n.M=null,R0(n.V),L0(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.ra())}function $f(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||G_(t.h,n)))if(!n.K&&G_(t.h,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;X_(t),Jf(t)}rb(t),yo(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.M&&0==t.A&&!t.v&&(t.v=Uf(Qi(t.ib,t),6e3));if(1>=PD(t.h)&&t.na){try{t.na()}catch{}t.na=void 0}}else Wc(t,11)}else if((n.K||t.g==n)&&X_(t),!Dg(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let b=i[e];if(t.V=b[0],b=b[1],2==t.H)if("c"==b[0]){t.J=b[1],t.oa=b[2];const T=b[3];null!=T&&(t.qa=T,t.j.info("VER="+t.qa));const M=b[4];null!=M&&(t.Ga=M,t.j.info("SVER="+t.Ga));const F=b[5];null!=F&&"number"==typeof F&&0<F&&(t.K=r=1.5*F,t.j.info("backChannelRequestTimeoutMs_="+r)),r=t;const L=n.g;if(L){const z=L.g?L.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(z){var o=r.h;o.g||-1==z.indexOf("spdy")&&-1==z.indexOf("quic")&&-1==z.indexOf("h2")||(o.j=o.l,o.g=new Set,o.h&&(Y0(o,o.h),o.h=null))}if(r.F){const J=L.g?L.g.getResponseHeader("X-HTTP-Session-Id"):null;J&&(r.Da=J,Ar(r.G,r.F,J))}}t.H=3,t.l&&t.l.Ba(),t.ca&&(t.S=Date.now()-n.G,t.j.info("Handshake RTT: "+t.S+"ms"));var c=n;if((r=t).wa=uC(r,r.I?r.oa:null,r.Y),c.K){kD(r.h,c);var f=c,_=r.K;_&&f.setTimeout(_),f.B&&(H_(f),Og(f)),r.g=c}else J_(r);0<t.i.length&&Z_(t)}else"stop"!=b[0]&&"close"!=b[0]||Wc(t,7);else 3==t.H&&("stop"==b[0]||"close"==b[0]?"stop"==b[0]?Wc(t,7):eb(t):"noop"!=b[0]&&t.l&&t.l.Aa(b),t.A=0)}L_()}catch{}}function W0(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(Eg(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function AD(n){if(n.sa&&"function"==typeof n.sa)return n.sa();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(Eg(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function CD(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(Eg(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,o=0;o<i;o++)e.call(void 0,r[o],t&&t[o],n)}(Dt=U_.prototype).setTimeout=function(n){this.P=n},Dt.nb=function(n){n=n.target;const e=this.M;e&&3==Vu(n)?e.l():this.Pa(n)},Dt.Pa=function(n){try{if(n==this.g)e:{const T=Vu(this.g);var e=this.g.Ia();if(this.g.da(),!(3>T)&&(3!=T||C_||this.g&&(this.h.h||this.g.ja()||zD(this.g)))){this.J||4!=T||7==e||L_(),H_(this);var t=this.g.da();this.aa=t;t:if(q0(this)){var r=zD(this.g);n="";var i=r.length,o=4==Vu(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){hh(this),xg(this);var c="";break t}this.h.i=new dn.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:o&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,c=this.h.g}else c=this.g.ja();if(this.i=200==t,function bD(n,e,t,r,i,o,c){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+o+" "+c})}(this.j,this.u,this.A,this.m,this.W,T,t),this.i){if(this.ba&&!this.K){t:{if(this.g){var f,_=this.g;if((f=_.g?_.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Dg(f)){var b=f;break t}}b=null}if(!(t=b)){this.i=!1,this.o=3,yo(12),hh(this),xg(this);break e}ch(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,$f(this,t)}this.S?(SD(this,T,c),C_&&this.i&&3==T&&(F0(this.U,this.V,"tick",this.mb),this.V.start())):(ch(this.j,this.m,c,null),$f(this,c)),4==T&&hh(this),this.i&&!this.J&&(4==T?sb(this.l,this):(this.i=!1,Og(this)))}else 400==t&&0<c.indexOf("Unknown SID")?(this.o=3,yo(12)):(this.o=0,yo(13)),hh(this),xg(this)}}}catch{}},Dt.mb=function(){if(this.g){var n=Vu(this.g),e=this.g.ja();this.C<e.length&&(H_(this),SD(this,n,e),this.i&&4!=n&&Og(this))}},Dt.cancel=function(){this.J=!0,hh(this)},Dt.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function B0(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(L_(),yo(17)),hh(this),this.o=2,xg(this)):jf(this,this.Y-n)};var ND=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function rl(n,e){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof rl){this.h=void 0!==e?e:n.h,j_(this,n.j),this.s=n.s,this.g=n.g,$_(this,n.m),this.l=n.l,e=n.i;var t=new zf;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),K0(this,t),this.o=n.o}else n&&(t=String(n).match(ND))?(this.h=!!e,j_(this,t[1]||"",!0),this.s=kg(t[2]||""),this.g=kg(t[3]||"",!0),$_(this,t[4]),this.l=kg(t[5]||"",!0),K0(this,t[6]||"",!0),this.o=kg(t[7]||"")):(this.h=!!e,this.i=new zf(null,this.h))}function Uu(n){return new rl(n)}function j_(n,e,t){n.j=t?kg(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function $_(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function K0(n,e,t){e instanceof zf?(n.i=e,function tC(n,e){e&&!n.j&&(il(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OD(this,r),Z0(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=Gf(e,YO)),n.i=new zf(e,n.h))}function Ar(n,e,t){n.i.set(e,t)}function Pg(n){return Ar(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function kg(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function Gf(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,eC),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function eC(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}rl.prototype.toString=function(){var n=[],e=this.j;e&&n.push(Gf(e,MD,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(Gf(e,MD,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(Gf(t,"/"==t.charAt(0)?ZO:KO,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",Gf(t,JO)),n.join("")};var MD=/[#\/\?@]/g,KO=/[#\?:]/g,ZO=/[#\?]/g,YO=/[#\?@]/g,JO=/#/g;function zf(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function il(n){n.g||(n.g=new Map,n.h=0,n.i&&function Rg(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var o=n[t].substring(0,r);i=n[t].substring(r+1)}else o=n[t];e(o,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OD(n,e){il(n),e=ql(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function xD(n,e){return il(n),e=ql(n,e),n.g.has(e)}function Z0(n,e,t){OD(n,e),0<t.length&&(n.i=null,n.g.set(ql(n,e),y0(t)),n.h+=t.length)}function ql(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function RD(n){this.l=n||rC,n=dn.PerformanceNavigationTiming?0<(n=dn.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(dn.g&&dn.g.Ka&&dn.g.Ka()&&dn.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Dt=zf.prototype).add=function(n,e){il(this),this.i=null,n=ql(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Dt.forEach=function(n,e){il(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Dt.sa=function(){il(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let o=0;o<i.length;o++)t.push(e[r])}return t},Dt.Z=function(n){il(this);let e=[];if("string"==typeof n)xD(this,n)&&(e=e.concat(this.g.get(ql(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Dt.set=function(n,e){return il(this),this.i=null,xD(this,n=ql(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Dt.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Dt.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const o=encodeURIComponent(String(r)),c=this.Z(r);for(r=0;r<c.length;r++){var i=o;""!==c[r]&&(i+="="+encodeURIComponent(String(c[r]))),n.push(i)}}return this.i=n.join("&")};var rC=10;function iC(n){return!!n.h||!!n.g&&n.g.size>=n.j}function PD(n){return n.h?1:n.g?n.g.size:0}function G_(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function Y0(n,e){n.g?n.g.add(e):n.h=e}function kD(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function qf(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return y0(n.i)}function J0(){}function FD(){this.g=new J0}function sC(n,e,t){const r=t||"";try{W0(n,function(i,o){let c=i;zc(i)&&(c=M0(i)),e.push(r+o+"="+encodeURIComponent(c))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function z_(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function Wf(n){this.l=n.fc||null,this.j=n.ob||!1}function q_(n,e){Bi.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=Fg,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}RD.prototype.cancel=function(){if(this.i=qf(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}},J0.prototype.stringify=function(n){return dn.JSON.stringify(n,void 0)},J0.prototype.parse=function(n){return dn.JSON.parse(n,void 0)},Ii(Wf,H0),Wf.prototype.g=function(){return new q_(this.l,this.j)},Wf.prototype.i=function(n){return function(){return n}}({}),Ii(q_,Bi);var Fg=0;function BD(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function Kf(n){n.readyState=4,n.l=null,n.j=null,n.A=null,Zf(n)}function Zf(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Dt=q_.prototype).open=function(n,e){if(this.readyState!=Fg)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,Zf(this)},Dt.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||dn).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Dt.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Kf(this)),this.readyState=Fg},Dt.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,Zf(this)),this.g&&(this.readyState=3,Zf(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof dn.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;BD(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Dt.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?Kf(this):Zf(this),3==this.readyState&&BD(this)}},Dt.Za=function(n){this.g&&(this.response=this.responseText=n,Kf(this))},Dt.Ya=function(n){this.g&&(this.response=n,Kf(this))},Dt.ka=function(){this.g&&Kf(this)},Dt.setRequestHeader=function(n,e){this.v.append(n,e)},Dt.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Dt.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(q_.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var oC=dn.JSON.parse;function ni(n){Bi.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=UD,this.L=this.M=!1}Ii(ni,Bi);var UD="",Q0=/^https?$/i,aC=["POST","PUT"];function HD(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,jD(n),W_(n)}function jD(n){n.F||(n.F=!0,os(n,"complete"),os(n,"error"))}function $D(n){if(n.h&&typeof T_<"u"&&(!n.C[1]||4!=Vu(n)||2!=n.da()))if(n.v&&4==Vu(n))P0(n.La,0,n);else if(os(n,"readystatechange"),4==Vu(n)){n.h=!1;try{const f=n.da();e:switch(f){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===f){var i=String(n.I).match(ND)[1]||null;if(!i&&dn.self&&dn.self.location){var o=dn.self.location.protocol;i=o.substr(0,o.length-1)}r=!Q0.test(i?i.toLowerCase():"")}t=r}if(t)os(n,"complete"),os(n,"success");else{n.m=6;try{var c=2<Vu(n)?n.g.statusText:""}catch{c=""}n.j=c+" ["+n.da()+"]",jD(n)}}finally{W_(n)}}}function W_(n,e){if(n.g){GD(n);const t=n.g,r=n.C[0]?wg:null;n.g=null,n.C=null,e||os(n,"ready");try{t.onreadystatechange=r}catch{}}}function GD(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(dn.clearTimeout(n.A),n.A=null)}function Vu(n){return n.g?n.g.readyState:0}function zD(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case UD:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function qD(n){let e="";return uh(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function K_(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=qD(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Ar(n,e,t))}function Yf(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function X0(n){this.Ga=0,this.i=[],this.j=new Ng,this.oa=this.wa=this.G=this.Y=this.g=this.Da=this.F=this.ma=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=Yf("failFast",!1,n),this.M=this.v=this.u=this.m=this.l=null,this.aa=!0,this.ta=this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=Yf("baseRetryDelayMs",5e3,n),this.hb=Yf("retryDelaySeedMs",1e4,n),this.eb=Yf("forwardChannelMaxRetries",2,n),this.xa=Yf("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.K=void 0,this.I=n&&n.supportsCrossDomainXhr||!1,this.J="",this.h=new RD(n&&n.concurrentRequestLimit),this.Ja=new FD,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.j.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.na=void 0,this.S=0,this.L=!1,this.pa=this.B=null}function eb(n){if(tb(n),3==n.H){var e=n.W++,t=Uu(n.G);Ar(t,"SID",n.J),Ar(t,"RID",e),Ar(t,"TYPE","terminate"),fh(n,t),(e=new U_(n,n.j,e,void 0)).L=2,e.v=Pg(Uu(t)),t=!1,dn.navigator&&dn.navigator.sendBeacon&&(t=dn.navigator.sendBeacon(e.v.toString(),"")),!t&&dn.Image&&((new Image).src=e.v,t=!0),t||(e.g=ob(e.l,null),e.g.ha(e.v)),e.G=Date.now(),Og(e)}WD(n)}function Jf(n){n.g&&(ib(n),n.g.cancel(),n.g=null)}function tb(n){Jf(n),n.u&&(dn.clearTimeout(n.u),n.u=null),X_(n),n.h.cancel(),n.m&&("number"==typeof n.m&&dn.clearTimeout(n.m),n.m=null)}function Z_(n){iC(n.h)||n.m||(n.m=!0,gD(n.Na,n),n.C=0)}function Y_(n,e){var t;t=e?e.m:n.W++;const r=Uu(n.G);Ar(r,"SID",n.J),Ar(r,"RID",t),Ar(r,"AID",n.V),fh(n,r),n.o&&n.s&&K_(r,n.o,n.s),t=new U_(n,n.j,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.i=e.F.concat(n.i)),e=nb(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),Y0(n.h,t),V_(t,r,e)}function fh(n,e){n.ma&&uh(n.ma,function(t,r){Ar(e,r,t)}),n.l&&W0({},function(t,r){Ar(e,r,t)})}function nb(n,e,t){t=Math.min(n.i.length,t);var r=n.l?Qi(n.l.Va,n.l,n):null;e:{var i=n.i;let o=-1;for(;;){const c=["count="+t];-1==o?0<t?(o=i[0].h,c.push("ofs="+o)):o=0:c.push("ofs="+o);let f=!0;for(let _=0;_<t;_++){let b=i[_].h;const T=i[_].g;if(b-=o,0>b)o=Math.max(0,i[_].h-100),f=!1;else try{sC(T,c,"req"+b+"_")}catch{r&&r(T)}}if(f){r=c.join("&");break e}}}return n=n.i.splice(0,t),e.F=n,r}function J_(n){n.g||n.u||(n.ba=1,gD(n.Ma,n),n.A=0)}function rb(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=Uf(Qi(n.Ma,n),ph(n,n.A)),n.A++,0))}function ib(n){null!=n.B&&(dn.clearTimeout(n.B),n.B=null)}function Q_(n){n.g=new U_(n,n.j,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=Uu(n.wa);Ar(e,"RID","rpc"),Ar(e,"SID",n.J),Ar(e,"CI",n.M?"0":"1"),Ar(e,"AID",n.V),Ar(e,"TYPE","xmlhttp"),fh(n,e),n.o&&n.s&&K_(e,n.o,n.s),n.K&&n.g.setTimeout(n.K);var t=n.g;n=n.oa,t.L=1,t.v=Pg(Uu(e)),t.s=null,t.S=!0,z0(t,n)}function X_(n){null!=n.v&&(dn.clearTimeout(n.v),n.v=null)}function sb(n,e){var t=null;if(n.g==e){X_(n),ib(n),n.g=null;var r=2}else{if(!G_(n.h,e))return;t=e.F,kD(n.h,e),r=1}if(0!=n.H)if(n.ta=e.aa,e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;os(r=F_(),new U0(r,t)),Z_(n)}else J_(n);else if(3==(i=e.o)||0==i&&0<n.ta||!(1==r&&function lC(n,e){return!(PD(n.h)>=n.h.j-(n.m?1:0)||(n.m?(n.i=e.F.concat(n.i),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=Uf(Qi(n.Na,n,e),ph(n,n.C)),n.C++,0)))}(n,e)||2==r&&rb(n)))switch(t&&0<t.length&&(e=n.h,e.i=e.i.concat(t)),i){case 1:Wc(n,5);break;case 4:Wc(n,10);break;case 3:Wc(n,6);break;default:Wc(n,2)}}function ph(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.l||(t*=2),t*e}function Wc(n,e){if(n.j.info("Error code "+e),2==e){var t=null;n.l&&(t=null);var r=Qi(n.pb,n);t||(t=new rl("//www.google.com/images/cleardot.gif"),dn.location&&"http"==dn.location.protocol||j_(t,"https"),Pg(t)),function LD(n,e){const t=new Ng;if(dn.Image){const r=new Image;r.onload=I_(z_,t,r,"TestLoadImage: loaded",!0,e),r.onerror=I_(z_,t,r,"TestLoadImage: error",!1,e),r.onabort=I_(z_,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=I_(z_,t,r,"TestLoadImage: timeout",!1,e),dn.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else yo(2);n.H=0,n.l&&n.l.za(e),WD(n),tb(n)}function WD(n){if(n.H=0,n.pa=[],n.l){const e=qf(n.h);(0!=e.length||0!=n.i.length)&&(v0(n.pa,e),v0(n.pa,n.i),n.h.i.length=0,y0(n.i),n.i.length=0),n.l.ya()}}function uC(n,e,t){var r=t instanceof rl?Uu(t):new rl(t,void 0);if(""!=r.g)e&&(r.g=e+"."+r.g),$_(r,r.m);else{var i=dn.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var o=new rl(null,void 0);r&&j_(o,r),e&&(o.g=e),i&&$_(o,i),t&&(o.l=t),r=o}return e=n.Da,(t=n.F)&&e&&Ar(r,t,e),Ar(r,"VER",n.qa),fh(n,r),r}function ob(n,e,t){if(e&&!n.I)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new ni(t&&n.Ha&&!n.va?new Wf({ob:!0}):n.va)).Oa(n.I),e}function ey(){}function ty(){if(Rf&&!(10<=Number(cD)))throw Error("Environmental error: no available transport.")}function Xs(n,e){Bi.call(this),this.g=new X0(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Dg(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Dg(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Kc(this)}function KD(n){j0.call(this);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function ab(){Vf.call(this),this.status=1}function Kc(n){this.g=n}function ma(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function ny(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var o=n.g[3],c=(e=n.g[0])+(o^(t=n.g[1])&((i=n.g[2])^o))+r[0]+3614090360&4294967295;c=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=(t=(i=(o=(e=t+(c<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[3]+3250441966&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[4]+4118548399&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[7]+4249261313&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[8]+1770035416&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[11]+2304563134&4294967295)<<22&4294967295|c>>>10))+((c=e+(o^t&(i^o))+r[12]+1804603682&4294967295)<<7&4294967295|c>>>25))+((c=o+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|c>>>20))+((c=i+(t^o&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|c>>>15))+((c=t+(e^i&(o^e))+r[15]+1236535329&4294967295)<<22&4294967295|c>>>10))+((c=e+(i^o&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[11]+643717713&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[0]+3921069994&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[15]+3634488961&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[4]+3889429448&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[3]+4107603335&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[8]+1163531501&4294967295)<<20&4294967295|c>>>12))+((c=e+(i^o&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|c>>>27))+((c=o+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|c>>>23))+((c=i+(e^t&(o^e))+r[7]+1735328473&4294967295)<<14&4294967295|c>>>18))+((c=t+(o^e&(i^o))+r[12]+2368359562&4294967295)<<20&4294967295|c>>>12))+((c=e+(t^i^o)+r[5]+4294588738&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[14]+4259657740&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[1]+2763975236&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[10]+3200236656&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[13]+681279174&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[6]+76029189&4294967295)<<23&4294967295|c>>>9))+((c=e+(t^i^o)+r[9]+3654602809&4294967295)<<4&4294967295|c>>>28))+((c=o+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|c>>>21))+((c=i+(o^e^t)+r[15]+530742520&4294967295)<<16&4294967295|c>>>16))+((c=t+(i^o^e)+r[2]+3299628645&4294967295)<<23&4294967295|c>>>9))+((c=e+(i^(t|~o))+r[0]+4096336452&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[14]+2878612391&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[12]+1700485571&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[10]+4293915773&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|c>>>11))+((c=e+(i^(t|~o))+r[8]+1873313359&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|c>>>22))+((c=i+(e^(o|~t))+r[6]+2734768916&4294967295)<<15&4294967295|c>>>17))+((c=t+(o^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|c>>>11))+((o=(e=t+((c=e+(i^(t|~o))+r[4]+4149444226&4294967295)<<6&4294967295|c>>>26))+((c=o+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|c>>>22))^((i=o+((c=i+(e^(o|~t))+r[2]+718787259&4294967295)<<15&4294967295|c>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(c<<21&4294967295|c>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+o&4294967295}function Jn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var o=0|n[i];r&&o==e||(t[i]=o,r=!1)}this.g=t}(Dt=ni.prototype).Oa=function(n){this.M=n},Dt.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():Hf.g(),this.C=function DD(n){return n.h||(n.h=n.i())}(this.u?this.u:Hf),this.g.onreadystatechange=Qi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(o){return void HD(this,o)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const o of r.keys())t.set(o,r.get(o))}r=Array.from(t.keys()).find(o=>"content-type"==o.toLowerCase()),i=dn.FormData&&n instanceof dn.FormData,!(0<=iD(aC,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[o,c]of t)this.g.setRequestHeader(o,c);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{GD(this),0<this.B&&((this.L=function VD(n){return Rf&&function Gl(){return w0(uD,9,function(){let n=0;const e=sD(String(Pf)).split("."),t=sD("9").split("."),r=Math.max(e.length,t.length);for(let c=0;0==n&&c<r;c++){var i=e[c]||"",o=t[c]||"";do{if(i=/(\d*)(\D*)(.*)/.exec(i)||["","","",""],o=/(\d*)(\D*)(.*)/.exec(o)||["","","",""],0==i[0].length&&0==o[0].length)break;n=b0(0==i[1].length?0:parseInt(i[1],10),0==o[1].length?0:parseInt(o[1],10))||b0(0==i[2].length,0==o[2].length)||b0(i[2],o[2]),i=i[3],o=o[3]}while(0==n)}return 0<=n})}()&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Qi(this.ua,this)):this.A=P0(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(o){HD(this,o)}},Dt.ua=function(){typeof T_<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,os(this,"timeout"),this.abort(8))},Dt.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,os(this,"complete"),os(this,"abort"),W_(this))},Dt.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),W_(this,!0)),ni.$.N.call(this)},Dt.La=function(){this.s||(this.G||this.v||this.l?$D(this):this.kb())},Dt.kb=function(){$D(this)},Dt.da=function(){try{return 2<Vu(this)?this.g.status:-1}catch{return-1}},Dt.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Dt.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),oC(e)}},Dt.Ia=function(){return this.m},Dt.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Dt=X0.prototype).qa=8,Dt.H=1,Dt.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new U_(this,this.j,n,void 0);let o=this.s;if(this.U&&(o?(o=dD(o),hD(o,this.U)):o=this.U),null!==this.o||this.O||(i.I=o,o=null),this.P)e:{for(var e=0,t=0;t<this.i.length;t++){var r=this.i[t];if(void 0===(r="__data__"in r.g&&"string"==typeof(r=r.g.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.i.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=nb(this,i,e),Ar(t=Uu(this.G),"RID",n),Ar(t,"CVER",22),this.F&&Ar(t,"X-HTTP-Session-Id",this.F),fh(this,t),o&&(this.O?e="headers="+encodeURIComponent(String(qD(o)))+"&"+e:this.o&&K_(t,this.o,o)),Y0(this.h,i),this.bb&&Ar(t,"TYPE","init"),this.P?(Ar(t,"$req",e),Ar(t,"SID","null"),i.ba=!0,V_(i,t,null)):V_(i,t,e),this.H=2}}else 3==this.H&&(n?Y_(this,n):0==this.i.length||iC(this.h)||Y_(this))},Dt.Ma=function(){if(this.u=null,Q_(this),this.ca&&!(this.L||null==this.g||0>=this.S)){var n=2*this.S;this.j.info("BP detection timer enabled: "+n),this.B=Uf(Qi(this.jb,this),n)}},Dt.jb=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.M=!1,this.L=!0,yo(10),Jf(this),Q_(this))},Dt.ib=function(){null!=this.v&&(this.v=null,Jf(this),rb(this),yo(19))},Dt.pb=function(n){n?(this.j.info("Successfully pinged google.com"),yo(2)):(this.j.info("Failed to ping google.com"),yo(1))},(Dt=ey.prototype).Ba=function(){},Dt.Aa=function(){},Dt.za=function(){},Dt.ya=function(){},Dt.Va=function(){},ty.prototype.g=function(n,e){return new Xs(n,e)},Ii(Xs,Bi),Xs.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.I=!0);var n=this.g,e=this.l,t=this.h||void 0;yo(0),n.Y=e,n.ma=t||{},n.M=n.aa,n.G=uC(n,null,n.Y),Z_(n)},Xs.prototype.close=function(){eb(this.g)},Xs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=M0(n),n=t);e.i.push(new class{constructor(n,e){this.h=n,this.g=e}}(e.fb++,n)),3==e.H&&Z_(e)},Xs.prototype.N=function(){this.g.l=null,delete this.j,eb(this.g),delete this.g,Xs.$.N.call(this)},Ii(KD,j0),Ii(ab,Vf),Ii(Kc,ey),Kc.prototype.Ba=function(){os(this.g,"a")},Kc.prototype.Aa=function(n){os(this.g,new KD(n))},Kc.prototype.za=function(n){os(this.g,new ab)},Kc.prototype.ya=function(){os(this.g,"b")},Ii(ma,function ZD(){this.blockSize=-1}),ma.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},ma.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,o=0;o<e;){if(0==i)for(;o<=t;)ny(this,n,o),o+=this.blockSize;if("string"==typeof n){for(;o<e;)if(r[i++]=n.charCodeAt(o++),i==this.blockSize){ny(this,r),i=0;break}}else for(;o<e;)if(r[i++]=n[o++],i==this.blockSize){ny(this,r),i=0;break}}this.h=i,this.i+=e},ma.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var cC={};function lb(n){return-128<=n&&128>n?w0(cC,n,function(e){return new Jn([0|e],0>e?-1:0)}):new Jn([0|n],0>n?-1:0)}function Wl(n){if(isNaN(n)||!isFinite(n))return Lg;if(0>n)return as(Wl(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=ry;return new Jn(e,0)}var ry=4294967296,Lg=lb(0),iy=lb(1),JD=lb(16777216);function Hu(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function sl(n){return-1==n.h}function as(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new Jn(t,~n.h).add(iy)}function sy(n,e){return n.add(as(e))}function oy(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function Qf(n,e){this.g=n,this.h=e}function Bg(n,e){if(Hu(e))throw Error("division by zero");if(Hu(n))return new Qf(Lg,Lg);if(sl(n))return e=Bg(as(n),e),new Qf(as(e.g),as(e.h));if(sl(e))return e=Bg(n,as(e)),new Qf(as(e.g),e.h);if(30<n.g.length){if(sl(n)||sl(e))throw Error("slowDivide_ only works with positive integers.");for(var t=iy,r=e;0>=r.X(n);)t=ub(t),r=ub(r);var i=Xf(t,1),o=Xf(r,1);for(r=Xf(r,2),t=Xf(t,2);!Hu(r);){var c=o.add(r);0>=c.X(n)&&(i=i.add(t),o=c),r=Xf(r,1),t=Xf(t,1)}return e=sy(n,i.R(e)),new Qf(i,e)}for(i=Lg;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),c=(o=Wl(t)).R(e);sl(c)||0<c.X(n);)c=(o=Wl(t-=r)).R(e);Hu(o)&&(o=iy),i=i.add(o),n=sy(n,c)}return new Qf(i,n)}function ub(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new Jn(t,n.h)}function Xf(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],o=0;o<r;o++)i[o]=0<e?n.D(o+t)>>>e|n.D(o+t+1)<<32-e:n.D(o+t);return new Jn(i,n.h)}(Dt=Jn.prototype).ea=function(){if(sl(this))return-as(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:ry+r)*e,e*=ry}return n},Dt.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(Hu(this))return"0";if(sl(this))return"-"+as(this).toString(n);for(var e=Wl(Math.pow(n,6)),t=this,r="";;){var i=Bg(t,e).g,o=((0<(t=sy(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(Hu(t=i))return o+r;for(;6>o.length;)o="0"+o;r=o+r}},Dt.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Dt.X=function(n){return sl(n=sy(this,n))?-1:Hu(n)?0:1},Dt.abs=function(){return sl(this)?as(this):this},Dt.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var o=r+(65535&this.D(i))+(65535&n.D(i)),c=(o>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=c>>>16,t[i]=(c&=65535)<<16|(o&=65535)}return new Jn(t,-2147483648&t[t.length-1]?-1:0)},Dt.R=function(n){if(Hu(this)||Hu(n))return Lg;if(sl(this))return sl(n)?as(this).R(as(n)):as(as(this).R(n));if(sl(n))return as(this.R(as(n)));if(0>this.X(JD)&&0>n.X(JD))return Wl(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var o=this.D(r)>>>16,c=65535&this.D(r),f=n.D(i)>>>16,_=65535&n.D(i);t[2*r+2*i]+=c*_,oy(t,2*r+2*i),t[2*r+2*i+1]+=o*_,oy(t,2*r+2*i+1),t[2*r+2*i+1]+=c*f,oy(t,2*r+2*i+1),t[2*r+2*i+2]+=o*f,oy(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new Jn(t,0)},Dt.gb=function(n){return Bg(this,n).h},Dt.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new Jn(t,this.h&n.h)},Dt.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new Jn(t,this.h|n.h)},Dt.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new Jn(t,this.h^n.h)},ty.prototype.createWebChannel=ty.prototype.g,Xs.prototype.send=Xs.prototype.u,Xs.prototype.open=Xs.prototype.m,Xs.prototype.close=Xs.prototype.close,V0.NO_ERROR=0,V0.TIMEOUT=8,V0.HTTP_ERROR=6,Zt.COMPLETE="complete",TD.EventType=zl,zl.OPEN="a",zl.CLOSE="b",zl.ERROR="c",zl.MESSAGE="d",Bi.prototype.listen=Bi.prototype.O,ni.prototype.listenOnce=ni.prototype.P,ni.prototype.getLastError=ni.prototype.Sa,ni.prototype.getLastErrorCode=ni.prototype.Ia,ni.prototype.getStatus=ni.prototype.da,ni.prototype.getResponseJson=ni.prototype.Wa,ni.prototype.getResponseText=ni.prototype.ja,ni.prototype.send=ni.prototype.ha,ni.prototype.setWithCredentials=ni.prototype.Oa,ma.prototype.digest=ma.prototype.l,ma.prototype.reset=ma.prototype.reset,ma.prototype.update=ma.prototype.j,Jn.prototype.add=Jn.prototype.add,Jn.prototype.multiply=Jn.prototype.R,Jn.prototype.modulo=Jn.prototype.gb,Jn.prototype.compare=Jn.prototype.X,Jn.prototype.toNumber=Jn.prototype.ea,Jn.prototype.toString=Jn.prototype.toString,Jn.prototype.getBits=Jn.prototype.D,Jn.fromNumber=Wl,Jn.fromString=function YD(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return as(YD(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=Wl(Math.pow(e,8)),r=Lg,i=0;i<n.length;i+=8){var o=Math.min(8,n.length-i),c=parseInt(n.substring(i,i+o),e);8>o?(o=Wl(Math.pow(e,o)),r=r.R(o).add(Wl(c))):r=(r=r.R(t)).add(Wl(c))}return r};var dC=fa.createWebChannelTransport=function(){return new ty},hC=fa.getStatEventTarget=function(){return F_()},cb=fa.ErrorCode=V0,fC=fa.EventType=Zt,pC=fa.Event=Go,ep=fa.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},QD=fa.FetchXmlHttpFactory=Wf,Ug=fa.WebChannel=TD,XD=fa.XhrIo=ni,e1=fa.Md5=ma,gh=fa.Integer=Jn;const db="@firebase/firestore";class Xi{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Xi.UNAUTHENTICATED=new Xi(null),Xi.GOOGLE_CREDENTIALS=new Xi("google-credentials-uid"),Xi.FIRST_PARTY=new Xi("first-party-uid"),Xi.MOCK_USER=new Xi("mock-user");let Vg="9.21.0";const ju=new jc.Yd("@firebase/firestore");function hb(){return ju.logLevel}function Ke(n,...e){if(ju.logLevel<=jc.in.DEBUG){const t=e.map(fb);ju.debug(`Firestore (${Vg}): ${n}`,...t)}}function fi(n,...e){if(ju.logLevel<=jc.in.ERROR){const t=e.map(fb);ju.error(`Firestore (${Vg}): ${n}`,...t)}}function Os(n,...e){if(ju.logLevel<=jc.in.WARN){const t=e.map(fb);ju.warn(`Firestore (${Vg}): ${n}`,...t)}}function fb(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function St(n="Unexpected state"){const e=`FIRESTORE (${Vg}) INTERNAL ASSERTION FAILED: `+n;throw fi(e),new Error(e)}function Nt(n,e){n||St()}function mt(n,e){return n}const ye={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class He extends Gn.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ui{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class t1{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class ay{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(Xi.UNAUTHENTICATED))}shutdown(){}}class ly{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class _C{constructor(e){this.t=e,this.currentUser=Xi.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const o=b=>this.i!==i?(i=this.i,t(b)):Promise.resolve();let c=new Ui;this.o=()=>{this.i++,this.currentUser=this.u(),c.resolve(),c=new Ui,e.enqueueRetryable(()=>o(this.currentUser))};const f=()=>{const b=c;e.enqueueRetryable((0,xe.Z)(function*(){yield b.promise,yield o(r.currentUser)}))},_=b=>{Ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=b,this.auth.addAuthTokenListener(this.o),f()};this.t.onInit(b=>_(b)),setTimeout(()=>{if(!this.auth){const b=this.t.getImmediate({optional:!0});b?_(b):(Ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),c.resolve(),c=new Ui)}},0),f()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Nt("string"==typeof r.accessToken),new t1(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return Nt(null===e||"string"==typeof e),new Xi(e)}}class yC{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=Xi.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class n1{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new yC(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(Xi.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class pb{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class gb{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=o=>{null!=o.error&&Ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);const c=o.token!==this.T;return this.T=o.token,Ke("FirebaseAppCheckTokenProvider",`Received ${c?"new":"existing"} token.`),c?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};const i=o=>{Ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.appCheck.addTokenListener(this.o)};this.I.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){const o=this.I.getImmediate({optional:!0});o?i(o):Ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Nt("string"==typeof t.token),this.T=t.token,new pb(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function mb(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class uy{static A(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=mb(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}}function cn(n,e){return n<e?-1:n>e?1:0}function Zc(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}function cy(n){return n+"\0"}class Lr{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new He(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new He(ye.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new He(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new He(ye.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return Lr.fromMillis(Date.now())}static fromDate(e){return Lr.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new Lr(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?cn(this.nanoseconds,e.nanoseconds):cn(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){return String(this.seconds- -62135596800).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Vt{constructor(e){this.timestamp=e}static fromTimestamp(e){return new Vt(e)}static min(){return new Vt(new Lr(0,0))}static max(){return new Vt(new Lr(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Hg{constructor(e,t,r){void 0===t?t=0:t>e.length&&St(),void 0===r?r=e.length-t:r>e.length-t&&St(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===Hg.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Hg?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const o=e.get(i),c=t.get(i);if(o<c)return-1;if(o>c)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Fn extends Hg{construct(e,t,r){return new Fn(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new He(ye.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Fn(t)}static emptyPath(){return new Fn([])}}const r1=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Br extends Hg{construct(e,t,r){return new Br(e,t,r)}static isValidIdentifier(e){return r1.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Br.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Br(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const o=()=>{if(0===r.length)throw new He(ye.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let c=!1;for(;i<e.length;){const f=e[i];if("\\"===f){if(i+1===e.length)throw new He(ye.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const _=e[i+1];if("\\"!==_&&"."!==_&&"`"!==_)throw new He(ye.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=_,i+=2}else"`"===f?(c=!c,i++):"."!==f||c?(r+=f,i++):(o(),i++)}if(o(),c)throw new He(ye.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Br(t)}static emptyPath(){return new Br([])}}class gt{constructor(e){this.path=e}static fromPath(e){return new gt(Fn.fromString(e))}static fromName(e){return new gt(Fn.fromString(e).popFirst(5))}static empty(){return new gt(Fn.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Fn.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Fn.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new gt(new Fn(e.slice()))}}class jg{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}}function dy(n){return n.fields.find(e=>2===e.kind)}function Yc(n){return n.fields.filter(e=>2!==e.kind)}jg.UNKNOWN_ID=-1;class $g{constructor(e,t){this.fieldPath=e,this.kind=t}}class Gg{constructor(e,t){this.sequenceNumber=e,this.offset=t}static empty(){return new Gg(0,dr.min())}}function _b(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Vt.fromTimestamp(1e9===r?new Lr(t+1,0):new Lr(t,r));return new dr(i,gt.empty(),e)}function yb(n){return new dr(n.readTime,n.key,-1)}class dr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new dr(Vt.min(),gt.empty(),-1)}static max(){return new dr(Vt.max(),gt.empty(),-1)}}function Jc(n,e){let t=n.readTime.compareTo(e.readTime);return 0!==t?t:(t=gt.comparator(n.documentKey,e.documentKey),0!==t?t:cn(n.largestBatchId,e.largestBatchId))}const s1="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class o1{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}function mh(n){return a1.apply(this,arguments)}function a1(){return a1=(0,xe.Z)(function*(n){if(n.code!==ye.FAILED_PRECONDITION||n.message!==s1)throw n;Ke("LocalStore","Unexpectedly lost primary lease")}),a1.apply(this,arguments)}class pe{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&St(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new pe((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof pe?t:pe.resolve(t)}catch(t){return pe.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):pe.reject(t)}static resolve(e){return new pe((t,r)=>{t(e)})}static reject(e){return new pe((t,r)=>{r(e)})}static waitFor(e){return new pe((t,r)=>{let i=0,o=0,c=!1;e.forEach(f=>{++i,f.next(()=>{++o,c&&o===i&&t()},_=>r(_))}),c=!0,o===i&&t()})}static or(e){let t=pe.resolve(!1);for(const r of e)t=t.next(i=>i?pe.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new pe((r,i)=>{const o=e.length,c=new Array(o);let f=0;for(let _=0;_<o;_++){const b=_;t(e[b]).next(T=>{c[b]=T,++f,f===o&&r(c)},T=>i(T))}})}static doWhile(e,t){return new pe((r,i)=>{const o=()=>{!0===e()?t().next(()=>{o()},i):r()};o()})}}class tp{constructor(e,t){this.action=e,this.transaction=t,this.aborted=!1,this.R=new Ui,this.transaction.oncomplete=()=>{this.R.resolve()},this.transaction.onabort=()=>{t.error?this.R.reject(new _h(e,t.error)):this.R.resolve()},this.transaction.onerror=r=>{const i=vb(r.target.error);this.R.reject(new _h(e,i))}}static open(e,t,r,i){try{return new tp(t,e.transaction(i,r))}catch(o){throw new _h(t,o)}}get v(){return this.R.promise}abort(e){e&&this.R.reject(e),this.aborted||(Ke("SimpleDb","Aborting transaction:",e?e.message:"Client-initiated abort"),this.aborted=!0,this.transaction.abort())}P(){const e=this.transaction;this.aborted||"function"!=typeof e.commit||e.commit()}store(e){const t=this.transaction.objectStore(e);return new l1(t)}}class eo{constructor(e,t,r){this.name=e,this.version=t,this.V=r,12.2===eo.S((0,Gn.z$)())&&fi("Firestore persistence suffers from a bug in iOS 12.2 Safari that may cause your app to stop working. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.")}static delete(e){return Ke("SimpleDb","Removing database:",e),yh(window.indexedDB.deleteDatabase(e)).toPromise()}static D(){if(!(0,Gn.hl)())return!1;if(eo.C())return!0;const e=(0,Gn.z$)(),t=eo.S(e),r=0<t&&t<10,i=eo.N(e),o=0<i&&i<4.5;return!(e.indexOf("MSIE ")>0||e.indexOf("Trident/")>0||e.indexOf("Edge/")>0||r||o)}static C(){var e;return typeof process<"u"&&"YES"===(null===(e=process.env)||void 0===e?void 0:e.k)}static M(e,t){return e.store(t)}static S(e){const t=e.match(/i(?:phone|pad|pod) os ([\d_]+)/i),r=t?t[1].split("_").slice(0,2).join("."):"-1";return Number(r)}static N(e){const t=e.match(/Android ([\d.]+)/i),r=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(r)}O(e){var t=this;return(0,xe.Z)(function*(){return t.db||(Ke("SimpleDb","Opening database:",t.name),t.db=yield new Promise((r,i)=>{const o=indexedDB.open(t.name,t.version);o.onsuccess=c=>{r(c.target.result)},o.onblocked=()=>{i(new _h(e,"Cannot upgrade IndexedDB schema while another tab is open. Close all tabs that access Firestore and reload this page to proceed."))},o.onerror=c=>{const f=c.target.error;i("VersionError"===f.name?new He(ye.FAILED_PRECONDITION,"A newer version of the Firestore SDK was previously used and so the persisted data is not compatible with the version of the SDK you are now using. The SDK will operate with persistence disabled. If you need persistence, please re-upgrade to a newer version of the SDK or else clear the persisted IndexedDB data for your app to start fresh."):"InvalidStateError"===f.name?new He(ye.FAILED_PRECONDITION,"Unable to open an IndexedDB connection. This could be due to running in a private browsing session on a browser whose private browsing sessions do not support IndexedDB: "+f):new _h(e,f))},o.onupgradeneeded=c=>{Ke("SimpleDb",'Database "'+t.name+'" requires upgrade from version:',c.oldVersion),t.V.$(c.target.result,o.transaction,c.oldVersion,t.version).next(()=>{Ke("SimpleDb","Database upgrade to version "+t.version+" complete")})}})),t.F&&(t.db.onversionchange=r=>t.F(r)),t.db})()}B(e){this.F=e,this.db&&(this.db.onversionchange=t=>e(t))}runTransaction(e,t,r,i){var o=this;return(0,xe.Z)(function*(){const c="readonly"===t;let f=0;for(;;){++f;try{o.db=yield o.O(e);const _=tp.open(o.db,e,c?"readonly":"readwrite",r),b=i(_).next(T=>(_.P(),T)).catch(T=>(_.abort(T),pe.reject(T))).toPromise();return b.catch(()=>{}),yield _.v,b}catch(_){const b=_,T="FirebaseError"!==b.name&&f<3;if(Ke("SimpleDb","Transaction failed with error:",b.message,"Retrying:",T),o.close(),!T)return Promise.reject(b)}}})()}close(){this.db&&this.db.close(),this.db=void 0}}class wC{constructor(e){this.L=e,this.q=!1,this.U=null}get isDone(){return this.q}get K(){return this.U}set cursor(e){this.L=e}done(){this.q=!0}G(e){this.U=e}delete(){return yh(this.L.delete())}}class _h extends He{constructor(e,t){super(ye.UNAVAILABLE,`IndexedDB transaction '${e}' failed: ${t}`),this.name="IndexedDbTransactionError"}}function Qc(n){return"IndexedDbTransactionError"===n.name}class l1{constructor(e){this.store=e}put(e,t){let r;return void 0!==t?(Ke("SimpleDb","PUT",this.store.name,e,t),r=this.store.put(t,e)):(Ke("SimpleDb","PUT",this.store.name,"<auto-key>",e),r=this.store.put(e)),yh(r)}add(e){return Ke("SimpleDb","ADD",this.store.name,e,e),yh(this.store.add(e))}get(e){return yh(this.store.get(e)).next(t=>(void 0===t&&(t=null),Ke("SimpleDb","GET",this.store.name,e,t),t))}delete(e){return Ke("SimpleDb","DELETE",this.store.name,e),yh(this.store.delete(e))}count(){return Ke("SimpleDb","COUNT",this.store.name),yh(this.store.count())}j(e,t){const r=this.options(e,t);if(r.index||"function"!=typeof this.store.getAll){const i=this.cursor(r),o=[];return this.W(i,(c,f)=>{o.push(f)}).next(()=>o)}{const i=this.store.getAll(r.range);return new pe((o,c)=>{i.onerror=f=>{c(f.target.error)},i.onsuccess=f=>{o(f.target.result)}})}}H(e,t){const r=this.store.getAll(e,null===t?void 0:t);return new pe((i,o)=>{r.onerror=c=>{o(c.target.error)},r.onsuccess=c=>{i(c.target.result)}})}J(e,t){Ke("SimpleDb","DELETE ALL",this.store.name);const r=this.options(e,t);r.Y=!1;const i=this.cursor(r);return this.W(i,(o,c,f)=>f.delete())}X(e,t){let r;t?r=e:(r={},t=e);const i=this.cursor(r);return this.W(i,t)}Z(e){const t=this.cursor({});return new pe((r,i)=>{t.onerror=o=>{const c=vb(o.target.error);i(c)},t.onsuccess=o=>{const c=o.target.result;c?e(c.primaryKey,c.value).next(f=>{f?c.continue():r()}):r()}})}W(e,t){const r=[];return new pe((i,o)=>{e.onerror=c=>{o(c.target.error)},e.onsuccess=c=>{const f=c.target.result;if(!f)return void i();const _=new wC(f),b=t(f.primaryKey,f.value,_);if(b instanceof pe){const T=b.catch(M=>(_.done(),pe.reject(M)));r.push(T)}_.isDone?i():null===_.K?f.continue():f.continue(_.K)}}).next(()=>pe.waitFor(r))}options(e,t){let r;return void 0!==e&&("string"==typeof e?r=e:t=e),{index:r,range:t}}cursor(e){let t="next";if(e.reverse&&(t="prev"),e.index){const r=this.store.index(e.index);return e.Y?r.openKeyCursor(e.range,t):r.openCursor(e.range,t)}return this.store.openCursor(e.range,t)}}function yh(n){return new pe((e,t)=>{n.onsuccess=r=>{e(r.target.result)},n.onerror=r=>{const i=vb(r.target.error);t(i)}})}let u1=!1;function vb(n){const e=eo.S((0,Gn.z$)());if(e>=12.2&&e<13){const t="An internal error was encountered in the Indexed Database server";if(n.message.indexOf(t)>=0){const r=new He("internal",`IOS_INDEXEDDB_BUG1: IndexedDb has thrown '${t}'. This is likely due to an unavoidable bug in iOS. See https://stackoverflow.com/q/56496296/110915 for details and a potential workaround.`);return u1||(u1=!0,setTimeout(()=>{throw r},0)),r}}return n}class bb{constructor(e,t){this.asyncQueue=e,this.tt=t,this.task=null}start(){this.et(15e3)}stop(){this.task&&(this.task.cancel(),this.task=null)}get started(){return null!==this.task}et(e){var t=this;Ke("IndexBackiller",`Scheduled in ${e}ms`),this.task=this.asyncQueue.enqueueAfterDelay("index_backfill",e,(0,xe.Z)(function*(){t.task=null;try{Ke("IndexBackiller",`Documents written: ${yield t.tt.nt()}`)}catch(r){Qc(r)?Ke("IndexBackiller","Ignoring IndexedDB error during index backfill: ",r):yield mh(r)}yield t.et(6e4)}))}}class c1{constructor(e,t){this.localStore=e,this.persistence=t}nt(e=50){var t=this;return(0,xe.Z)(function*(){return t.persistence.runTransaction("Backfill Indexes","readwrite-primary",r=>t.st(r,e))})()}st(e,t){const r=new Set;let i=t,o=!0;return pe.doWhile(()=>!0===o&&i>0,()=>this.localStore.indexManager.getNextCollectionGroupToUpdate(e).next(c=>{if(null!==c&&!r.has(c))return Ke("IndexBackiller",`Processing collection: ${c}`),this.it(e,c,i).next(f=>{i-=f,r.add(c)});o=!1})).next(()=>t-i)}it(e,t,r){return this.localStore.indexManager.getMinOffsetFromCollectionGroup(e,t).next(i=>this.localStore.localDocuments.getNextDocuments(e,t,i,r).next(o=>{const c=o.changes;return this.localStore.indexManager.updateIndexEntries(e,c).next(()=>this.rt(i,o)).next(f=>(Ke("IndexBackiller",`Updating offset: ${f}`),this.localStore.indexManager.updateCollectionGroup(e,t,f))).next(()=>c.size)}))}rt(e,t){let r=e;return t.changes.forEach((i,o)=>{const c=yb(o);Jc(c,r)>0&&(r=c)}),new dr(r.readTime,r.documentKey,Math.max(t.batchId,e.largestBatchId))}}let vo=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ot(i),this.ut=i=>r.writeSequenceNumber(i))}ot(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){const t=++this.previousValue;return this.ut&&this.ut(t),t}}return n.ct=-1,n})();function Xc(n){return null==n}function vh(n){return 0===n&&1/n==-1/0}function EC(n){return"number"==typeof n&&Number.isInteger(n)&&!vh(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}function ls(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=wb(e)),e=DC(n.get(t),e);return wb(e)}function DC(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const o=n.charAt(i);switch(o){case"\0":t+="\x01\x10";break;case"\x01":t+="\x01\x11";break;default:t+=o}}return t}function wb(n){return n+"\x01\x01"}function to(n){const e=n.length;if(Nt(e>=2),2===e)return Nt("\x01"===n.charAt(0)&&"\x01"===n.charAt(1)),Fn.emptyPath();const t=e-2,r=[];let i="";for(let o=0;o<e;){const c=n.indexOf("\x01",o);switch((c<0||c>t)&&St(),n.charAt(c+1)){case"\x01":const f=n.substring(o,c);let _;0===i.length?_=f:(i+=f,_=i,i=""),r.push(_);break;case"\x10":i+=n.substring(o,c),i+="\0";break;case"\x11":i+=n.substring(o,c+1);break;default:St()}o=c+2}return new Fn(r)}const d1=["userId","batchId"];function zg(n,e){return[n,ls(e)]}function hy(n,e,t){return[n,ls(e),t]}const QO={},TC=["prefixPath","collectionGroup","readTime","documentId"],XO=["prefixPath","collectionGroup","documentId"],IC=["collectionGroup","readTime","prefixPath","documentId"],SC=["canonicalId","targetId"],CC=["targetId","path"],h1=["path","targetId"],f1=["collectionId","parent"],AC=["indexId","uid"],p1=["uid","sequenceNumber"],g1=["indexId","uid","arrayValue","directionalValue","orderedDocumentKey","documentKey"],NC=["indexId","uid","orderedDocumentKey"],MC=["userId","collectionPath","documentId"],m1=["userId","collectionPath","largestBatchId"],OC=["userId","collectionGroup","largestBatchId"],Eb=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],_1=[...Eb,"documentOverlays"],Db=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],Tb=Db,xC=[...Tb,"indexConfiguration","indexState","indexEntries"];class Ib extends o1{constructor(e,t){super(),this.at=e,this.currentSequenceNumber=t}}function us(n,e){const t=mt(n);return eo.M(t.at,e)}function Sb(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function bh(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function RC(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}class Nr{constructor(e,t){this.comparator=e,this.root=t||xs.EMPTY}insert(e,t){return new Nr(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,xs.BLACK,null,null))}remove(e){return new Nr(this.comparator,this.root.remove(e,this.comparator).copy(null,null,xs.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Cb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Cb(this.root,e,this.comparator,!1)}getReverseIterator(){return new Cb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Cb(this.root,e,this.comparator,!0)}}class Cb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(0===o){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class xs{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??xs.RED,this.left=i??xs.EMPTY,this.right=o??xs.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new xs(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===o?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return xs.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return xs.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,xs.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,xs.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw St();const e=this.left.check();if(e!==this.right.check())throw St();return e+(this.isRed()?0:1)}}xs.EMPTY=null,xs.RED=!0,xs.BLACK=!1,xs.EMPTY=new class{constructor(){this.size=0}get key(){throw St()}get value(){throw St()}get color(){throw St()}get left(){throw St()}get right(){throw St()}copy(n,e,t,r,i){return this}insert(n,e,t){return new xs(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Ur{constructor(e){this.comparator=e,this.data=new Nr(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new PC(this.data.getIterator())}getIteratorFrom(e){return new PC(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Ur)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(0!==this.comparator(i,o))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Ur(this.comparator);return t.data=e,t}}class PC{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}function qg(n){return n.hasNext()?n.getNext():void 0}class cs{constructor(e){this.fields=e,e.sort(Br.comparator)}static empty(){return new cs([])}unionWith(e){let t=new Ur(Br.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new cs(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Zc(this.fields,e.fields,(t,r)=>t.isEqual(r))}}class kC extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class ri{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kC("Invalid base64 string: "+i):i}}(e);return new ri(t)}static fromUint8Array(e){const t=function(r){let i="";for(let o=0;o<r.length;++o)i+=String.fromCharCode(r[o]);return i}(e);return new ri(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return cn(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}ri.EMPTY_BYTE_STRING=new ri("");const v1=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function $u(n){if(Nt(!!n),"string"==typeof n){let e=0;const t=v1.exec(n);if(Nt(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:pi(n.seconds),nanos:pi(n.nanos)}}function pi(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}function ol(n){return"string"==typeof n?ri.fromBase64String(n):ri.fromUint8Array(n)}function Wg(n){var e,t;return"server_timestamp"===(null===(t=((null===(e=n?.mapValue)||void 0===e?void 0:e.fields)||{}).__type__)||void 0===t?void 0:t.stringValue)}function fy(n){const e=n.mapValue.fields.__previous_value__;return Wg(e)?fy(e):e}function py(n){const e=$u(n.mapValue.fields.__local_write_time__.timestampValue);return new Lr(e.seconds,e.nanos)}class FC{constructor(e,t,r,i,o,c,f,_){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=c,this.autoDetectLongPolling=f,this.useFetchStreams=_}}class ed{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new ed("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof ed&&e.projectId===this.projectId&&e.database===this.database}}const td={mapValue:{fields:{__type__:{stringValue:"__max__"}}}},wh={nullValue:"NULL_VALUE"};function nd(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Wg(n)?4:w1(n)?9007199254740991:10:St()}function Gu(n,e){if(n===e)return!0;const t=nd(n);if(t!==nd(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return py(n).isEqual(py(e));case 3:return function(r,i){if("string"==typeof r.timestampValue&&"string"==typeof i.timestampValue&&r.timestampValue.length===i.timestampValue.length)return r.timestampValue===i.timestampValue;const o=$u(r.timestampValue),c=$u(i.timestampValue);return o.seconds===c.seconds&&o.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return i=e,ol(n.bytesValue).isEqual(ol(i.bytesValue));case 7:return n.referenceValue===e.referenceValue;case 8:return function(r,i){return pi(r.geoPointValue.latitude)===pi(i.geoPointValue.latitude)&&pi(r.geoPointValue.longitude)===pi(i.geoPointValue.longitude)}(n,e);case 2:return function(r,i){if("integerValue"in r&&"integerValue"in i)return pi(r.integerValue)===pi(i.integerValue);if("doubleValue"in r&&"doubleValue"in i){const o=pi(r.doubleValue),c=pi(i.doubleValue);return o===c?vh(o)===vh(c):isNaN(o)&&isNaN(c)}return!1}(n,e);case 9:return Zc(n.arrayValue.values||[],e.arrayValue.values||[],Gu);case 10:return function(r,i){const o=r.mapValue.fields||{},c=i.mapValue.fields||{};if(Sb(o)!==Sb(c))return!1;for(const f in o)if(o.hasOwnProperty(f)&&(void 0===c[f]||!Gu(o[f],c[f])))return!1;return!0}(n,e);default:return St()}var i}function gy(n,e){return void 0!==(n.values||[]).find(t=>Gu(t,e))}function Eh(n,e){if(n===e)return 0;const t=nd(n),r=nd(e);if(t!==r)return cn(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return cn(n.booleanValue,e.booleanValue);case 2:return function(i,o){const c=pi(i.integerValue||i.doubleValue),f=pi(o.integerValue||o.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return b1(n.timestampValue,e.timestampValue);case 4:return b1(py(n),py(e));case 5:return cn(n.stringValue,e.stringValue);case 6:return function(i,o){const c=ol(i),f=ol(o);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(i,o){const c=i.split("/"),f=o.split("/");for(let _=0;_<c.length&&_<f.length;_++){const b=cn(c[_],f[_]);if(0!==b)return b}return cn(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(i,o){const c=cn(pi(i.latitude),pi(o.latitude));return 0!==c?c:cn(pi(i.longitude),pi(o.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return function(i,o){const c=i.values||[],f=o.values||[];for(let _=0;_<c.length&&_<f.length;++_){const b=Eh(c[_],f[_]);if(b)return b}return cn(c.length,f.length)}(n.arrayValue,e.arrayValue);case 10:return function(i,o){if(i===td.mapValue&&o===td.mapValue)return 0;if(i===td.mapValue)return 1;if(o===td.mapValue)return-1;const c=i.fields||{},f=Object.keys(c),_=o.fields||{},b=Object.keys(_);f.sort(),b.sort();for(let T=0;T<f.length&&T<b.length;++T){const M=cn(f[T],b[T]);if(0!==M)return M;const F=Eh(c[f[T]],_[b[T]]);if(0!==F)return F}return cn(f.length,b.length)}(n.mapValue,e.mapValue);default:throw St()}}function b1(n,e){if("string"==typeof n&&"string"==typeof e&&n.length===e.length)return cn(n,e);const t=$u(n),r=$u(e),i=cn(t.seconds,r.seconds);return 0!==i?i:cn(t.nanos,r.nanos)}function np(n){return Ab(n)}function Ab(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(r){const i=$u(r);return`time(${i.seconds},${i.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?ol(n.bytesValue).toBase64():"referenceValue"in n?gt.fromName(n.referenceValue).toString():"geoPointValue"in n?`geo(${(e=n.geoPointValue).latitude},${e.longitude})`:"arrayValue"in n?function(r){let i="[",o=!0;for(const c of r.values||[])o?o=!1:i+=",",i+=Ab(c);return i+"]"}(n.arrayValue):"mapValue"in n?function(r){const i=Object.keys(r.fields||{}).sort();let o="{",c=!0;for(const f of i)c?c=!1:o+=",",o+=`${f}:${Ab(r.fields[f])}`;return o+"}"}(n.mapValue):St();var e}function Dh(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function my(n){return!!n&&"integerValue"in n}function rp(n){return!!n&&"arrayValue"in n}function LC(n){return!!n&&"nullValue"in n}function _a(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function _y(n){return!!n&&"mapValue"in n}function Th(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&"object"==typeof n.timestampValue)return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return bh(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Th(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Th(n.arrayValue.values[t]);return e}return Object.assign({},n)}function w1(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}function ex(n){return"nullValue"in n?wh:"booleanValue"in n?{booleanValue:!1}:"integerValue"in n||"doubleValue"in n?{doubleValue:NaN}:"timestampValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"stringValue"in n?{stringValue:""}:"bytesValue"in n?{bytesValue:""}:"referenceValue"in n?Dh(ed.empty(),gt.empty()):"geoPointValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"arrayValue"in n?{arrayValue:{}}:"mapValue"in n?{mapValue:{}}:St()}function ya(n){return"nullValue"in n?{booleanValue:!1}:"booleanValue"in n?{doubleValue:NaN}:"integerValue"in n||"doubleValue"in n?{timestampValue:{seconds:Number.MIN_SAFE_INTEGER}}:"timestampValue"in n?{stringValue:""}:"stringValue"in n?{bytesValue:""}:"bytesValue"in n?Dh(ed.empty(),gt.empty()):"referenceValue"in n?{geoPointValue:{latitude:-90,longitude:-180}}:"geoPointValue"in n?{arrayValue:{}}:"arrayValue"in n?{mapValue:{}}:"mapValue"in n?td:St()}function E1(n,e){const t=Eh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?-1:!n.inclusive&&e.inclusive?1:0}function yy(n,e){const t=Eh(n.value,e.value);return 0!==t?t:n.inclusive&&!e.inclusive?1:!n.inclusive&&e.inclusive?-1:0}class ds{constructor(e){this.value=e}static empty(){return new ds({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!_y(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Th(t)}setAll(e){let t=Br.emptyPath(),r={},i=[];e.forEach((c,f)=>{if(!t.isImmediateParentOf(f)){const _=this.getFieldsMap(t);this.applyChanges(_,r,i),r={},i=[],t=f.popLast()}c?r[f.lastSegment()]=Th(c):i.push(f.lastSegment())});const o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){const t=this.field(e.popLast());_y(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Gu(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];_y(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){bh(t,(i,o)=>e[i]=o);for(const i of r)delete e[i]}clone(){return new ds(Th(this.value))}}function D1(n){const e=[];return bh(n.fields,(t,r)=>{const i=new Br([t]);if(_y(r)){const o=D1(r.mapValue).fields;if(0===o.length)e.push(i);else for(const c of o)e.push(i.child(c))}else e.push(i)}),new cs(e)}class hr{constructor(e,t,r,i,o,c,f){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=c,this.documentState=f}static newInvalidDocument(e){return new hr(e,0,Vt.min(),Vt.min(),Vt.min(),ds.empty(),0)}static newFoundDocument(e,t,r,i){return new hr(e,1,t,Vt.min(),r,i,0)}static newNoDocument(e,t){return new hr(e,2,t,Vt.min(),Vt.min(),ds.empty(),0)}static newUnknownDocument(e,t){return new hr(e,3,t,Vt.min(),Vt.min(),ds.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Vt.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=ds.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=ds.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Vt.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof hr&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new hr(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class zu{constructor(e,t){this.position=e,this.inclusive=t}}function Mb(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const o=e[i],c=n.position[i];if(r=o.field.isKeyField()?gt.comparator(gt.fromName(c.referenceValue),t.key):Eh(c,t.data.field(o.field)),"desc"===o.dir&&(r*=-1),0!==r)break}return r}function T1(n,e){if(null===n)return null===e;if(null===e||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Gu(n.position[t],e.position[t]))return!1;return!0}class Ih{constructor(e,t="asc"){this.field=e,this.dir=t}}function I1(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}class S1{}class Nn extends S1{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,r):new UC(e,t,r):"array-contains"===t?new N1(e,r):"in"===t?new jC(e,r):"not-in"===t?new M1(e,r):"array-contains-any"===t?new $C(e,r):new Nn(e,t,r)}static createKeyFieldInFilter(e,t,r){return"in"===t?new VC(e,r):new HC(e,r)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Eh(t,this.value)):null!==t&&nd(this.value)===nd(t)&&this.matchesComparison(Eh(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return St()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}getFirstInequalityField(){return this.isInequality()?this.field:null}}class tr extends S1{constructor(e,t){super(),this.filters=e,this.op=t,this.ht=null}static create(e,t){return new tr(e,t)}matches(e){return rd(this)?void 0===this.filters.find(t=>!t.matches(e)):void 0!==this.filters.find(t=>t.matches(e))}getFlattenedFilters(){return null!==this.ht||(this.ht=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ht}getFilters(){return Object.assign([],this.filters)}getFirstInequalityField(){const e=this.lt(t=>t.isInequality());return null!==e?e.field:null}lt(e){for(const t of this.getFlattenedFilters())if(e(t))return t;return null}}function rd(n){return"and"===n.op}function al(n){return"or"===n.op}function Kl(n){return Ob(n)&&rd(n)}function Ob(n){for(const e of n.filters)if(e instanceof tr)return!1;return!0}function Kg(n){if(n instanceof Nn)return n.field.canonicalString()+n.op.toString()+np(n.value);if(Kl(n))return n.filters.map(e=>Kg(e)).join(",");{const e=n.filters.map(t=>Kg(t)).join(",");return`${n.op}(${e})`}}function xb(n,e){return n instanceof Nn?(t=n,(r=e)instanceof Nn&&t.op===r.op&&t.field.isEqual(r.field)&&Gu(t.value,r.value)):n instanceof tr?function(t,r){return r instanceof tr&&t.op===r.op&&t.filters.length===r.filters.length&&t.filters.reduce((i,o,c)=>i&&xb(o,r.filters[c]),!0)}(n,e):void St();var t,r}function C1(n,e){const t=n.filters.concat(e);return tr.create(t,n.op)}function BC(n){return n instanceof Nn?`${(e=n).field.canonicalString()} ${e.op} ${np(e.value)}`:n instanceof tr?function(e){return e.op.toString()+" {"+e.getFilters().map(BC).join(" ,")+"}"}(n):"Filter";var e}class UC extends Nn{constructor(e,t,r){super(e,t,r),this.key=gt.fromName(r.referenceValue)}matches(e){const t=gt.comparator(e.key,this.key);return this.matchesComparison(t)}}class VC extends Nn{constructor(e,t){super(e,"in",t),this.keys=A1(0,t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class HC extends Nn{constructor(e,t){super(e,"not-in",t),this.keys=A1(0,t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function A1(n,e){var t;return((null===(t=e.arrayValue)||void 0===t?void 0:t.values)||[]).map(r=>gt.fromName(r.referenceValue))}class N1 extends Nn{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return rp(t)&&gy(t.arrayValue,this.value)}}class jC extends Nn{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&gy(this.value.arrayValue,t)}}class M1 extends Nn{constructor(e,t){super(e,"not-in",t)}matches(e){if(gy(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!gy(this.value.arrayValue,t)}}class $C extends Nn{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!rp(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>gy(this.value.arrayValue,r))}}class O1{constructor(e,t=null,r=[],i=[],o=null,c=null,f=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=c,this.endAt=f,this.ft=null}}function x1(n,e=null,t=[],r=[],i=null,o=null,c=null){return new O1(n,e,t,r,i,o,c)}function qu(n){const e=mt(n);if(null===e.ft){let t=e.path.canonicalString();null!==e.collectionGroup&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Kg(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>{return(i=r).field.canonicalString()+i.dir;var i}).join(","),Xc(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>np(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>np(r)).join(",")),e.ft=t}return e.ft}function ip(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!I1(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!xb(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!T1(n.startAt,e.startAt)&&T1(n.endAt,e.endAt)}function Zg(n){return gt.isDocumentKey(n.path)&&null===n.collectionGroup&&0===n.filters.length}function Yg(n,e){return n.filters.filter(t=>t instanceof Nn&&t.field.isEqual(e))}function Rb(n,e,t){let r=wh,i=!0;for(const o of Yg(n,e)){let c=wh,f=!0;switch(o.op){case"<":case"<=":c=ex(o.value);break;case"==":case"in":case">=":c=o.value;break;case">":c=o.value,f=!1;break;case"!=":case"not-in":c=wh}E1({value:r,inclusive:i},{value:c,inclusive:f})<0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];E1({value:r,inclusive:i},{value:c,inclusive:t.inclusive})<0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}function Pb(n,e,t){let r=td,i=!0;for(const o of Yg(n,e)){let c=td,f=!0;switch(o.op){case">=":case">":c=ya(o.value),f=!1;break;case"==":case"in":case"<=":c=o.value;break;case"<":c=o.value,f=!1;break;case"!=":case"not-in":c=td}yy({value:r,inclusive:i},{value:c,inclusive:f})>0&&(r=c,i=f)}if(null!==t)for(let o=0;o<n.orderBy.length;++o)if(n.orderBy[o].field.isEqual(e)){const c=t.position[o];yy({value:r,inclusive:i},{value:c,inclusive:t.inclusive})>0&&(r=c,i=t.inclusive);break}return{value:r,inclusive:i}}class va{constructor(e,t=null,r=[],i=[],o=null,c="F",f=null,_=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=c,this.startAt=f,this.endAt=_,this.dt=null,this._t=null}}function Jg(n,e,t,r,i,o,c,f){return new va(n,e,t,r,i,o,c,f)}function Sh(n){return new va(n)}function R1(n){return 0===n.filters.length&&null===n.limit&&null==n.startAt&&null==n.endAt&&(0===n.explicitOrderBy.length||1===n.explicitOrderBy.length&&n.explicitOrderBy[0].field.isKeyField())}function kb(n){return n.explicitOrderBy.length>0?n.explicitOrderBy[0].field:null}function Fb(n){for(const e of n.filters){const t=e.getFirstInequalityField();if(null!==t)return t}return null}function P1(n){return null!==n.collectionGroup}function sp(n){const e=mt(n);if(null===e.dt){e.dt=[];const t=Fb(e),r=kb(e);if(null!==t&&null===r)t.isKeyField()||e.dt.push(new Ih(t)),e.dt.push(new Ih(Br.keyField(),"asc"));else{let i=!1;for(const o of e.explicitOrderBy)e.dt.push(o),o.field.isKeyField()&&(i=!0);if(!i){const o=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";e.dt.push(new Ih(Br.keyField(),o))}}}return e.dt}function Rs(n){const e=mt(n);if(!e._t)if("F"===e.limitType)e._t=x1(e.path,e.collectionGroup,sp(e),e.filters,e.limit,e.startAt,e.endAt);else{const t=[];for(const o of sp(e))t.push(new Ih(o.field,"desc"===o.dir?"asc":"desc"));const r=e.endAt?new zu(e.endAt.position,e.endAt.inclusive):null,i=e.startAt?new zu(e.startAt.position,e.startAt.inclusive):null;e._t=x1(e.path,e.collectionGroup,t,e.filters,e.limit,r,i)}return e._t}function Lb(n,e){e.getFirstInequalityField(),Fb(n);const t=n.filters.concat([e]);return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function vy(n,e,t){return new va(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Qg(n,e){return ip(Rs(n),Rs(e))&&n.limitType===e.limitType}function GC(n){return`${qu(Rs(n))}|lt:${n.limitType}`}function k1(n){return`Query(target=${function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=`, filters: [${e.filters.map(r=>BC(r)).join(", ")}]`),Xc(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=`, orderBy: [${e.orderBy.map(r=>{return`${(i=r).field.canonicalString()} (${i.dir})`;var i}).join(", ")}]`),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>np(r)).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>np(r)).join(",")),`Target(${t})`}(Rs(n))}; limitType=${n.limitType})`}function by(n,e){return e.isFoundDocument()&&function(t,r){const i=r.key.path;return null!==t.collectionGroup?r.key.hasCollectionId(t.collectionGroup)&&t.path.isPrefixOf(i):gt.isDocumentKey(t.path)?t.path.isEqual(i):t.path.isImmediateParentOf(i)}(n,e)&&function(t,r){for(const i of sp(t))if(!i.field.isKeyField()&&null===r.data.field(i.field))return!1;return!0}(n,e)&&function(t,r){for(const i of t.filters)if(!i.matches(r))return!1;return!0}(n,e)&&(r=e,!((t=n).startAt&&!function(i,o,c){const f=Mb(i,o,c);return i.inclusive?f<=0:f<0}(t.startAt,sp(t),r)||t.endAt&&!function(i,o,c){const f=Mb(i,o,c);return i.inclusive?f>=0:f>0}(t.endAt,sp(t),r)));var t,r}function zC(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function qC(n){return(e,t)=>{let r=!1;for(const i of sp(n)){const o=WC(i,e,t);if(0!==o)return o;r=r||i.field.isKeyField()}return 0}}function WC(n,e,t){const r=n.field.isKeyField()?gt.comparator(e.key,t.key):function(i,o,c){const f=o.data.field(i),_=c.data.field(i);return null!==f&&null!==_?Eh(f,_):St()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return St()}}class ba{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0!==r)for(const[i,o]of r)if(this.equalsFn(i,e))return o}has(e){return void 0!==this.get(e)}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(void 0===i)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(void 0===r)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return 1===r.length?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){bh(this.inner,(t,r)=>{for(const[i,o]of r)e(i,o)})}isEmpty(){return RC(this.inner)}size(){return this.innerSize}}const KC=new Nr(gt.comparator);function bo(){return KC}const Bb=new Nr(gt.comparator);function ll(...n){let e=Bb;for(const t of n)e=e.insert(t.key,t);return e}function Ub(n){let e=Bb;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function wa(){return Xg()}function wy(){return Xg()}function Xg(){return new ba(n=>n.toString(),(n,e)=>n.isEqual(e))}const Vb=new Nr(gt.comparator),Hb=new Ur(gt.comparator);function pn(...n){let e=Hb;for(const t of n)e=e.add(t);return e}const tx=new Ur(cn);function F1(){return tx}function ZC(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:vh(e)?"-0":e}}function YC(n){return{integerValue:""+n}}function jb(n,e){return EC(e)?YC(e):ZC(n,e)}class Ey{constructor(){this._=void 0}}function JC(n,e,t){return n instanceof Ch?function(r,i){const o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:r.seconds,nanos:r.nanoseconds}}}};return i&&Wg(i)&&(i=fy(i)),i&&(o.fields.__previous_value__=i),{mapValue:o}}(t,e):n instanceof id?$b(n,e):n instanceof Ah?B1(n,e):function(r,i){const o=L1(r,i),c=Dy(o)+Dy(r.wt);return my(o)&&my(r.wt)?YC(c):ZC(r.serializer,c)}(n,e)}function QC(n,e,t){return n instanceof id?$b(n,e):n instanceof Ah?B1(n,e):t}function L1(n,e){return n instanceof Nh?my(t=e)||(r=t)&&"doubleValue"in r?e:{integerValue:0}:null;var r,t}class Ch extends Ey{}class id extends Ey{constructor(e){super(),this.elements=e}}function $b(n,e){const t=XC(e);for(const r of n.elements)t.some(i=>Gu(i,r))||t.push(r);return{arrayValue:{values:t}}}class Ah extends Ey{constructor(e){super(),this.elements=e}}function B1(n,e){let t=XC(e);for(const r of n.elements)t=t.filter(i=>!Gu(i,r));return{arrayValue:{values:t}}}class Nh extends Ey{constructor(e,t){super(),this.serializer=e,this.wt=t}}function Dy(n){return pi(n.integerValue||n.doubleValue)}function XC(n){return rp(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}class op{constructor(e,t){this.field=e,this.transform=t}}class eA{constructor(e,t){this.version=e,this.transformResults=t}}class Vr{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new Vr}static exists(e){return new Vr(void 0,e)}static updateTime(e){return new Vr(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function zb(n,e){return void 0!==n.updateTime?e.isFoundDocument()&&e.version.isEqual(n.updateTime):void 0===n.exists||n.exists===e.isFoundDocument()}class qb{}function U1(n,e){if(!n.hasLocalMutations||e&&0===e.fields.length)return null;if(null===e)return n.isNoDocument()?new nm(n.key,Vr.none()):new tm(n.key,n.data,Vr.none());{const t=n.data,r=ds.empty();let i=new Ur(Br.comparator);for(let o of e.fields)if(!i.has(o)){let c=t.field(o);null===c&&o.length>1&&(o=o.popLast(),c=t.field(o)),null===c?r.delete(o):r.set(o,c),i=i.add(o)}return new sd(n.key,r,new cs(i.toArray()),Vr.none())}}function tA(n,e,t){n instanceof tm?function(r,i,o){const c=r.value.clone(),f=rA(r.fieldTransforms,i,o.transformResults);c.setAll(f),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(n,e,t):n instanceof sd?function(r,i,o){if(!zb(r.precondition,i))return void i.convertToUnknownDocument(o.version);const c=rA(r.fieldTransforms,i,o.transformResults),f=i.data;f.setAll(V1(r)),f.setAll(c),i.convertToFoundDocument(o.version,f).setHasCommittedMutations()}(n,e,t):e.convertToNoDocument(t.version).setHasCommittedMutations()}function em(n,e,t,r){return n instanceof tm?function(i,o,c,f){if(!zb(i.precondition,o))return c;const _=i.value.clone(),b=iA(i.fieldTransforms,f,o);return _.setAll(b),o.convertToFoundDocument(o.version,_).setHasLocalMutations(),null}(n,e,t,r):n instanceof sd?function(i,o,c,f){if(!zb(i.precondition,o))return c;const _=iA(i.fieldTransforms,f,o),b=o.data;return b.setAll(V1(i)),b.setAll(_),o.convertToFoundDocument(o.version,b).setHasLocalMutations(),null===c?null:c.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(T=>T.field))}(n,e,t,r):(c=t,zb(n.precondition,o=e)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):c);var o,c}function nx(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),o=L1(r.transform,i||null);null!=o&&(null===t&&(t=ds.empty()),t.set(r.field,o))}return t||null}function nA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&(r=e.fieldTransforms,!!(void 0===(t=n.fieldTransforms)&&void 0===r||t&&r&&Zc(t,r,(i,o)=>function Gb(n,e){return n.field.isEqual(e.field)&&(r=e.transform,(t=n.transform)instanceof id&&r instanceof id||t instanceof Ah&&r instanceof Ah?Zc(t.elements,r.elements,Gu):t instanceof Nh&&r instanceof Nh?Gu(t.wt,r.wt):t instanceof Ch&&r instanceof Ch);var t,r}(i,o))))&&(0===n.type?n.value.isEqual(e.value):1!==n.type||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask));var t,r}class tm extends qb{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class sd extends qb{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}}function V1(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function rA(n,e,t){const r=new Map;Nt(n.length===t.length);for(let i=0;i<t.length;i++){const o=n[i],c=o.transform,f=e.data.field(o.field);r.set(o.field,QC(c,f,t[i]))}return r}function iA(n,e,t){const r=new Map;for(const i of n){const o=i.transform,c=t.data.field(i.field);r.set(i.field,JC(o,c,e))}return r}class nm extends qb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class H1 extends qb{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class Wb{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const o=this.mutations[i];o.key.isEqual(e.key)&&tA(o,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=em(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=em(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=wy();return this.mutations.forEach(i=>{const o=e.get(i.key),c=o.overlayedDocument;let f=this.applyToLocalView(c,o.mutatedFields);f=t.has(i.key)?null:f;const _=U1(c,f);null!==_&&r.set(i.key,_),c.isValidDocument()||c.convertToNoDocument(Vt.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),pn())}isEqual(e){return this.batchId===e.batchId&&Zc(this.mutations,e.mutations,(t,r)=>nA(t,r))&&Zc(this.baseMutations,e.baseMutations,(t,r)=>nA(t,r))}}class j1{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Nt(e.mutations.length===r.length);let i=Vb;const o=e.mutations;for(let c=0;c<o.length;c++)i=i.insert(o[c].key,r[c].version);return new j1(e,t,r,i)}}class s{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return`Overlay{\n      largestBatchId: ${this.largestBatchId},\n      mutation: ${this.mutation.toString()}\n    }`}}class u{constructor(e,t){this.count=e,this.unchangedNames=t}}var d,h;function m(n){switch(n){default:return St();case ye.CANCELLED:case ye.UNKNOWN:case ye.DEADLINE_EXCEEDED:case ye.RESOURCE_EXHAUSTED:case ye.INTERNAL:case ye.UNAVAILABLE:case ye.UNAUTHENTICATED:return!1;case ye.INVALID_ARGUMENT:case ye.NOT_FOUND:case ye.ALREADY_EXISTS:case ye.PERMISSION_DENIED:case ye.FAILED_PRECONDITION:case ye.ABORTED:case ye.OUT_OF_RANGE:case ye.UNIMPLEMENTED:case ye.DATA_LOSS:return!0}}function v(n){if(void 0===n)return fi("GRPC error has no .code"),ye.UNKNOWN;switch(n){case d.OK:return ye.OK;case d.CANCELLED:return ye.CANCELLED;case d.UNKNOWN:return ye.UNKNOWN;case d.DEADLINE_EXCEEDED:return ye.DEADLINE_EXCEEDED;case d.RESOURCE_EXHAUSTED:return ye.RESOURCE_EXHAUSTED;case d.INTERNAL:return ye.INTERNAL;case d.UNAVAILABLE:return ye.UNAVAILABLE;case d.UNAUTHENTICATED:return ye.UNAUTHENTICATED;case d.INVALID_ARGUMENT:return ye.INVALID_ARGUMENT;case d.NOT_FOUND:return ye.NOT_FOUND;case d.ALREADY_EXISTS:return ye.ALREADY_EXISTS;case d.PERMISSION_DENIED:return ye.PERMISSION_DENIED;case d.FAILED_PRECONDITION:return ye.FAILED_PRECONDITION;case d.ABORTED:return ye.ABORTED;case d.OUT_OF_RANGE:return ye.OUT_OF_RANGE;case d.UNIMPLEMENTED:return ye.UNIMPLEMENTED;case d.DATA_LOSS:return ye.DATA_LOSS;default:return St()}}(h=d||(d={}))[h.OK=0]="OK",h[h.CANCELLED=1]="CANCELLED",h[h.UNKNOWN=2]="UNKNOWN",h[h.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",h[h.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",h[h.NOT_FOUND=5]="NOT_FOUND",h[h.ALREADY_EXISTS=6]="ALREADY_EXISTS",h[h.PERMISSION_DENIED=7]="PERMISSION_DENIED",h[h.UNAUTHENTICATED=16]="UNAUTHENTICATED",h[h.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",h[h.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",h[h.ABORTED=10]="ABORTED",h[h.OUT_OF_RANGE=11]="OUT_OF_RANGE",h[h.UNIMPLEMENTED=12]="UNIMPLEMENTED",h[h.INTERNAL=13]="INTERNAL",h[h.UNAVAILABLE=14]="UNAVAILABLE",h[h.DATA_LOSS=15]="DATA_LOSS";class D{constructor(){this.onExistenceFilterMismatchCallbacks=new Map}static get instance(){return A}static getOrCreateInstance(){return null===A&&(A=new D),A}onExistenceFilterMismatch(e){const t=Symbol();return this.onExistenceFilterMismatchCallbacks.set(t,e),()=>this.onExistenceFilterMismatchCallbacks.delete(t)}notifyOnExistenceFilterMismatch(e){this.onExistenceFilterMismatchCallbacks.forEach(t=>t(e))}}let A=null;function x(){return new TextEncoder}const k=new gh([4294967295,4294967295],0);function j(n){const e=x().encode(n),t=new e1;return t.update(e),new Uint8Array(t.digest())}function X(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new gh([t,r],0),new gh([i,o],0)]}class ce{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Re(`Invalid padding: ${t}`);if(r<0)throw new Re(`Invalid hash count: ${r}`);if(e.length>0&&0===this.hashCount)throw new Re(`Invalid hash count: ${r}`);if(0===e.length&&0!==t)throw new Re(`Invalid padding when bitmap length is 0: ${t}`);this.yt=8*e.length-t,this.It=gh.fromNumber(this.yt)}Tt(e,t,r){let i=e.add(t.multiply(gh.fromNumber(r)));return 1===i.compare(k)&&(i=new gh([i.getBits(0),i.getBits(1)],0)),i.modulo(this.It).toNumber()}Et(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}At(e){if(0===this.yt)return!1;const t=j(e),[r,i]=X(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);if(!this.Et(c))return!1}return!0}static create(e,t,r){const i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),c=new ce(o,i,t);return r.forEach(f=>c.insert(f)),c}insert(e){if(0===this.yt)return;const t=j(e),[r,i]=X(t);for(let o=0;o<this.hashCount;o++){const c=this.Tt(r,i,o);this.Rt(c)}}Rt(e){const t=Math.floor(e/8);this.bitmap[t]|=1<<e%8}}class Re extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Xe{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const i=new Map;return i.set(e,pt.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Xe(Vt.min(),i,new Nr(cn),bo(),pn())}}class pt{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new pt(r,t,pn(),pn(),pn())}}class Ot{constructor(e,t,r,i){this.vt=e,this.removedTargetIds=t,this.key=r,this.Pt=i}}class Jt{constructor(e,t){this.targetId=e,this.bt=t}}class Ge{constructor(e,t,r=ri.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}}class hn{constructor(){this.Vt=0,this.St=sA(),this.Dt=ri.EMPTY_BYTE_STRING,this.Ct=!1,this.xt=!0}get current(){return this.Ct}get resumeToken(){return this.Dt}get Nt(){return 0!==this.Vt}get kt(){return this.xt}Mt(e){e.approximateByteSize()>0&&(this.xt=!0,this.Dt=e)}Ot(){let e=pn(),t=pn(),r=pn();return this.St.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:St()}}),new pt(this.Dt,this.Ct,e,t,r)}$t(){this.xt=!1,this.St=sA()}Ft(e,t){this.xt=!0,this.St=this.St.insert(e,t)}Bt(e){this.xt=!0,this.St=this.St.remove(e)}Lt(){this.Vt+=1}qt(){this.Vt-=1}Ut(){this.xt=!0,this.Ct=!0}}class Hr{constructor(e){this.Kt=e,this.Gt=new Map,this.Qt=bo(),this.jt=ii(),this.zt=new Nr(cn)}Wt(e){for(const t of e.vt)e.Pt&&e.Pt.isFoundDocument()?this.Ht(t,e.Pt):this.Jt(t,e.key,e.Pt);for(const t of e.removedTargetIds)this.Jt(t,e.key,e.Pt)}Yt(e){this.forEachTarget(e,t=>{const r=this.Xt(t);switch(e.state){case 0:this.Zt(t)&&r.Mt(e.resumeToken);break;case 1:r.qt(),r.Nt||r.$t(),r.Mt(e.resumeToken);break;case 2:r.qt(),r.Nt||this.removeTarget(t);break;case 3:this.Zt(t)&&(r.Ut(),r.Mt(e.resumeToken));break;case 4:this.Zt(t)&&(this.te(t),r.Mt(e.resumeToken));break;default:St()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Gt.forEach((r,i)=>{this.Zt(i)&&t(i)})}ee(e){var t;const r=e.targetId,i=e.bt.count,o=this.ne(r);if(o){const c=o.target;if(Zg(c))if(0===i){const f=new gt(c.path);this.Jt(r,f,hr.newNoDocument(f,Vt.min()))}else Nt(1===i);else{const f=this.se(r);if(f!==i){const _=this.ie(e,f);0!==_&&(this.te(r),this.zt=this.zt.insert(r,2===_?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch")),null===(t=D.instance)||void 0===t||t.notifyOnExistenceFilterMismatch(function(b,T,M){var F,L,z,J,ae,Ae;const Ue={localCacheCount:T,existenceFilterCount:M.count},qe=M.unchangedNames;return qe&&(Ue.bloomFilter={applied:0===b,hashCount:null!==(F=qe?.hashCount)&&void 0!==F?F:0,bitmapLength:null!==(J=null===(z=null===(L=qe?.bits)||void 0===L?void 0:L.bitmap)||void 0===z?void 0:z.length)&&void 0!==J?J:0,padding:null!==(Ae=null===(ae=qe?.bits)||void 0===ae?void 0:ae.padding)&&void 0!==Ae?Ae:0}),Ue}(_,f,e.bt))}}}}ie(e,t){const{unchangedNames:r,count:i}=e.bt;if(!r||!r.bits)return 1;const{bits:{bitmap:o="",padding:c=0},hashCount:f=0}=r;let _,b;try{_=ol(o).toUint8Array()}catch(T){if(T instanceof kC)return Os("Decoding the base64 bloom filter in existence filter failed ("+T.message+"); ignoring the bloom filter and falling back to full re-query."),1;throw T}try{b=new ce(_,c,f)}catch(T){return Os(T instanceof Re?"BloomFilter error: ":"Applying bloom filter failed: ",T),1}return 0===b.yt?1:i!==t-this.re(e.targetId,b)?2:0}re(e,t){const r=this.Kt.getRemoteKeysForTarget(e);let i=0;return r.forEach(o=>{const c=this.Kt.oe(),f=`projects/${c.projectId}/databases/${c.database}/documents/${o.path.canonicalString()}`;t.At(f)||(this.Jt(e,o,null),i++)}),i}ue(e){const t=new Map;this.Gt.forEach((o,c)=>{const f=this.ne(c);if(f){if(o.current&&Zg(f.target)){const _=new gt(f.target.path);null!==this.Qt.get(_)||this.ce(c,_)||this.Jt(c,_,hr.newNoDocument(_,e))}o.kt&&(t.set(c,o.Ot()),o.$t())}});let r=pn();this.jt.forEach((o,c)=>{let f=!0;c.forEachWhile(_=>{const b=this.ne(_);return!b||"TargetPurposeLimboResolution"===b.purpose||(f=!1,!1)}),f&&(r=r.add(o))}),this.Qt.forEach((o,c)=>c.setReadTime(e));const i=new Xe(e,t,this.zt,this.Qt,r);return this.Qt=bo(),this.jt=ii(),this.zt=new Nr(cn),i}Ht(e,t){if(!this.Zt(e))return;const r=this.ce(e,t.key)?2:0;this.Xt(e).Ft(t.key,r),this.Qt=this.Qt.insert(t.key,t),this.jt=this.jt.insert(t.key,this.ae(t.key).add(e))}Jt(e,t,r){if(!this.Zt(e))return;const i=this.Xt(e);this.ce(e,t)?i.Ft(t,1):i.Bt(t),this.jt=this.jt.insert(t,this.ae(t).delete(e)),r&&(this.Qt=this.Qt.insert(t,r))}removeTarget(e){this.Gt.delete(e)}se(e){const t=this.Xt(e).Ot();return this.Kt.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Lt(e){this.Xt(e).Lt()}Xt(e){let t=this.Gt.get(e);return t||(t=new hn,this.Gt.set(e,t)),t}ae(e){let t=this.jt.get(e);return t||(t=new Ur(cn),this.jt=this.jt.insert(e,t)),t}Zt(e){const t=null!==this.ne(e);return t||Ke("WatchChangeAggregator","Detected inactive target",e),t}ne(e){const t=this.Gt.get(e);return t&&t.Nt?null:this.Kt.he(e)}te(e){this.Gt.set(e,new hn),this.Kt.getRemoteKeysForTarget(e).forEach(t=>{this.Jt(e,t,null)})}ce(e,t){return this.Kt.getRemoteKeysForTarget(e).has(t)}}function ii(){return new Nr(gt.comparator)}function sA(){return new Nr(gt.comparator)}const IL={asc:"ASCENDING",desc:"DESCENDING"},SL={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},CL={and:"AND",or:"OR"};class AL{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function oA(n,e){return n.useProto3Json||Xc(e)?e:{value:e}}function Ty(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function rx(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function NL(n,e){return Ty(n,e.toTimestamp())}function Vi(n){return Nt(!!n),Vt.fromTimestamp(function(e){const t=$u(e);return new Lr(t.seconds,t.nanos)}(n))}function aA(n,e){return(t=n,new Fn(["projects",t.projectId,"databases",t.database])).child("documents").child(e).canonicalString();var t}function ix(n){const e=Fn.fromString(n);return Nt(fx(e)),e}function Kb(n,e){return aA(n.databaseId,e.path)}function od(n,e){const t=ix(e);if(t.get(1)!==n.databaseId.projectId)throw new He(ye.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new He(ye.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new gt(ox(t))}function lA(n,e){return aA(n.databaseId,e)}function sx(n){const e=ix(n);return 4===e.length?Fn.emptyPath():ox(e)}function Zb(n){return new Fn(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function ox(n){return Nt(n.length>4&&"documents"===n.get(4)),n.popFirst(5)}function ax(n,e,t){return{name:Kb(n,e),fields:t.value.mapValue.fields}}function lx(n,e,t){const r=od(n,e.name),i=Vi(e.updateTime),o=e.createTime?Vi(e.createTime):Vt.min(),c=new ds({mapValue:{fields:e.fields}}),f=hr.newFoundDocument(r,i,o,c);return t&&f.setHasCommittedMutations(),t?f.setHasCommittedMutations():f}function Yb(n,e){let t;if(e instanceof tm)t={update:ax(n,e.key,e.value)};else if(e instanceof nm)t={delete:Kb(n,e.key)};else if(e instanceof sd)t={update:ax(n,e.key,e.data),updateMask:LL(e.fieldMask)};else{if(!(e instanceof H1))return St();t={verify:Kb(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const c=o.transform;if(c instanceof Ch)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof id)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof Ah)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Nh)return{fieldPath:o.field.canonicalString(),increment:c.wt};throw St()}(0,r))),e.precondition.isNone||(t.currentDocument=void 0!==(i=e.precondition).updateTime?{updateTime:NL(n,i.updateTime)}:void 0!==i.exists?{exists:i.exists}:St()),t;var i}function uA(n,e){const t=e.currentDocument?void 0!==(i=e.currentDocument).updateTime?Vr.updateTime(Vi(i.updateTime)):void 0!==i.exists?Vr.exists(i.exists):Vr.none():Vr.none(),r=e.updateTransforms?e.updateTransforms.map(i=>function(o,c){let f=null;"setToServerValue"in c?(Nt("REQUEST_TIME"===c.setToServerValue),f=new Ch):"appendMissingElements"in c?f=new id(c.appendMissingElements.values||[]):"removeAllFromArray"in c?f=new Ah(c.removeAllFromArray.values||[]):"increment"in c?f=new Nh(o,c.increment):St();const _=Br.fromServerFormat(c.fieldPath);return new op(_,f)}(n,i)):[];var i;if(e.update){const i=od(n,e.update.name),o=new ds({mapValue:{fields:e.update.fields}});if(e.updateMask){const c=new cs((e.updateMask.fieldPaths||[]).map(b=>Br.fromServerFormat(b)));return new sd(i,o,c,t,r)}return new tm(i,o,t,r)}if(e.delete){const i=od(n,e.delete);return new nm(i,t)}if(e.verify){const i=od(n,e.verify);return new H1(i,t)}return St()}function ux(n,e){return{documents:[lA(n,e.path)]}}function cA(n,e){const t={structuredQuery:{}},r=e.path;null!==e.collectionGroup?(t.parent=lA(n,r),t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(t.parent=lA(n,r.popLast()),t.structuredQuery.from=[{collectionId:r.lastSegment()}]);const i=function(_){if(0!==_.length)return hx(tr.create(_,"and"))}(e.filters);i&&(t.structuredQuery.where=i);const o=function(_){if(0!==_.length)return _.map(b=>{return{field:ap((T=b).field),direction:PL(T.dir)};var T})}(e.orderBy);o&&(t.structuredQuery.orderBy=o);const c=oA(n,e.limit);var f,_;return null!==c&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt={before:(f=e.startAt).inclusive,values:f.position}),e.endAt&&(t.structuredQuery.endAt={before:!(_=e.endAt).inclusive,values:_.position}),t}function cx(n){let e=sx(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){Nt(1===r);const T=t.from[0];T.allDescendants?i=T.collectionId:e=e.child(T.collectionId)}let o=[];t.where&&(o=function(T){const M=dx(T);return M instanceof tr&&Kl(M)?M.getFilters():[M]}(t.where));let c=[];t.orderBy&&(c=t.orderBy.map(T=>{return new Ih(Iy((M=T).field),function(F){switch(F){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction));var M}));let f=null;t.limit&&(f=function(T){let M;return M="object"==typeof T?T.value:T,Xc(M)?null:M}(t.limit));let _=null;var T;t.startAt&&(_=new zu((T=t.startAt).values||[],!!T.before));let b=null;return t.endAt&&(b=function(T){return new zu(T.values||[],!T.before)}(t.endAt)),Jg(e,i,c,o,f,"F",_,b)}function dx(n){return void 0!==n.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=Iy(e.unaryFilter.field);return Nn.create(t,"==",{doubleValue:NaN});case"IS_NULL":const r=Iy(e.unaryFilter.field);return Nn.create(r,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Iy(e.unaryFilter.field);return Nn.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Iy(e.unaryFilter.field);return Nn.create(o,"!=",{nullValue:"NULL_VALUE"});default:return St()}}(n):void 0!==n.fieldFilter?Nn.create(Iy((e=n).fieldFilter.field),function(t){switch(t){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return St()}}(e.fieldFilter.op),e.fieldFilter.value):void 0!==n.compositeFilter?function(e){return tr.create(e.compositeFilter.filters.map(t=>dx(t)),function(t){switch(t){case"AND":return"and";case"OR":return"or";default:return St()}}(e.compositeFilter.op))}(n):St();var e}function PL(n){return IL[n]}function kL(n){return SL[n]}function FL(n){return CL[n]}function ap(n){return{fieldPath:n.canonicalString()}}function Iy(n){return Br.fromServerFormat(n.fieldPath)}function hx(n){return n instanceof Nn?function(e){if("=="===e.op){if(_a(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NAN"}};if(LC(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(_a(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NAN"}};if(LC(e.value))return{unaryFilter:{field:ap(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:ap(e.field),op:kL(e.op),value:e.value}}}(n):n instanceof tr?function(e){const t=e.getFilters().map(r=>hx(r));return 1===t.length?t[0]:{compositeFilter:{op:FL(e.op),filters:t}}}(n):St()}function LL(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function fx(n){return n.length>=4&&"projects"===n.get(0)&&"databases"===n.get(2)}class Mh{constructor(e,t,r,i,o=Vt.min(),c=Vt.min(),f=ri.EMPTY_BYTE_STRING,_=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=c,this.resumeToken=f,this.expectedCount=_}withSequenceNumber(e){return new Mh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Mh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class px{constructor(e){this.le=e}}function gx(n,e){const t=e.key,r={prefixPath:t.getCollectionPath().popLast().toArray(),collectionGroup:t.collectionGroup,documentId:t.path.lastSegment(),readTime:$1(e.readTime),hasCommittedMutations:e.hasCommittedMutations};if(e.isFoundDocument())r.document={name:Kb(i=n.le,(o=e).key),fields:o.data.value.mapValue.fields,updateTime:Ty(i,o.version.toTimestamp()),createTime:Ty(i,o.createTime.toTimestamp())};else if(e.isNoDocument())r.noDocument={path:t.path.toArray(),readTime:rm(e.version)};else{if(!e.isUnknownDocument())return St();r.unknownDocument={path:t.path.toArray(),version:rm(e.version)}}var i,o;return r}function $1(n){const e=n.toTimestamp();return[e.seconds,e.nanoseconds]}function rm(n){const e=n.toTimestamp();return{seconds:e.seconds,nanoseconds:e.nanoseconds}}function im(n){const e=new Lr(n.seconds,n.nanoseconds);return Vt.fromTimestamp(e)}function sm(n,e){const t=(e.baseMutations||[]).map(o=>uA(n.le,o));for(let o=0;o<e.mutations.length-1;++o)o+1<e.mutations.length&&void 0!==e.mutations[o+1].transform&&(e.mutations[o].updateTransforms=e.mutations[o+1].transform.fieldTransforms,e.mutations.splice(o+1,1),++o);const r=e.mutations.map(o=>uA(n.le,o)),i=Lr.fromMillis(e.localWriteTimeMs);return new Wb(e.batchId,i,t,r)}function Jb(n){const e=im(n.readTime),t=void 0!==n.lastLimboFreeSnapshotVersion?im(n.lastLimboFreeSnapshotVersion):Vt.min();let r;var i;return void 0!==n.query.documents?(Nt(1===(i=n.query).documents.length),r=Rs(Sh(sx(i.documents[0])))):r=Rs(cx(n.query)),new Mh(r,n.targetId,"TargetPurposeListen",n.lastListenSequenceNumber,e,t,ri.fromBase64String(n.resumeToken))}function mx(n,e){const t=rm(e.snapshotVersion),r=rm(e.lastLimboFreeSnapshotVersion);let i;i=Zg(e.target)?ux(n.le,e.target):cA(n.le,e.target);const o=e.resumeToken.toBase64();return{targetId:e.targetId,canonicalId:qu(e.target),readTime:t,resumeToken:o,lastListenSequenceNumber:e.sequenceNumber,lastLimboFreeSnapshotVersion:r,query:i}}function dA(n){const e=cx({parent:n.parent,structuredQuery:n.structuredQuery});return"LAST"===n.limitType?vy(e,e.limit,"L"):e}function hA(n,e){return new s(e.largestBatchId,uA(n.le,e.overlayMutation))}function _x(n,e){const t=e.path.lastSegment();return[n,ls(e.path.popLast()),t]}function yx(n,e,t,r){return{indexId:n,uid:e.uid||"",sequenceNumber:t,readTime:rm(r.readTime),documentKey:ls(r.documentKey.path),largestBatchId:r.largestBatchId}}class UL{getBundleMetadata(e,t){return vx(e).get(t).next(r=>{if(r)return{id:(i=r).bundleId,createTime:im(i.createTime),version:i.version};var i})}saveBundleMetadata(e,t){return vx(e).put({bundleId:(r=t).id,createTime:rm(Vi(r.createTime)),version:r.version});var r}getNamedQuery(e,t){return bx(e).get(t).next(r=>{if(r)return{name:(i=r).name,query:dA(i.bundledQuery),readTime:im(i.readTime)};var i})}saveNamedQuery(e,t){return bx(e).put({name:(r=t).name,readTime:rm(Vi(r.readTime)),bundledQuery:r.bundledQuery});var r}}function vx(n){return us(n,"bundles")}function bx(n){return us(n,"namedQueries")}class G1{constructor(e,t){this.serializer=e,this.userId=t}static fe(e,t){return new G1(e,t.uid||"")}getOverlay(e,t){return Qb(e).get(_x(this.userId,t)).next(r=>r?hA(this.serializer,r):null)}getOverlays(e,t){const r=wa();return pe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){const i=[];return r.forEach((o,c)=>{const f=new s(t,c);i.push(this.de(e,f))}),pe.waitFor(i)}removeOverlaysForBatchId(e,t,r){const i=new Set;t.forEach(c=>i.add(ls(c.getCollectionPath())));const o=[];return i.forEach(c=>{const f=IDBKeyRange.bound([this.userId,c,r],[this.userId,c,r+1],!1,!0);o.push(Qb(e).J("collectionPathOverlayIndex",f))}),pe.waitFor(o)}getOverlaysForCollection(e,t,r){const i=wa(),o=ls(t),c=IDBKeyRange.bound([this.userId,o,r],[this.userId,o,Number.POSITIVE_INFINITY],!0);return Qb(e).j("collectionPathOverlayIndex",c).next(f=>{for(const _ of f){const b=hA(this.serializer,_);i.set(b.getKey(),b)}return i})}getOverlaysForCollectionGroup(e,t,r,i){const o=wa();let c;const f=IDBKeyRange.bound([this.userId,t,r],[this.userId,t,Number.POSITIVE_INFINITY],!0);return Qb(e).X({index:"collectionGroupOverlayIndex",range:f},(_,b,T)=>{const M=hA(this.serializer,b);o.size()<i||M.largestBatchId===c?(o.set(M.getKey(),M),c=M.largestBatchId):T.done()}).next(()=>o)}de(e,t){return Qb(e).put(function(r,i,o){const[c,f,_]=_x(i,o.mutation.key);return{userId:i,collectionPath:f,documentId:_,collectionGroup:o.mutation.key.getCollectionGroup(),largestBatchId:o.largestBatchId,overlayMutation:Yb(r.le,o.mutation)}}(this.serializer,this.userId,t))}}function Qb(n){return us(n,"documentOverlays")}class om{constructor(){}_e(e,t){this.we(e,t),t.me()}we(e,t){if("nullValue"in e)this.ge(t,5);else if("booleanValue"in e)this.ge(t,10),t.ye(e.booleanValue?1:0);else if("integerValue"in e)this.ge(t,15),t.ye(pi(e.integerValue));else if("doubleValue"in e){const r=pi(e.doubleValue);isNaN(r)?this.ge(t,13):(this.ge(t,15),vh(r)?t.ye(0):t.ye(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ge(t,20),"string"==typeof r?t.pe(r):(t.pe(`${r.seconds||""}`),t.ye(r.nanos||0))}else if("stringValue"in e)this.Ie(e.stringValue,t),this.Te(t);else if("bytesValue"in e)this.ge(t,30),t.Ee(ol(e.bytesValue)),this.Te(t);else if("referenceValue"in e)this.Ae(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ge(t,45),t.ye(r.latitude||0),t.ye(r.longitude||0)}else"mapValue"in e?w1(e)?this.ge(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Te(t)):"arrayValue"in e?(this.ve(e.arrayValue,t),this.Te(t)):St()}Ie(e,t){this.ge(t,25),this.Pe(e,t)}Pe(e,t){t.pe(e)}Re(e,t){const r=e.fields||{};this.ge(t,55);for(const i of Object.keys(r))this.Ie(i,t),this.we(r[i],t)}ve(e,t){const r=e.values||[];this.ge(t,50);for(const i of r)this.we(i,t)}Ae(e,t){this.ge(t,37),gt.fromName(e).path.forEach(r=>{this.ge(t,60),this.Pe(r,t)})}ge(e,t){e.ye(t)}Te(e){e.ye(2)}}function VL(n){if(0===n)return 8;let e=0;return!(n>>4)&&(e+=4,n<<=4),!(n>>6)&&(e+=2,n<<=2),!(n>>7)&&(e+=1),e}function wx(n){const e=64-function(t){let r=0;for(let i=0;i<8;++i){const o=VL(255&t[i]);if(r+=o,8!==o)break}return r}(n);return Math.ceil(e/8)}om.be=new om;class HL{constructor(){this.buffer=new Uint8Array(1024),this.position=0}Ve(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.Se(r.value),r=t.next();this.De()}Ce(e){const t=e[Symbol.iterator]();let r=t.next();for(;!r.done;)this.xe(r.value),r=t.next();this.Ne()}ke(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.Se(r);else if(r<2048)this.Se(960|r>>>6),this.Se(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.Se(480|r>>>12),this.Se(128|63&r>>>6),this.Se(128|63&r);else{const i=t.codePointAt(0);this.Se(240|i>>>18),this.Se(128|63&i>>>12),this.Se(128|63&i>>>6),this.Se(128|63&i)}}this.De()}Me(e){for(const t of e){const r=t.charCodeAt(0);if(r<128)this.xe(r);else if(r<2048)this.xe(960|r>>>6),this.xe(128|63&r);else if(t<"\ud800"||"\udbff"<t)this.xe(480|r>>>12),this.xe(128|63&r>>>6),this.xe(128|63&r);else{const i=t.codePointAt(0);this.xe(240|i>>>18),this.xe(128|63&i>>>12),this.xe(128|63&i>>>6),this.xe(128|63&i)}}this.Ne()}Oe(e){const t=this.$e(e),r=wx(t);this.Fe(1+r),this.buffer[this.position++]=255&r;for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=255&t[i]}Be(e){const t=this.$e(e),r=wx(t);this.Fe(1+r),this.buffer[this.position++]=~(255&r);for(let i=t.length-r;i<t.length;++i)this.buffer[this.position++]=~(255&t[i])}Le(){this.qe(255),this.qe(255)}Ue(){this.Ke(255),this.Ke(255)}reset(){this.position=0}seed(e){this.Fe(e.length),this.buffer.set(e,this.position),this.position+=e.length}Ge(){return this.buffer.slice(0,this.position)}$e(e){const t=function(i){const o=new DataView(new ArrayBuffer(8));return o.setFloat64(0,i,!1),new Uint8Array(o.buffer)}(e),r=0!=(128&t[0]);t[0]^=r?255:128;for(let i=1;i<t.length;++i)t[i]^=r?255:0;return t}Se(e){const t=255&e;0===t?(this.qe(0),this.qe(255)):255===t?(this.qe(255),this.qe(0)):this.qe(t)}xe(e){const t=255&e;0===t?(this.Ke(0),this.Ke(255)):255===t?(this.Ke(255),this.Ke(0)):this.Ke(e)}De(){this.qe(0),this.qe(1)}Ne(){this.Ke(0),this.Ke(1)}qe(e){this.Fe(1),this.buffer[this.position++]=e}Ke(e){this.Fe(1),this.buffer[this.position++]=~e}Fe(e){const t=e+this.position;if(t<=this.buffer.length)return;let r=2*this.buffer.length;r<t&&(r=t);const i=new Uint8Array(r);i.set(this.buffer),this.buffer=i}}class jL{constructor(e){this.Qe=e}Ee(e){this.Qe.Ve(e)}pe(e){this.Qe.ke(e)}ye(e){this.Qe.Oe(e)}me(){this.Qe.Le()}}class $L{constructor(e){this.Qe=e}Ee(e){this.Qe.Ce(e)}pe(e){this.Qe.Me(e)}ye(e){this.Qe.Be(e)}me(){this.Qe.Ue()}}class Xb{constructor(){this.Qe=new HL,this.je=new jL(this.Qe),this.ze=new $L(this.Qe)}seed(e){this.Qe.seed(e)}We(e){return 0===e?this.je:this.ze}Ge(){return this.Qe.Ge()}reset(){this.Qe.reset()}}class am{constructor(e,t,r,i){this.indexId=e,this.documentKey=t,this.arrayValue=r,this.directionalValue=i}He(){const e=this.directionalValue.length,t=0===e||255===this.directionalValue[e-1]?e+1:e,r=new Uint8Array(t);return r.set(this.directionalValue,0),t!==e?r.set([0],this.directionalValue.length):++r[r.length-1],new am(this.indexId,this.documentKey,this.arrayValue,r)}}function lp(n,e){let t=n.indexId-e.indexId;return 0!==t?t:(t=Ex(n.arrayValue,e.arrayValue),0!==t?t:(t=Ex(n.directionalValue,e.directionalValue),0!==t?t:gt.comparator(n.documentKey,e.documentKey)))}function Ex(n,e){for(let t=0;t<n.length&&t<e.length;++t){const r=n[t]-e[t];if(0!==r)return r}return n.length-e.length}class GL{constructor(e){this.collectionId=null!=e.collectionGroup?e.collectionGroup:e.path.lastSegment(),this.Je=e.orderBy,this.Ye=[];for(const t of e.filters){const r=t;r.isInequality()?this.Xe=r:this.Ye.push(r)}}Ze(e){Nt(e.collectionGroup===this.collectionId);const t=dy(e);if(void 0!==t&&!this.tn(t))return!1;const r=Yc(e);let i=0,o=0;for(;i<r.length&&this.tn(r[i]);++i);if(i===r.length)return!0;if(void 0!==this.Xe){const c=r[i];if(!this.en(this.Xe,c)||!this.nn(this.Je[o++],c))return!1;++i}for(;i<r.length;++i)if(o>=this.Je.length||!this.nn(this.Je[o++],r[i]))return!1;return!0}tn(e){for(const t of this.Ye)if(this.en(t,e))return!0;return!1}en(e,t){return!(void 0===e||!e.field.isEqual(t.fieldPath))&&2===t.kind==("array-contains"===e.op||"array-contains-any"===e.op)}nn(e,t){return!!e.field.isEqual(t.fieldPath)&&(0===t.kind&&"asc"===e.dir||1===t.kind&&"desc"===e.dir)}}function Dx(n){var e,t;if(Nt(n instanceof Nn||n instanceof tr),n instanceof Nn){if(n instanceof jC){const i=(null===(t=null===(e=n.value.arrayValue)||void 0===e?void 0:e.values)||void 0===t?void 0:t.map(o=>Nn.create(n.field,"==",o)))||[];return tr.create(i,"or")}return n}const r=n.filters.map(i=>Dx(i));return tr.create(r,n.op)}function zL(n){if(0===n.getFilters().length)return[];const e=gA(Dx(n));return Nt(Tx(e)),fA(e)||pA(e)?[e]:e.getFilters()}function fA(n){return n instanceof Nn}function pA(n){return n instanceof tr&&Kl(n)}function Tx(n){return fA(n)||pA(n)||function(e){if(e instanceof tr&&al(e)){for(const t of e.getFilters())if(!fA(t)&&!pA(t))return!1;return!0}return!1}(n)}function gA(n){if(Nt(n instanceof Nn||n instanceof tr),n instanceof Nn)return n;if(1===n.filters.length)return gA(n.filters[0]);const e=n.filters.map(r=>gA(r));let t=tr.create(e,n.op);return t=z1(t),Tx(t)?t:(Nt(t instanceof tr),Nt(rd(t)),Nt(t.filters.length>1),t.filters.reduce((r,i)=>mA(r,i)))}function mA(n,e){let t;return Nt(n instanceof Nn||n instanceof tr),Nt(e instanceof Nn||e instanceof tr),t=n instanceof Nn?e instanceof Nn?tr.create([n,e],"and"):Ix(n,e):e instanceof Nn?Ix(e,n):function(r,i){if(Nt(r.filters.length>0&&i.filters.length>0),rd(r)&&rd(i))return C1(r,i.getFilters());const o=al(r)?r:i,c=al(r)?i:r,f=o.filters.map(_=>mA(_,c));return tr.create(f,"or")}(n,e),z1(t)}function Ix(n,e){if(rd(e))return C1(e,n.getFilters());{const t=e.filters.map(r=>mA(n,r));return tr.create(t,"or")}}function z1(n){if(Nt(n instanceof Nn||n instanceof tr),n instanceof Nn)return n;const e=n.getFilters();if(1===e.length)return z1(e[0]);if(Ob(n))return n;const t=e.map(i=>z1(i)),r=[];return t.forEach(i=>{i instanceof Nn?r.push(i):i instanceof tr&&(i.op===n.op?r.push(...i.filters):r.push(i))}),1===r.length?r[0]:tr.create(r,n.op)}class qL{constructor(){this.sn=new _A}addToCollectionParentIndex(e,t){return this.sn.add(t),pe.resolve()}getCollectionParents(e,t){return pe.resolve(this.sn.getEntries(t))}addFieldIndex(e,t){return pe.resolve()}deleteFieldIndex(e,t){return pe.resolve()}getDocumentsMatchingTarget(e,t){return pe.resolve(null)}getIndexType(e,t){return pe.resolve(0)}getFieldIndexes(e,t){return pe.resolve([])}getNextCollectionGroupToUpdate(e){return pe.resolve(null)}getMinOffset(e,t){return pe.resolve(dr.min())}getMinOffsetFromCollectionGroup(e,t){return pe.resolve(dr.min())}updateCollectionGroup(e,t,r){return pe.resolve()}updateIndexEntries(e,t){return pe.resolve()}}class _A{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Ur(Fn.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ur(Fn.comparator)).toArray()}}const q1=new Uint8Array(0);class WL{constructor(e,t){this.user=e,this.databaseId=t,this.rn=new _A,this.on=new ba(r=>qu(r),(r,i)=>ip(r,i)),this.uid=e.uid||""}addToCollectionParentIndex(e,t){if(!this.rn.has(t)){const r=t.lastSegment(),i=t.popLast();e.addOnCommittedListener(()=>{this.rn.add(t)});const o={collectionId:r,parent:ls(i)};return Sx(e).put(o)}return pe.resolve()}getCollectionParents(e,t){const r=[],i=IDBKeyRange.bound([t,""],[cy(t),""],!1,!0);return Sx(e).j(i).next(o=>{for(const c of o){if(c.collectionId!==t)break;r.push(to(c.parent))}return r})}addFieldIndex(e,t){const r=W1(e),i={indexId:(c=t).indexId,collectionGroup:c.collectionGroup,fields:c.fields.map(f=>[f.fieldPath.canonicalString(),f.kind])};var c;delete i.indexId;const o=r.add(i);if(t.indexState){const c=tw(e);return o.next(f=>{c.put(yx(f,this.user,t.indexState.sequenceNumber,t.indexState.offset))})}return o.next()}deleteFieldIndex(e,t){const r=W1(e),i=tw(e),o=ew(e);return r.delete(t.indexId).next(()=>i.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0))).next(()=>o.delete(IDBKeyRange.bound([t.indexId],[t.indexId+1],!1,!0)))}getDocumentsMatchingTarget(e,t){const r=ew(e);let i=!0;const o=new Map;return pe.forEach(this.un(t),c=>this.cn(e,c).next(f=>{i&&(i=!!f),o.set(c,f)})).next(()=>{if(i){let c=pn();const f=[];return pe.forEach(o,(_,b)=>{var T;Ke("IndexedDbIndexManager",`Using index ${T=_,`id=${T.indexId}|cg=${T.collectionGroup}|f=${T.fields.map(qe=>`${qe.fieldPath}:${qe.kind}`).join(",")}`} to execute ${qu(t)}`);const M=function(qe,Ye){const dt=dy(Ye);if(void 0===dt)return null;for(const vt of Yg(qe,dt.fieldPath))switch(vt.op){case"array-contains-any":return vt.value.arrayValue.values||[];case"array-contains":return[vt.value]}return null}(b,_),F=function(qe,Ye){const dt=new Map;for(const vt of Yc(Ye))for(const qt of Yg(qe,vt.fieldPath))switch(qt.op){case"==":case"in":dt.set(vt.fieldPath.canonicalString(),qt.value);break;case"not-in":case"!=":return dt.set(vt.fieldPath.canonicalString(),qt.value),Array.from(dt.values())}return null}(b,_),L=function(qe,Ye){const dt=[];let vt=!0;for(const qt of Yc(Ye)){const gn=0===qt.kind?Rb(qe,qt.fieldPath,qe.startAt):Pb(qe,qt.fieldPath,qe.startAt);dt.push(gn.value),vt&&(vt=gn.inclusive)}return new zu(dt,vt)}(b,_),z=function(qe,Ye){const dt=[];let vt=!0;for(const qt of Yc(Ye)){const gn=0===qt.kind?Pb(qe,qt.fieldPath,qe.endAt):Rb(qe,qt.fieldPath,qe.endAt);dt.push(gn.value),vt&&(vt=gn.inclusive)}return new zu(dt,vt)}(b,_),J=this.an(_,b,L),ae=this.an(_,b,z),Ae=this.hn(_,b,F),Ue=this.ln(_.indexId,M,J,L.inclusive,ae,z.inclusive,Ae);return pe.forEach(Ue,qe=>r.H(qe,t.limit).next(Ye=>{Ye.forEach(dt=>{const vt=gt.fromSegments(dt.documentKey);c.has(vt)||(c=c.add(vt),f.push(vt))})}))}).next(()=>f)}return pe.resolve(null)})}un(e){let t=this.on.get(e);return t||(t=0===e.filters.length?[e]:zL(tr.create(e.filters,"and")).map(r=>x1(e.path,e.collectionGroup,e.orderBy,r.getFilters(),e.limit,e.startAt,e.endAt)),this.on.set(e,t),t)}ln(e,t,r,i,o,c,f){const _=(null!=t?t.length:1)*Math.max(r.length,o.length),b=_/(null!=t?t.length:1),T=[];for(let M=0;M<_;++M){const F=t?this.fn(t[M/b]):q1,L=this.dn(e,F,r[M%b],i),z=this._n(e,F,o[M%b],c),J=f.map(ae=>this.dn(e,F,ae,!0));T.push(...this.createRange(L,z,J))}return T}dn(e,t,r,i){const o=new am(e,gt.empty(),t,r);return i?o:o.He()}_n(e,t,r,i){const o=new am(e,gt.empty(),t,r);return i?o.He():o}cn(e,t){const r=new GL(t),i=null!=t.collectionGroup?t.collectionGroup:t.path.lastSegment();return this.getFieldIndexes(e,i).next(o=>{let c=null;for(const f of o)r.Ze(f)&&(!c||f.fields.length>c.fields.length)&&(c=f);return c})}getIndexType(e,t){let r=2;const i=this.un(t);return pe.forEach(i,o=>this.cn(e,o).next(c=>{c?0!==r&&c.fields.length<function(f){let _=new Ur(Br.comparator),b=!1;for(const T of f.filters)for(const M of T.getFlattenedFilters())M.field.isKeyField()||("array-contains"===M.op||"array-contains-any"===M.op?b=!0:_=_.add(M.field));for(const T of f.orderBy)T.field.isKeyField()||(_=_.add(T.field));return _.size+(b?1:0)}(o)&&(r=1):r=0})).next(()=>null!==t.limit&&i.length>1&&2===r?1:r)}wn(e,t){const r=new Xb;for(const i of Yc(e)){const o=t.data.field(i.fieldPath);if(null==o)return null;const c=r.We(i.kind);om.be._e(o,c)}return r.Ge()}fn(e){const t=new Xb;return om.be._e(e,t.We(0)),t.Ge()}mn(e,t){const r=new Xb;return om.be._e(Dh(this.databaseId,t),r.We(function(i){const o=Yc(i);return 0===o.length?0:o[o.length-1].kind}(e))),r.Ge()}hn(e,t,r){if(null===r)return[];let i=[];i.push(new Xb);let o=0;for(const c of Yc(e)){const f=r[o++];for(const _ of i)if(this.gn(t,c.fieldPath)&&rp(f))i=this.yn(i,c,f);else{const b=_.We(c.kind);om.be._e(f,b)}}return this.pn(i)}an(e,t,r){return this.hn(e,t,r.position)}pn(e){const t=[];for(let r=0;r<e.length;++r)t[r]=e[r].Ge();return t}yn(e,t,r){const i=[...e],o=[];for(const c of r.arrayValue.values||[])for(const f of i){const _=new Xb;_.seed(f.Ge()),om.be._e(c,_.We(t.kind)),o.push(_)}return o}gn(e,t){return!!e.filters.find(r=>r instanceof Nn&&r.field.isEqual(t)&&("in"===r.op||"not-in"===r.op))}getFieldIndexes(e,t){const r=W1(e),i=tw(e);return(t?r.j("collectionGroupIndex",IDBKeyRange.bound(t,t)):r.j()).next(o=>{const c=[];return pe.forEach(o,f=>i.get([f.indexId,this.uid]).next(_=>{c.push(function(b,T){const M=T?new Gg(T.sequenceNumber,new dr(im(T.readTime),new gt(to(T.documentKey)),T.largestBatchId)):Gg.empty(),F=b.fields.map(([L,z])=>new $g(Br.fromServerFormat(L),z));return new jg(b.indexId,b.collectionGroup,F,M)}(f,_))})).next(()=>c)})}getNextCollectionGroupToUpdate(e){return this.getFieldIndexes(e).next(t=>0===t.length?null:(t.sort((r,i)=>{const o=r.indexState.sequenceNumber-i.indexState.sequenceNumber;return 0!==o?o:cn(r.collectionGroup,i.collectionGroup)}),t[0].collectionGroup))}updateCollectionGroup(e,t,r){const i=W1(e),o=tw(e);return this.In(e).next(c=>i.j("collectionGroupIndex",IDBKeyRange.bound(t,t)).next(f=>pe.forEach(f,_=>o.put(yx(_.indexId,this.user,c,r)))))}updateIndexEntries(e,t){const r=new Map;return pe.forEach(t,(i,o)=>{const c=r.get(i.collectionGroup);return(c?pe.resolve(c):this.getFieldIndexes(e,i.collectionGroup)).next(f=>(r.set(i.collectionGroup,f),pe.forEach(f,_=>this.Tn(e,i,_).next(b=>{const T=this.En(o,_);return b.isEqual(T)?pe.resolve():this.An(e,o,_,b,T)}))))})}Rn(e,t,r,i){return ew(e).put({indexId:i.indexId,uid:this.uid,arrayValue:i.arrayValue,directionalValue:i.directionalValue,orderedDocumentKey:this.mn(r,t.key),documentKey:t.key.path.toArray()})}vn(e,t,r,i){return ew(e).delete([i.indexId,this.uid,i.arrayValue,i.directionalValue,this.mn(r,t.key),t.key.path.toArray()])}Tn(e,t,r){const i=ew(e);let o=new Ur(lp);return i.X({index:"documentKeyIndex",range:IDBKeyRange.only([r.indexId,this.uid,this.mn(r,t)])},(c,f)=>{o=o.add(new am(r.indexId,t,f.arrayValue,f.directionalValue))}).next(()=>o)}En(e,t){let r=new Ur(lp);const i=this.wn(t,e);if(null==i)return r;const o=dy(t);if(null!=o){const c=e.data.field(o.fieldPath);if(rp(c))for(const f of c.arrayValue.values||[])r=r.add(new am(t.indexId,e.key,this.fn(f),i))}else r=r.add(new am(t.indexId,e.key,q1,i));return r}An(e,t,r,i,o){Ke("IndexedDbIndexManager","Updating index entries for document '%s'",t.key);const c=[];return function(f,_,b,T,M){const F=f.getIterator(),L=_.getIterator();let z=qg(F),J=qg(L);for(;z||J;){let ae=!1,Ae=!1;if(z&&J){const Ue=b(z,J);Ue<0?Ae=!0:Ue>0&&(ae=!0)}else null!=z?Ae=!0:ae=!0;ae?(T(J),J=qg(L)):Ae?(M(z),z=qg(F)):(z=qg(F),J=qg(L))}}(i,o,lp,f=>{c.push(this.Rn(e,t,r,f))},f=>{c.push(this.vn(e,t,r,f))}),pe.waitFor(c)}In(e){let t=1;return tw(e).X({index:"sequenceNumberIndex",reverse:!0,range:IDBKeyRange.upperBound([this.uid,Number.MAX_SAFE_INTEGER])},(r,i,o)=>{o.done(),t=i.sequenceNumber+1}).next(()=>t)}createRange(e,t,r){r=r.sort((c,f)=>lp(c,f)).filter((c,f,_)=>!f||0!==lp(c,_[f-1]));const i=[];i.push(e);for(const c of r){const f=lp(c,e),_=lp(c,t);if(0===f)i[0]=e.He();else if(f>0&&_<0)i.push(c),i.push(c.He());else if(_>0)break}i.push(t);const o=[];for(let c=0;c<i.length;c+=2){if(this.Pn(i[c],i[c+1]))return[];o.push(IDBKeyRange.bound([i[c].indexId,this.uid,i[c].arrayValue,i[c].directionalValue,q1,[]],[i[c+1].indexId,this.uid,i[c+1].arrayValue,i[c+1].directionalValue,q1,[]]))}return o}Pn(e,t){return lp(e,t)>0}getMinOffsetFromCollectionGroup(e,t){return this.getFieldIndexes(e,t).next(Cx)}getMinOffset(e,t){return pe.mapArray(this.un(t),r=>this.cn(e,r).next(i=>i||St())).next(Cx)}}function Sx(n){return us(n,"collectionParents")}function ew(n){return us(n,"indexEntries")}function W1(n){return us(n,"indexConfiguration")}function tw(n){return us(n,"indexState")}function Cx(n){Nt(0!==n.length);let e=n[0].indexState.offset,t=e.largestBatchId;for(let r=1;r<n.length;r++){const i=n[r].indexState.offset;Jc(i,e)<0&&(e=i),t<i.largestBatchId&&(t=i.largestBatchId)}return new dr(e.readTime,e.documentKey,t)}const Ax={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class wo{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new wo(e,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function Nx(n,e,t){const r=n.store("mutations"),i=n.store("documentMutations"),o=[],c=IDBKeyRange.only(t.batchId);let f=0;const _=r.X({range:c},(T,M,F)=>(f++,F.delete()));o.push(_.next(()=>{Nt(1===f)}));const b=[];for(const T of t.mutations){const M=hy(e,T.key.path,t.batchId);o.push(i.delete(M)),b.push(T.key)}return pe.waitFor(o).next(()=>b)}function K1(n){if(!n)return 0;let e;if(n.document)e=n.document;else if(n.unknownDocument)e=n.unknownDocument;else{if(!n.noDocument)throw St();e=n.noDocument}return JSON.stringify(e).length}wo.DEFAULT_COLLECTION_PERCENTILE=10,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,wo.DEFAULT=new wo(41943040,wo.DEFAULT_COLLECTION_PERCENTILE,wo.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),wo.DISABLED=new wo(-1,0,0);class Z1{constructor(e,t,r,i){this.userId=e,this.serializer=t,this.indexManager=r,this.referenceDelegate=i,this.bn={}}static fe(e,t,r,i){Nt(""!==e.uid);const o=e.isAuthenticated()?e.uid:"";return new Z1(o,t,r,i)}checkEmpty(e){let t=!0;const r=IDBKeyRange.bound([this.userId,Number.NEGATIVE_INFINITY],[this.userId,Number.POSITIVE_INFINITY]);return up(e).X({index:"userMutationsIndex",range:r},(i,o,c)=>{t=!1,c.done()}).next(()=>t)}addMutationBatch(e,t,r,i){const o=Sy(e),c=up(e);return c.add({}).next(f=>{Nt("number"==typeof f);const _=new Wb(f,t,r,i),b=function(F,L,z){const J=z.baseMutations.map(Ae=>Yb(F.le,Ae)),ae=z.mutations.map(Ae=>Yb(F.le,Ae));return{userId:L,batchId:z.batchId,localWriteTimeMs:z.localWriteTime.toMillis(),baseMutations:J,mutations:ae}}(this.serializer,this.userId,_),T=[];let M=new Ur((F,L)=>cn(F.canonicalString(),L.canonicalString()));for(const F of i){const L=hy(this.userId,F.key.path,f);M=M.add(F.key.path.popLast()),T.push(c.put(b)),T.push(o.put(L,QO))}return M.forEach(F=>{T.push(this.indexManager.addToCollectionParentIndex(e,F))}),e.addOnCommittedListener(()=>{this.bn[f]=_.keys()}),pe.waitFor(T).next(()=>_)})}lookupMutationBatch(e,t){return up(e).get(t).next(r=>r?(Nt(r.userId===this.userId),sm(this.serializer,r)):null)}Vn(e,t){return this.bn[t]?pe.resolve(this.bn[t]):this.lookupMutationBatch(e,t).next(r=>{if(r){const i=r.keys();return this.bn[t]=i,i}return null})}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=IDBKeyRange.lowerBound([this.userId,r]);let o=null;return up(e).X({index:"userMutationsIndex",range:i},(c,f,_)=>{f.userId===this.userId&&(Nt(f.batchId>=r),o=sm(this.serializer,f)),_.done()}).next(()=>o)}getHighestUnacknowledgedBatchId(e){const t=IDBKeyRange.upperBound([this.userId,Number.POSITIVE_INFINITY]);let r=-1;return up(e).X({index:"userMutationsIndex",range:t,reverse:!0},(i,o,c)=>{r=o.batchId,c.done()}).next(()=>r)}getAllMutationBatches(e){const t=IDBKeyRange.bound([this.userId,-1],[this.userId,Number.POSITIVE_INFINITY]);return up(e).j("userMutationsIndex",t).next(r=>r.map(i=>sm(this.serializer,i)))}getAllMutationBatchesAffectingDocumentKey(e,t){const r=zg(this.userId,t.path),i=IDBKeyRange.lowerBound(r),o=[];return Sy(e).X({range:i},(c,f,_)=>{const[b,T,M]=c,F=to(T);if(b===this.userId&&t.path.isEqual(F))return up(e).get(M).next(L=>{if(!L)throw St();Nt(L.userId===this.userId),o.push(sm(this.serializer,L))});_.done()}).next(()=>o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(cn);const i=[];return t.forEach(o=>{const c=zg(this.userId,o.path),f=IDBKeyRange.lowerBound(c),_=Sy(e).X({range:f},(b,T,M)=>{const[F,L,z]=b,J=to(L);F===this.userId&&o.path.isEqual(J)?r=r.add(z):M.done()});i.push(_)}),pe.waitFor(i).next(()=>this.Sn(e,r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1,o=zg(this.userId,r),c=IDBKeyRange.lowerBound(o);let f=new Ur(cn);return Sy(e).X({range:c},(_,b,T)=>{const[M,F,L]=_,z=to(F);M===this.userId&&r.isPrefixOf(z)?z.length===i&&(f=f.add(L)):T.done()}).next(()=>this.Sn(e,f))}Sn(e,t){const r=[],i=[];return t.forEach(o=>{i.push(up(e).get(o).next(c=>{if(null===c)throw St();Nt(c.userId===this.userId),r.push(sm(this.serializer,c))}))}),pe.waitFor(i).next(()=>r)}removeMutationBatch(e,t){return Nx(e.at,this.userId,t).next(r=>(e.addOnCommittedListener(()=>{this.Dn(t.batchId)}),pe.forEach(r,i=>this.referenceDelegate.markPotentiallyOrphaned(e,i))))}Dn(e){delete this.bn[e]}performConsistencyCheck(e){return this.checkEmpty(e).next(t=>{if(!t)return pe.resolve();const r=IDBKeyRange.lowerBound([this.userId]),i=[];return Sy(e).X({range:r},(o,c,f)=>{if(o[0]===this.userId){const _=to(o[1]);i.push(_)}else f.done()}).next(()=>{Nt(0===i.length)})})}containsKey(e,t){return Mx(e,this.userId,t)}Cn(e){return Ox(e).get(this.userId).next(t=>t||{userId:this.userId,lastAcknowledgedBatchId:-1,lastStreamToken:""})}}function Mx(n,e,t){const r=zg(e,t.path),i=r[1],o=IDBKeyRange.lowerBound(r);let c=!1;return Sy(n).X({range:o,Y:!0},(f,_,b)=>{const[T,M,F]=f;T===e&&M===i&&(c=!0),b.done()}).next(()=>c)}function up(n){return us(n,"mutations")}function Sy(n){return us(n,"documentMutations")}function Ox(n){return us(n,"mutationQueues")}class lm{constructor(e){this.xn=e}next(){return this.xn+=2,this.xn}static Nn(){return new lm(0)}static kn(){return new lm(-1)}}class KL{constructor(e,t){this.referenceDelegate=e,this.serializer=t}allocateTargetId(e){return this.Mn(e).next(t=>{const r=new lm(t.highestTargetId);return t.highestTargetId=r.next(),this.On(e,t).next(()=>t.highestTargetId)})}getLastRemoteSnapshotVersion(e){return this.Mn(e).next(t=>Vt.fromTimestamp(new Lr(t.lastRemoteSnapshotVersion.seconds,t.lastRemoteSnapshotVersion.nanoseconds)))}getHighestSequenceNumber(e){return this.Mn(e).next(t=>t.highestListenSequenceNumber)}setTargetsMetadata(e,t,r){return this.Mn(e).next(i=>(i.highestListenSequenceNumber=t,r&&(i.lastRemoteSnapshotVersion=r.toTimestamp()),t>i.highestListenSequenceNumber&&(i.highestListenSequenceNumber=t),this.On(e,i)))}addTargetData(e,t){return this.$n(e,t).next(()=>this.Mn(e).next(r=>(r.targetCount+=1,this.Fn(t,r),this.On(e,r))))}updateTargetData(e,t){return this.$n(e,t)}removeTargetData(e,t){return this.removeMatchingKeysForTargetId(e,t.targetId).next(()=>Cy(e).delete(t.targetId)).next(()=>this.Mn(e)).next(r=>(Nt(r.targetCount>0),r.targetCount-=1,this.On(e,r)))}removeTargets(e,t,r){let i=0;const o=[];return Cy(e).X((c,f)=>{const _=Jb(f);_.sequenceNumber<=t&&null===r.get(_.targetId)&&(i++,o.push(this.removeTargetData(e,_)))}).next(()=>pe.waitFor(o)).next(()=>i)}forEachTarget(e,t){return Cy(e).X((r,i)=>{const o=Jb(i);t(o)})}Mn(e){return xx(e).get("targetGlobalKey").next(t=>(Nt(null!==t),t))}On(e,t){return xx(e).put("targetGlobalKey",t)}$n(e,t){return Cy(e).put(mx(this.serializer,t))}Fn(e,t){let r=!1;return e.targetId>t.highestTargetId&&(t.highestTargetId=e.targetId,r=!0),e.sequenceNumber>t.highestListenSequenceNumber&&(t.highestListenSequenceNumber=e.sequenceNumber,r=!0),r}getTargetCount(e){return this.Mn(e).next(t=>t.targetCount)}getTargetData(e,t){const r=qu(t),i=IDBKeyRange.bound([r,Number.NEGATIVE_INFINITY],[r,Number.POSITIVE_INFINITY]);let o=null;return Cy(e).X({range:i,index:"queryTargetsIndex"},(c,f,_)=>{const b=Jb(f);ip(t,b.target)&&(o=b,_.done())}).next(()=>o)}addMatchingKeys(e,t,r){const i=[],o=cp(e);return t.forEach(c=>{const f=ls(c.path);i.push(o.put({targetId:r,path:f})),i.push(this.referenceDelegate.addReference(e,r,c))}),pe.waitFor(i)}removeMatchingKeys(e,t,r){const i=cp(e);return pe.forEach(t,o=>{const c=ls(o.path);return pe.waitFor([i.delete([r,c]),this.referenceDelegate.removeReference(e,r,o)])})}removeMatchingKeysForTargetId(e,t){const r=cp(e),i=IDBKeyRange.bound([t],[t+1],!1,!0);return r.delete(i)}getMatchingKeysForTargetId(e,t){const r=IDBKeyRange.bound([t],[t+1],!1,!0),i=cp(e);let o=pn();return i.X({range:r,Y:!0},(c,f,_)=>{const b=to(c[1]),T=new gt(b);o=o.add(T)}).next(()=>o)}containsKey(e,t){const r=ls(t.path),i=IDBKeyRange.bound([r],[cy(r)],!1,!0);let o=0;return cp(e).X({index:"documentTargetsIndex",Y:!0,range:i},([c,f],_,b)=>{0!==c&&(o++,b.done())}).next(()=>o>0)}he(e,t){return Cy(e).get(t).next(r=>r?Jb(r):null)}}function Cy(n){return us(n,"targets")}function xx(n){return us(n,"targetGlobal")}function cp(n){return us(n,"targetDocuments")}function Rx([n,e],[t,r]){const i=cn(n,t);return 0===i?cn(e,r):i}class ZL{constructor(e){this.Bn=e,this.buffer=new Ur(Rx),this.Ln=0}qn(){return++this.Ln}Un(e){const t=[e,this.qn()];if(this.buffer.size<this.Bn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();Rx(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class Px{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Kn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Gn(6e4)}stop(){this.Kn&&(this.Kn.cancel(),this.Kn=null)}get started(){return null!==this.Kn}Gn(e){var t=this;Ke("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Kn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(0,xe.Z)(function*(){t.Kn=null;try{yield t.localStore.collectGarbage(t.garbageCollector)}catch(r){Qc(r)?Ke("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",r):yield mh(r)}yield t.Gn(3e5)}))}}class YL{constructor(e,t){this.Qn=e,this.params=t}calculateTargetCount(e,t){return this.Qn.jn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(0===t)return pe.resolve(vo.ct);const r=new ZL(t);return this.Qn.forEachTarget(e,i=>r.Un(i.sequenceNumber)).next(()=>this.Qn.zn(e,i=>r.Un(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Qn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Qn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector","Garbage collection skipped; disabled"),pe.resolve(Ax)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(Ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Ax):this.Wn(e,t))}getCacheSize(e){return this.Qn.getCacheSize(e)}Wn(e,t){let r,i,o,c,f,_,b;const T=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(M=>(M>this.params.maximumSequenceNumbersToCollect?(Ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${M}`),i=this.params.maximumSequenceNumbersToCollect):i=M,c=Date.now(),this.nthSequenceNumber(e,i))).next(M=>(r=M,f=Date.now(),this.removeTargets(e,r,t))).next(M=>(o=M,_=Date.now(),this.removeOrphanedDocuments(e,r))).next(M=>(b=Date.now(),hb()<=jc.in.DEBUG&&Ke("LruGarbageCollector",`LRU Garbage Collection\n\tCounted targets in ${c-T}ms\n\tDetermined least recently used ${i} in `+(f-c)+`ms\n\tRemoved ${o} targets in `+(_-f)+`ms\n\tRemoved ${M} documents in `+(b-_)+`ms\nTotal Duration: ${b-T}ms`),pe.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:o,documentsRemoved:M})))}}class JL{constructor(e,t){this.db=e,this.garbageCollector=function kx(n,e){return new YL(n,e)}(this,t)}jn(e){const t=this.Hn(e);return this.db.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}Hn(e){let t=0;return this.zn(e,r=>{t++}).next(()=>t)}forEachTarget(e,t){return this.db.getTargetCache().forEachTarget(e,t)}zn(e,t){return this.Jn(e,(r,i)=>t(i))}addReference(e,t,r){return Y1(e,r)}removeReference(e,t,r){return Y1(e,r)}removeTargets(e,t,r){return this.db.getTargetCache().removeTargets(e,t,r)}markPotentiallyOrphaned(e,t){return Y1(e,t)}Yn(e,t){return function(r,i){let o=!1;return Ox(r).Z(c=>Mx(r,c,i).next(f=>(f&&(o=!0),pe.resolve(!f)))).next(()=>o)}(e,t)}removeOrphanedDocuments(e,t){const r=this.db.getRemoteDocumentCache().newChangeBuffer(),i=[];let o=0;return this.Jn(e,(c,f)=>{if(f<=t){const _=this.Yn(e,c).next(b=>{if(!b)return o++,r.getEntry(e,c).next(()=>(r.removeEntry(c,Vt.min()),cp(e).delete([0,ls(c.path)])))});i.push(_)}}).next(()=>pe.waitFor(i)).next(()=>r.apply(e)).next(()=>o)}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.db.getTargetCache().updateTargetData(e,r)}updateLimboDocument(e,t){return Y1(e,t)}Jn(e,t){const r=cp(e);let i,o=vo.ct;return r.X({index:"documentTargetsIndex"},([c,f],{path:_,sequenceNumber:b})=>{0===c?(o!==vo.ct&&t(new gt(to(i)),o),o=b,i=_):o=vo.ct}).next(()=>{o!==vo.ct&&t(new gt(to(i)),o)})}getCacheSize(e){return this.db.getRemoteDocumentCache().getSize(e)}}function Y1(n,e){return cp(n).put((r=n.currentSequenceNumber,{targetId:0,path:ls(e.path),sequenceNumber:r}));var r}class Fx{constructor(){this.changes=new ba(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,hr.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return void 0!==r?pe.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class QL{constructor(e){this.serializer=e}setIndexManager(e){this.indexManager=e}addEntry(e,t,r){return um(e).put(r)}removeEntry(e,t,r){return um(e).delete(function(i,o){const c=i.path.toArray();return[c.slice(0,c.length-2),c[c.length-2],$1(o),c[c.length-1]]}(t,r))}updateMetadata(e,t){return this.getMetadata(e).next(r=>(r.byteSize+=t,this.Xn(e,r)))}getEntry(e,t){let r=hr.newInvalidDocument(t);return um(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nw(t))},(i,o)=>{r=this.Zn(t,o)}).next(()=>r)}ts(e,t){let r={size:0,document:hr.newInvalidDocument(t)};return um(e).X({index:"documentKeyIndex",range:IDBKeyRange.only(nw(t))},(i,o)=>{r={document:this.Zn(t,o),size:K1(o)}}).next(()=>r)}getEntries(e,t){let r=bo();return this.es(e,t,(i,o)=>{const c=this.Zn(i,o);r=r.insert(i,c)}).next(()=>r)}ns(e,t){let r=bo(),i=new Nr(gt.comparator);return this.es(e,t,(o,c)=>{const f=this.Zn(o,c);r=r.insert(o,f),i=i.insert(o,K1(c))}).next(()=>({documents:r,ss:i}))}es(e,t,r){if(t.isEmpty())return pe.resolve();let i=new Ur(Vx);t.forEach(_=>i=i.add(_));const o=IDBKeyRange.bound(nw(i.first()),nw(i.last())),c=i.getIterator();let f=c.getNext();return um(e).X({index:"documentKeyIndex",range:o},(_,b,T)=>{const M=gt.fromSegments([...b.prefixPath,b.collectionGroup,b.documentId]);for(;f&&Vx(f,M)<0;)r(f,null),f=c.getNext();f&&f.isEqual(M)&&(r(f,b),f=c.hasNext()?c.getNext():null),f?T.G(nw(f)):T.done()}).next(()=>{for(;f;)r(f,null),f=c.hasNext()?c.getNext():null})}getDocumentsMatchingQuery(e,t,r,i){const o=t.path,c=[o.popLast().toArray(),o.lastSegment(),$1(r.readTime),r.documentKey.path.isEmpty()?"":r.documentKey.path.lastSegment()],f=[o.popLast().toArray(),o.lastSegment(),[Number.MAX_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],""];return um(e).j(IDBKeyRange.bound(c,f,!0)).next(_=>{let b=bo();for(const T of _){const M=this.Zn(gt.fromSegments(T.prefixPath.concat(T.collectionGroup,T.documentId)),T);M.isFoundDocument()&&(by(t,M)||i.has(M.key))&&(b=b.insert(M.key,M))}return b})}getAllFromCollectionGroup(e,t,r,i){let o=bo();const c=Ux(t,r),f=Ux(t,dr.max());return um(e).X({index:"collectionGroupIndex",range:IDBKeyRange.bound(c,f,!0)},(_,b,T)=>{const M=this.Zn(gt.fromSegments(b.prefixPath.concat(b.collectionGroup,b.documentId)),b);o=o.insert(M.key,M),o.size===i&&T.done()}).next(()=>o)}newChangeBuffer(e){return new XL(this,!!e&&e.trackRemovals)}getSize(e){return this.getMetadata(e).next(t=>t.byteSize)}getMetadata(e){return Bx(e).get("remoteDocumentGlobalKey").next(t=>(Nt(!!t),t))}Xn(e,t){return Bx(e).put("remoteDocumentGlobalKey",t)}Zn(e,t){if(t){const r=function BL(n,e){let t;if(e.document)t=lx(n.le,e.document,!!e.hasCommittedMutations);else if(e.noDocument){const r=gt.fromSegments(e.noDocument.path),i=im(e.noDocument.readTime);t=hr.newNoDocument(r,i),e.hasCommittedMutations&&t.setHasCommittedMutations()}else{if(!e.unknownDocument)return St();{const r=gt.fromSegments(e.unknownDocument.path),i=im(e.unknownDocument.version);t=hr.newUnknownDocument(r,i)}}return e.readTime&&t.setReadTime(function(r){const i=new Lr(r[0],r[1]);return Vt.fromTimestamp(i)}(e.readTime)),t}(this.serializer,t);if(!r.isNoDocument()||!r.version.isEqual(Vt.min()))return r}return hr.newInvalidDocument(e)}}function Lx(n){return new QL(n)}class XL extends Fx{constructor(e,t){super(),this.rs=e,this.trackRemovals=t,this.os=new ba(r=>r.toString(),(r,i)=>r.isEqual(i))}applyChanges(e){const t=[];let r=0,i=new Ur((o,c)=>cn(o.canonicalString(),c.canonicalString()));return this.changes.forEach((o,c)=>{const f=this.os.get(o);if(t.push(this.rs.removeEntry(e,o,f.readTime)),c.isValidDocument()){const _=gx(this.rs.serializer,c);i=i.add(o.path.popLast());const b=K1(_);r+=b-f.size,t.push(this.rs.addEntry(e,o,_))}else if(r-=f.size,this.trackRemovals){const _=gx(this.rs.serializer,c.convertToNoDocument(Vt.min()));t.push(this.rs.addEntry(e,o,_))}}),i.forEach(o=>{t.push(this.rs.indexManager.addToCollectionParentIndex(e,o))}),t.push(this.rs.updateMetadata(e,r)),pe.waitFor(t)}getFromCache(e,t){return this.rs.ts(e,t).next(r=>(this.os.set(t,{size:r.size,readTime:r.document.readTime}),r.document))}getAllFromCache(e,t){return this.rs.ns(e,t).next(({documents:r,ss:i})=>(i.forEach((o,c)=>{this.os.set(o,{size:c,readTime:r.get(o).readTime})}),r))}}function Bx(n){return us(n,"remoteDocumentGlobal")}function um(n){return us(n,"remoteDocumentsV14")}function nw(n){const e=n.path.toArray();return[e.slice(0,e.length-2),e[e.length-2],e[e.length-1]]}function Ux(n,e){const t=e.documentKey.path.toArray();return[n,$1(e.readTime),t.slice(0,t.length-2),t.length>0?t[t.length-1]:""]}function Vx(n,e){const t=n.path.toArray(),r=e.path.toArray();let i=0;for(let o=0;o<t.length-2&&o<r.length-2;++o)if(i=cn(t[o],r[o]),i)return i;return i=cn(t.length,r.length),i||(i=cn(t[t.length-2],r[r.length-2]),i||cn(t[t.length-1],r[r.length-1]))}class eB{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Hx{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(null!==r&&em(r.mutation,i,cs.empty(),Lr.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,pn()).next(()=>r))}getLocalViewOfDocuments(e,t,r=pn()){const i=wa();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let c=ll();return o.forEach((f,_)=>{c=c.insert(f,_.overlayedDocument)}),c}))}getOverlayedDocuments(e,t){const r=wa();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,pn()))}populateOverlays(e,t,r){const i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((c,f)=>{t.set(c,f)})})}computeViews(e,t,r,i){let o=bo();const c=Xg(),f=Xg();return t.forEach((_,b)=>{const T=r.get(b.key);i.has(b.key)&&(void 0===T||T.mutation instanceof sd)?o=o.insert(b.key,b):void 0!==T?(c.set(b.key,T.mutation.getFieldMask()),em(T.mutation,b,T.mutation.getFieldMask(),Lr.now())):c.set(b.key,cs.empty())}),this.recalculateAndSaveOverlays(e,o).next(_=>(_.forEach((b,T)=>c.set(b,T)),t.forEach((b,T)=>{var M;return f.set(b,new eB(T,null!==(M=c.get(b))&&void 0!==M?M:null))}),f))}recalculateAndSaveOverlays(e,t){const r=Xg();let i=new Nr((c,f)=>c-f),o=pn();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(c=>{for(const f of c)f.keys().forEach(_=>{const b=t.get(_);if(null===b)return;let T=r.get(_)||cs.empty();T=f.applyToLocalView(b,T),r.set(_,T);const M=(i.get(f.batchId)||pn()).add(_);i=i.insert(f.batchId,M)})}).next(()=>{const c=[],f=i.getReverseIterator();for(;f.hasNext();){const _=f.getNext(),b=_.key,T=_.value,M=wy();T.forEach(F=>{if(!o.has(F)){const L=U1(t.get(F),r.get(F));null!==L&&M.set(F,L),o=o.add(F)}}),c.push(this.documentOverlayCache.saveOverlays(e,b,M))}return pe.waitFor(c)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r){return gt.isDocumentKey((i=t).path)&&null===i.collectionGroup&&0===i.filters.length?this.getDocumentsMatchingDocumentQuery(e,t.path):P1(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r):this.getDocumentsMatchingCollectionQuery(e,t,r);var i}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{const c=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):pe.resolve(wa());let f=-1,_=o;return c.next(b=>pe.forEach(b,(T,M)=>(f<M.largestBatchId&&(f=M.largestBatchId),o.get(T)?pe.resolve():this.remoteDocumentCache.getEntry(e,T).next(F=>{_=_.insert(T,F)}))).next(()=>this.populateOverlays(e,b,o)).next(()=>this.computeViews(e,_,b,pn())).next(T=>({batchId:f,changes:Ub(T)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new gt(t)).next(r=>{let i=ll();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r){const i=t.collectionGroup;let o=ll();return this.indexManager.getCollectionParents(e,i).next(c=>pe.forEach(c,f=>{const _=(b=t,T=f.child(i),new va(T,null,b.explicitOrderBy.slice(),b.filters.slice(),b.limit,b.limitType,b.startAt,b.endAt));var b,T;return this.getDocumentsMatchingCollectionQuery(e,_,r).next(b=>{b.forEach((T,M)=>{o=o.insert(T,M)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,t,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,i))).next(o=>{i.forEach((f,_)=>{const b=_.getKey();null===o.get(b)&&(o=o.insert(b,hr.newInvalidDocument(b)))});let c=ll();return o.forEach((f,_)=>{const b=i.get(f);void 0!==b&&em(b.mutation,_,cs.empty(),Lr.now()),by(t,_)&&(c=c.insert(f,_))}),c})}}class tB{constructor(e){this.serializer=e,this.us=new Map,this.cs=new Map}getBundleMetadata(e,t){return pe.resolve(this.us.get(t))}saveBundleMetadata(e,t){var r;return this.us.set(t.id,{id:(r=t).id,version:r.version,createTime:Vi(r.createTime)}),pe.resolve()}getNamedQuery(e,t){return pe.resolve(this.cs.get(t))}saveNamedQuery(e,t){return this.cs.set(t.name,{name:(r=t).name,query:dA(r.bundledQuery),readTime:Vi(r.readTime)}),pe.resolve();var r}}class nB{constructor(){this.overlays=new Nr(gt.comparator),this.hs=new Map}getOverlay(e,t){return pe.resolve(this.overlays.get(t))}getOverlays(e,t){const r=wa();return pe.forEach(t,i=>this.getOverlay(e,i).next(o=>{null!==o&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.de(e,t,o)}),pe.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.hs.get(r);return void 0!==i&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.hs.delete(r)),pe.resolve()}getOverlaysForCollection(e,t,r){const i=wa(),o=t.length+1,c=new gt(t.child("")),f=this.overlays.getIteratorFrom(c);for(;f.hasNext();){const _=f.getNext().value,b=_.getKey();if(!t.isPrefixOf(b.path))break;b.path.length===o&&_.largestBatchId>r&&i.set(_.getKey(),_)}return pe.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new Nr((b,T)=>b-T);const c=this.overlays.getIterator();for(;c.hasNext();){const b=c.getNext().value;if(b.getKey().getCollectionGroup()===t&&b.largestBatchId>r){let T=o.get(b.largestBatchId);null===T&&(T=wa(),o=o.insert(b.largestBatchId,T)),T.set(b.getKey(),b)}}const f=wa(),_=o.getIterator();for(;_.hasNext()&&(_.getNext().value.forEach((b,T)=>f.set(b,T)),!(f.size()>=i)););return pe.resolve(f)}de(e,t,r){const i=this.overlays.get(r.key);if(null!==i){const c=this.hs.get(i.largestBatchId).delete(r.key);this.hs.set(i.largestBatchId,c)}this.overlays=this.overlays.insert(r.key,new s(t,r));let o=this.hs.get(t);void 0===o&&(o=pn(),this.hs.set(t,o)),this.hs.set(t,o.add(r.key))}}class yA{constructor(){this.ls=new Ur(Ps.fs),this.ds=new Ur(Ps._s)}isEmpty(){return this.ls.isEmpty()}addReference(e,t){const r=new Ps(e,t);this.ls=this.ls.add(r),this.ds=this.ds.add(r)}ws(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gs(new Ps(e,t))}ys(e,t){e.forEach(r=>this.removeReference(r,t))}ps(e){const t=new gt(new Fn([])),r=new Ps(t,e),i=new Ps(t,e+1),o=[];return this.ds.forEachInRange([r,i],c=>{this.gs(c),o.push(c.key)}),o}Is(){this.ls.forEach(e=>this.gs(e))}gs(e){this.ls=this.ls.delete(e),this.ds=this.ds.delete(e)}Ts(e){const t=new gt(new Fn([])),r=new Ps(t,e),i=new Ps(t,e+1);let o=pn();return this.ds.forEachInRange([r,i],c=>{o=o.add(c.key)}),o}containsKey(e){const t=new Ps(e,0),r=this.ls.firstAfterOrEqual(t);return null!==r&&e.isEqual(r.key)}}class Ps{constructor(e,t){this.key=e,this.Es=t}static fs(e,t){return gt.comparator(e.key,t.key)||cn(e.Es,t.Es)}static _s(e,t){return cn(e.Es,t.Es)||gt.comparator(e.key,t.key)}}class rB{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.As=1,this.Rs=new Ur(Ps.fs)}checkEmpty(e){return pe.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,r,i){const o=this.As;this.As++;const c=new Wb(o,t,r,i);this.mutationQueue.push(c);for(const f of i)this.Rs=this.Rs.add(new Ps(f.key,o)),this.indexManager.addToCollectionParentIndex(e,f.key.path.popLast());return pe.resolve(c)}lookupMutationBatch(e,t){return pe.resolve(this.vs(t))}getNextMutationBatchAfterBatchId(e,t){const i=this.Ps(t+1),o=i<0?0:i;return pe.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return pe.resolve(0===this.mutationQueue.length?-1:this.As-1)}getAllMutationBatches(e){return pe.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ps(t,0),i=new Ps(t,Number.POSITIVE_INFINITY),o=[];return this.Rs.forEachInRange([r,i],c=>{const f=this.vs(c.Es);o.push(f)}),pe.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Ur(cn);return t.forEach(i=>{const o=new Ps(i,0),c=new Ps(i,Number.POSITIVE_INFINITY);this.Rs.forEachInRange([o,c],f=>{r=r.add(f.Es)})}),pe.resolve(this.bs(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let o=r;gt.isDocumentKey(o)||(o=o.child(""));const c=new Ps(new gt(o),0);let f=new Ur(cn);return this.Rs.forEachWhile(_=>{const b=_.key.path;return!!r.isPrefixOf(b)&&(b.length===i&&(f=f.add(_.Es)),!0)},c),pe.resolve(this.bs(f))}bs(e){const t=[];return e.forEach(r=>{const i=this.vs(r);null!==i&&t.push(i)}),t}removeMutationBatch(e,t){Nt(0===this.Vs(t.batchId,"removed")),this.mutationQueue.shift();let r=this.Rs;return pe.forEach(t.mutations,i=>{const o=new Ps(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.Rs=r})}Dn(e){}containsKey(e,t){const r=new Ps(t,0),i=this.Rs.firstAfterOrEqual(r);return pe.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return pe.resolve()}Vs(e,t){return this.Ps(e)}Ps(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}vs(e){const t=this.Ps(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class iB{constructor(e){this.Ss=e,this.docs=new Nr(gt.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),o=i?i.size:0,c=this.Ss(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:c}),this.size+=c-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return pe.resolve(r?r.document.mutableCopy():hr.newInvalidDocument(t))}getEntries(e,t){let r=bo();return t.forEach(i=>{const o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():hr.newInvalidDocument(i))}),pe.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=bo();const c=t.path,f=new gt(c.child("")),_=this.docs.getIteratorFrom(f);for(;_.hasNext();){const{key:b,value:{document:T}}=_.getNext();if(!c.isPrefixOf(b.path))break;b.path.length>c.length+1||Jc(yb(T),r)<=0||(i.has(T.key)||by(t,T))&&(o=o.insert(T.key,T.mutableCopy()))}return pe.resolve(o)}getAllFromCollectionGroup(e,t,r,i){St()}Ds(e,t){return pe.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new sB(this)}getSize(e){return pe.resolve(this.size)}}class sB extends Fx{constructor(e){super(),this.rs=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.rs.addEntry(e,i)):this.rs.removeEntry(r)}),pe.waitFor(t)}getFromCache(e,t){return this.rs.getEntry(e,t)}getAllFromCache(e,t){return this.rs.getEntries(e,t)}}class oB{constructor(e){this.persistence=e,this.Cs=new ba(t=>qu(t),ip),this.lastRemoteSnapshotVersion=Vt.min(),this.highestTargetId=0,this.xs=0,this.Ns=new yA,this.targetCount=0,this.ks=lm.Nn()}forEachTarget(e,t){return this.Cs.forEach((r,i)=>t(i)),pe.resolve()}getLastRemoteSnapshotVersion(e){return pe.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return pe.resolve(this.xs)}allocateTargetId(e){return this.highestTargetId=this.ks.next(),pe.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.xs&&(this.xs=t),pe.resolve()}$n(e){this.Cs.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ks=new lm(t),this.highestTargetId=t),e.sequenceNumber>this.xs&&(this.xs=e.sequenceNumber)}addTargetData(e,t){return this.$n(t),this.targetCount+=1,pe.resolve()}updateTargetData(e,t){return this.$n(t),pe.resolve()}removeTargetData(e,t){return this.Cs.delete(t.target),this.Ns.ps(t.targetId),this.targetCount-=1,pe.resolve()}removeTargets(e,t,r){let i=0;const o=[];return this.Cs.forEach((c,f)=>{f.sequenceNumber<=t&&null===r.get(f.targetId)&&(this.Cs.delete(c),o.push(this.removeMatchingKeysForTargetId(e,f.targetId)),i++)}),pe.waitFor(o).next(()=>i)}getTargetCount(e){return pe.resolve(this.targetCount)}getTargetData(e,t){const r=this.Cs.get(t)||null;return pe.resolve(r)}addMatchingKeys(e,t,r){return this.Ns.ws(t,r),pe.resolve()}removeMatchingKeys(e,t,r){this.Ns.ys(t,r);const i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(c=>{o.push(i.markPotentiallyOrphaned(e,c))}),pe.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Ns.ps(t),pe.resolve()}getMatchingKeysForTargetId(e,t){const r=this.Ns.Ts(t);return pe.resolve(r)}containsKey(e,t){return pe.resolve(this.Ns.containsKey(t))}}class vA{constructor(e,t){this.Ms={},this.overlays={},this.Os=new vo(0),this.$s=!1,this.$s=!0,this.referenceDelegate=e(this),this.Fs=new oB(this),this.indexManager=new qL,this.remoteDocumentCache=new iB(r=>this.referenceDelegate.Bs(r)),this.serializer=new px(t),this.Ls=new tB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.$s=!1,Promise.resolve()}get started(){return this.$s}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new nB,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Ms[e.toKey()];return r||(r=new rB(t,this.referenceDelegate),this.Ms[e.toKey()]=r),r}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ke("MemoryPersistence","Starting transaction:",e);const i=new aB(this.Os.next());return this.referenceDelegate.qs(),r(i).next(o=>this.referenceDelegate.Us(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Ks(e,t){return pe.or(Object.values(this.Ms).map(r=>()=>r.containsKey(e,t)))}}class aB extends o1{constructor(e){super(),this.currentSequenceNumber=e}}class J1{constructor(e){this.persistence=e,this.Gs=new yA,this.Qs=null}static js(e){return new J1(e)}get zs(){if(this.Qs)return this.Qs;throw St()}addReference(e,t,r){return this.Gs.addReference(r,t),this.zs.delete(r.toString()),pe.resolve()}removeReference(e,t,r){return this.Gs.removeReference(r,t),this.zs.add(r.toString()),pe.resolve()}markPotentiallyOrphaned(e,t){return this.zs.add(t.toString()),pe.resolve()}removeTarget(e,t){this.Gs.ps(t.targetId).forEach(i=>this.zs.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.zs.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}qs(){this.Qs=new Set}Us(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return pe.forEach(this.zs,r=>{const i=gt.fromPath(r);return this.Ws(e,i).next(o=>{o||t.removeEntry(i,Vt.min())})}).next(()=>(this.Qs=null,t.apply(e)))}updateLimboDocument(e,t){return this.Ws(e,t).next(r=>{r?this.zs.delete(t.toString()):this.zs.add(t.toString())})}Bs(e){return 0}Ws(e,t){return pe.or([()=>pe.resolve(this.Gs.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ks(e,t)])}}class lB{constructor(e){this.serializer=e}$(e,t,r,i){const o=new tp("createOrUpgrade",t);var f;r<1&&i>=1&&(e.createObjectStore("owner"),(f=e).createObjectStore("mutationQueues",{keyPath:"userId"}),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d1,{unique:!0}),f.createObjectStore("documentMutations"),jx(e),function(f){f.createObjectStore("remoteDocuments")}(e));let c=pe.resolve();return r<3&&i>=3&&(0!==r&&(function(f){f.deleteObjectStore("targetDocuments"),f.deleteObjectStore("targets"),f.deleteObjectStore("targetGlobal")}(e),jx(e)),c=c.next(()=>function(f){const _=f.store("targetGlobal"),b={highestTargetId:0,highestListenSequenceNumber:0,lastRemoteSnapshotVersion:Vt.min().toTimestamp(),targetCount:0};return _.put("targetGlobalKey",b)}(o))),r<4&&i>=4&&(0!==r&&(c=c.next(()=>function(f,_){return _.store("mutations").j().next(b=>{f.deleteObjectStore("mutations"),f.createObjectStore("mutations",{keyPath:"batchId",autoIncrement:!0}).createIndex("userMutationsIndex",d1,{unique:!0});const T=_.store("mutations"),M=b.map(F=>T.put(F));return pe.waitFor(M)})}(e,o))),c=c.next(()=>{!function(f){f.createObjectStore("clientMetadata",{keyPath:"clientId"})}(e)})),r<5&&i>=5&&(c=c.next(()=>this.Js(o))),r<6&&i>=6&&(c=c.next(()=>(function(f){f.createObjectStore("remoteDocumentGlobal")}(e),this.Ys(o)))),r<7&&i>=7&&(c=c.next(()=>this.Xs(o))),r<8&&i>=8&&(c=c.next(()=>this.Zs(e,o))),r<9&&i>=9&&(c=c.next(()=>{!function(f){f.objectStoreNames.contains("remoteDocumentChanges")&&f.deleteObjectStore("remoteDocumentChanges")}(e)})),r<10&&i>=10&&(c=c.next(()=>this.ti(o))),r<11&&i>=11&&(c=c.next(()=>{(function(f){f.createObjectStore("bundles",{keyPath:"bundleId"})})(e),function(f){f.createObjectStore("namedQueries",{keyPath:"name"})}(e)})),r<12&&i>=12&&(c=c.next(()=>{!function(f){const _=f.createObjectStore("documentOverlays",{keyPath:MC});_.createIndex("collectionPathOverlayIndex",m1,{unique:!1}),_.createIndex("collectionGroupOverlayIndex",OC,{unique:!1})}(e)})),r<13&&i>=13&&(c=c.next(()=>function(f){const _=f.createObjectStore("remoteDocumentsV14",{keyPath:TC});_.createIndex("documentKeyIndex",XO),_.createIndex("collectionGroupIndex",IC)}(e)).next(()=>this.ei(e,o)).next(()=>e.deleteObjectStore("remoteDocuments"))),r<14&&i>=14&&(c=c.next(()=>this.ni(e,o))),r<15&&i>=15&&(c=c.next(()=>function(f){f.createObjectStore("indexConfiguration",{keyPath:"indexId",autoIncrement:!0}).createIndex("collectionGroupIndex","collectionGroup",{unique:!1}),f.createObjectStore("indexState",{keyPath:AC}).createIndex("sequenceNumberIndex",p1,{unique:!1}),f.createObjectStore("indexEntries",{keyPath:g1}).createIndex("documentKeyIndex",NC,{unique:!1})}(e))),c}Ys(e){let t=0;return e.store("remoteDocuments").X((r,i)=>{t+=K1(i)}).next(()=>{const r={byteSize:t};return e.store("remoteDocumentGlobal").put("remoteDocumentGlobalKey",r)})}Js(e){const t=e.store("mutationQueues"),r=e.store("mutations");return t.j().next(i=>pe.forEach(i,o=>{const c=IDBKeyRange.bound([o.userId,-1],[o.userId,o.lastAcknowledgedBatchId]);return r.j("userMutationsIndex",c).next(f=>pe.forEach(f,_=>{Nt(_.userId===o.userId);const b=sm(this.serializer,_);return Nx(e,o.userId,b).next(()=>{})}))}))}Xs(e){const t=e.store("targetDocuments"),r=e.store("remoteDocuments");return e.store("targetGlobal").get("targetGlobalKey").next(i=>{const o=[];return r.X((c,f)=>{const _=new Fn(c),b=[0,ls(_)];o.push(t.get(b).next(T=>T?pe.resolve():t.put({targetId:0,path:ls(_),sequenceNumber:i.highestListenSequenceNumber})))}).next(()=>pe.waitFor(o))})}Zs(e,t){e.createObjectStore("collectionParents",{keyPath:f1});const r=t.store("collectionParents"),i=new _A,o=c=>{if(i.add(c)){const f=c.lastSegment(),_=c.popLast();return r.put({collectionId:f,parent:ls(_)})}};return t.store("remoteDocuments").X({Y:!0},(c,f)=>{const _=new Fn(c);return o(_.popLast())}).next(()=>t.store("documentMutations").X({Y:!0},([c,f,_],b)=>{const T=to(f);return o(T.popLast())}))}ti(e){const t=e.store("targets");return t.X((r,i)=>{const o=Jb(i),c=mx(this.serializer,o);return t.put(c)})}ei(e,t){const r=t.store("remoteDocuments"),i=[];return r.X((o,c)=>{const f=t.store("remoteDocumentsV14"),_=(b=c,b.document?new gt(Fn.fromString(b.document.name).popFirst(5)):b.noDocument?gt.fromSegments(b.noDocument.path):b.unknownDocument?gt.fromSegments(b.unknownDocument.path):St()).path.toArray();var b;const T={prefixPath:_.slice(0,_.length-2),collectionGroup:_[_.length-2],documentId:_[_.length-1],readTime:c.readTime||[0,0],unknownDocument:c.unknownDocument,noDocument:c.noDocument,document:c.document,hasCommittedMutations:!!c.hasCommittedMutations};i.push(f.put(T))}).next(()=>pe.waitFor(i))}ni(e,t){const r=t.store("mutations"),i=Lx(this.serializer),o=new vA(J1.js,this.serializer.le);return r.j().next(c=>{const f=new Map;return c.forEach(_=>{var b;let T=null!==(b=f.get(_.userId))&&void 0!==b?b:pn();sm(this.serializer,_).keys().forEach(M=>T=T.add(M)),f.set(_.userId,T)}),pe.forEach(f,(_,b)=>{const T=new Xi(b),M=G1.fe(this.serializer,T),F=o.getIndexManager(T),L=Z1.fe(T,this.serializer,F,o.referenceDelegate);return new Hx(i,L,M,F).recalculateAndSaveOverlaysForDocumentKeys(new Ib(t,vo.ct),_).next()})})}}function jx(n){n.createObjectStore("targetDocuments",{keyPath:CC}).createIndex("documentTargetsIndex",h1,{unique:!0}),n.createObjectStore("targets",{keyPath:"targetId"}).createIndex("queryTargetsIndex",SC,{unique:!0}),n.createObjectStore("targetGlobal")}const bA="Failed to obtain exclusive access to the persistence layer. To allow shared access, multi-tab synchronization has to be enabled in all tabs. If you are using `experimentalForceOwningTab:true`, make sure that only one tab has persistence enabled at any given time.";class wA{constructor(e,t,r,i,o,c,f,_,b,T,M=15){if(this.allowTabSynchronization=e,this.persistenceKey=t,this.clientId=r,this.si=o,this.window=c,this.document=f,this.ii=b,this.ri=T,this.oi=M,this.Os=null,this.$s=!1,this.isPrimary=!1,this.networkEnabled=!0,this.ui=null,this.inForeground=!1,this.ci=null,this.ai=null,this.hi=Number.NEGATIVE_INFINITY,this.li=F=>Promise.resolve(),!wA.D())throw new He(ye.UNIMPLEMENTED,"This platform is either missing IndexedDB or is known to have an incomplete implementation. Offline persistence has been disabled.");this.referenceDelegate=new JL(this,i),this.fi=t+"main",this.serializer=new px(_),this.di=new eo(this.fi,this.oi,new lB(this.serializer)),this.Fs=new KL(this.referenceDelegate,this.serializer),this.remoteDocumentCache=Lx(this.serializer),this.Ls=new UL,this.window&&this.window.localStorage?this._i=this.window.localStorage:(this._i=null,!1===T&&fi("IndexedDbPersistence","LocalStorage is unavailable. As a result, persistence may not work reliably. In particular enablePersistence() could fail immediately after refreshing the page."))}start(){return this.wi().then(()=>{if(!this.isPrimary&&!this.allowTabSynchronization)throw new He(ye.FAILED_PRECONDITION,bA);return this.mi(),this.gi(),this.yi(),this.runTransaction("getHighestListenSequenceNumber","readonly",e=>this.Fs.getHighestSequenceNumber(e))}).then(e=>{this.Os=new vo(e,this.ii)}).then(()=>{this.$s=!0}).catch(e=>(this.di&&this.di.close(),Promise.reject(e)))}pi(e){var t=this;return this.li=function(){var r=(0,xe.Z)(function*(i){if(t.started)return e(i)});return function(i){return r.apply(this,arguments)}}(),e(this.isPrimary)}setDatabaseDeletedListener(e){this.di.B(function(){var t=(0,xe.Z)(function*(r){null===r.newVersion&&(yield e())});return function(r){return t.apply(this,arguments)}}())}setNetworkEnabled(e){var t=this;this.networkEnabled!==e&&(this.networkEnabled=e,this.si.enqueueAndForget((0,xe.Z)(function*(){t.started&&(yield t.wi())})))}wi(){return this.runTransaction("updateClientMetadataAndTryBecomePrimary","readwrite",e=>X1(e).put({clientId:this.clientId,updateTimeMs:Date.now(),networkEnabled:this.networkEnabled,inForeground:this.inForeground}).next(()=>{if(this.isPrimary)return this.Ii(e).next(t=>{t||(this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)))})}).next(()=>this.Ti(e)).next(t=>this.isPrimary&&!t?this.Ei(e).next(()=>!1):!!t&&this.Ai(e).next(()=>!0))).catch(e=>{if(Qc(e))return Ke("IndexedDbPersistence","Failed to extend owner lease: ",e),this.isPrimary;if(!this.allowTabSynchronization)throw e;return Ke("IndexedDbPersistence","Releasing owner lease after error during lease refresh",e),!1}).then(e=>{this.isPrimary!==e&&this.si.enqueueRetryable(()=>this.li(e)),this.isPrimary=e})}Ii(e){return rw(e).get("owner").next(t=>pe.resolve(this.Ri(t)))}vi(e){return X1(e).delete(this.clientId)}Pi(){var e=this;return(0,xe.Z)(function*(){if(e.isPrimary&&!e.bi(e.hi,18e5)){e.hi=Date.now();const t=yield e.runTransaction("maybeGarbageCollectMultiClientState","readwrite-primary",r=>{const i=us(r,"clientMetadata");return i.j().next(o=>{const c=e.Vi(o,18e5),f=o.filter(_=>-1===c.indexOf(_));return pe.forEach(f,_=>i.delete(_.clientId)).next(()=>f)})}).catch(()=>[]);if(e._i)for(const r of t)e._i.removeItem(e.Si(r.clientId))}})()}yi(){this.ai=this.si.enqueueAfterDelay("client_metadata_refresh",4e3,()=>this.wi().then(()=>this.Pi()).then(()=>this.yi()))}Ri(e){return!!e&&e.ownerId===this.clientId}Ti(e){return this.ri?pe.resolve(!0):rw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)){if(this.Ri(t)&&this.networkEnabled)return!0;if(!this.Ri(t)){if(!t.allowTabSynchronization)throw new He(ye.FAILED_PRECONDITION,bA);return!1}}return!(!this.networkEnabled||!this.inForeground)||X1(e).j().next(r=>void 0===this.Vi(r,5e3).find(i=>!(this.clientId===i.clientId||!(!this.networkEnabled&&i.networkEnabled||!this.inForeground&&i.inForeground&&this.networkEnabled===i.networkEnabled))))}).next(t=>(this.isPrimary!==t&&Ke("IndexedDbPersistence",`Client ${t?"is":"is not"} eligible for a primary lease.`),t))}shutdown(){var e=this;return(0,xe.Z)(function*(){e.$s=!1,e.Ci(),e.ai&&(e.ai.cancel(),e.ai=null),e.xi(),e.Ni(),yield e.di.runTransaction("shutdown","readwrite",["owner","clientMetadata"],t=>{const r=new Ib(t,vo.ct);return e.Ei(r).next(()=>e.vi(r))}),e.di.close(),e.ki()})()}Vi(e,t){return e.filter(r=>this.bi(r.updateTimeMs,t)&&!this.Di(r.clientId))}Mi(){return this.runTransaction("getActiveClients","readonly",e=>X1(e).j().next(t=>this.Vi(t,18e5).map(r=>r.clientId)))}get started(){return this.$s}getMutationQueue(e,t){return Z1.fe(e,this.serializer,t,this.referenceDelegate)}getTargetCache(){return this.Fs}getRemoteDocumentCache(){return this.remoteDocumentCache}getIndexManager(e){return new WL(e,this.serializer.le.databaseId)}getDocumentOverlayCache(e){return G1.fe(this.serializer,e)}getBundleCache(){return this.Ls}runTransaction(e,t,r){Ke("IndexedDbPersistence","Starting transaction:",e);const i="readonly"===t?"readonly":"readwrite",o=15===(c=this.oi)?xC:14===c?Tb:13===c?Db:12===c?_1:11===c?Eb:void St();var c;let f;return this.di.runTransaction(e,i,o,_=>(f=new Ib(_,this.Os?this.Os.next():vo.ct),"readwrite-primary"===t?this.Ii(f).next(b=>!!b||this.Ti(f)).next(b=>{if(!b)throw fi(`Failed to obtain primary lease for action '${e}'.`),this.isPrimary=!1,this.si.enqueueRetryable(()=>this.li(!1)),new He(ye.FAILED_PRECONDITION,s1);return r(f)}).next(b=>this.Ai(f).next(()=>b)):this.Oi(f).next(()=>r(f)))).then(_=>(f.raiseOnCommittedEvent(),_))}Oi(e){return rw(e).get("owner").next(t=>{if(null!==t&&this.bi(t.leaseTimestampMs,5e3)&&!this.Di(t.ownerId)&&!this.Ri(t)&&!(this.ri||this.allowTabSynchronization&&t.allowTabSynchronization))throw new He(ye.FAILED_PRECONDITION,bA)})}Ai(e){const t={ownerId:this.clientId,allowTabSynchronization:this.allowTabSynchronization,leaseTimestampMs:Date.now()};return rw(e).put("owner",t)}static D(){return eo.D()}Ei(e){const t=rw(e);return t.get("owner").next(r=>this.Ri(r)?(Ke("IndexedDbPersistence","Releasing primary lease."),t.delete("owner")):pe.resolve())}bi(e,t){const r=Date.now();return!(e<r-t||e>r&&(fi(`Detected an update time that is in the future: ${e} > ${r}`),1))}mi(){null!==this.document&&"function"==typeof this.document.addEventListener&&(this.ci=()=>{this.si.enqueueAndForget(()=>(this.inForeground="visible"===this.document.visibilityState,this.wi()))},this.document.addEventListener("visibilitychange",this.ci),this.inForeground="visible"===this.document.visibilityState)}xi(){this.ci&&(this.document.removeEventListener("visibilitychange",this.ci),this.ci=null)}gi(){var e;"function"==typeof(null===(e=this.window)||void 0===e?void 0:e.addEventListener)&&(this.ui=()=>{this.Ci();const t=/(?:Version|Mobile)\/1[456]/;(0,Gn.G6)()&&(navigator.appVersion.match(t)||navigator.userAgent.match(t))&&this.si.enterRestrictedMode(!0),this.si.enqueueAndForget(()=>this.shutdown())},this.window.addEventListener("pagehide",this.ui))}Ni(){this.ui&&(this.window.removeEventListener("pagehide",this.ui),this.ui=null)}Di(e){var t;try{const r=null!==(null===(t=this._i)||void 0===t?void 0:t.getItem(this.Si(e)));return Ke("IndexedDbPersistence",`Client '${e}' ${r?"is":"is not"} zombied in LocalStorage`),r}catch(r){return fi("IndexedDbPersistence","Failed to get zombied client id.",r),!1}}Ci(){if(this._i)try{this._i.setItem(this.Si(this.clientId),String(Date.now()))}catch(e){fi("Failed to set zombie client id.",e)}}ki(){if(this._i)try{this._i.removeItem(this.Si(this.clientId))}catch{}}Si(e){return`firestore_zombie_${this.persistenceKey}_${e}`}}function rw(n){return us(n,"owner")}function X1(n){return us(n,"clientMetadata")}function EA(n,e){let t=n.projectId;return n.isDefaultDatabase||(t+="."+n.database),"firestore/"+e+"/"+t+"/"}class DA{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Fi=i}static Bi(e,t){let r=pn(),i=pn();for(const o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new DA(e,t.fromCache,r,i)}}class $x{constructor(){this.Li=!1}initialize(e,t){this.qi=e,this.indexManager=t,this.Li=!0}getDocumentsMatchingQuery(e,t,r,i){return this.Ui(e,t).next(o=>o||this.Ki(e,t,i,r)).next(o=>o||this.Gi(e,t))}Ui(e,t){if(R1(t))return pe.resolve(null);let r=Rs(t);return this.indexManager.getIndexType(e,r).next(i=>0===i?null:(null!==t.limit&&1===i&&(t=vy(t,null,"F"),r=Rs(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{const c=pn(...o);return this.qi.getDocuments(e,c).next(f=>this.indexManager.getMinOffset(e,r).next(_=>{const b=this.Qi(t,f);return this.ji(t,b,c,_.readTime)?this.Ui(e,vy(t,null,"F")):this.zi(e,b,t,_)}))})))}Ki(e,t,r,i){return R1(t)||i.isEqual(Vt.min())?this.Gi(e,t):this.qi.getDocuments(e,r).next(o=>{const c=this.Qi(t,o);return this.ji(t,c,r,i)?this.Gi(e,t):(hb()<=jc.in.DEBUG&&Ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),k1(t)),this.zi(e,c,t,_b(i,-1)))})}Qi(e,t){let r=new Ur(qC(e));return t.forEach((i,o)=>{by(e,o)&&(r=r.add(o))}),r}ji(e,t,r,i){if(null===e.limit)return!1;if(r.size!==t.size)return!0;const o="F"===e.limitType?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Gi(e,t){return hb()<=jc.in.DEBUG&&Ke("QueryEngine","Using full collection scan to execute query:",k1(t)),this.qi.getDocumentsMatchingQuery(e,t,dr.min())}zi(e,t,r,i){return this.qi.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(c=>{o=o.insert(c.key,c)}),o))}}class uB{constructor(e,t,r,i){this.persistence=e,this.Wi=t,this.serializer=i,this.Hi=new Nr(cn),this.Ji=new ba(o=>qu(o),ip),this.Yi=new Map,this.Xi=e.getRemoteDocumentCache(),this.Fs=e.getTargetCache(),this.Ls=e.getBundleCache(),this.Zi(r)}Zi(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Hx(this.Xi,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Xi.setIndexManager(this.indexManager),this.Wi.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.Hi))}}function Gx(n,e,t,r){return new uB(n,e,t,r)}function zx(n,e){return TA.apply(this,arguments)}function TA(){return TA=(0,xe.Z)(function*(n,e){const t=mt(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.Zi(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{const c=[],f=[];let _=pn();for(const b of i){c.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}for(const b of o){f.push(b.batchId);for(const T of b.mutations)_=_.add(T.key)}return t.localDocuments.getDocuments(r,_).next(b=>({tr:b,removedBatchIds:c,addedBatchIds:f}))})})}),TA.apply(this,arguments)}function qx(n){const e=mt(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Fs.getLastRemoteSnapshotVersion(t))}function Wx(n,e,t){let r=pn(),i=pn();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let c=bo();return t.forEach((f,_)=>{const b=o.get(f);_.isFoundDocument()!==b.isFoundDocument()&&(i=i.add(f)),_.isNoDocument()&&_.version.isEqual(Vt.min())?(e.removeEntry(f,_.readTime),c=c.insert(f,_)):!b.isValidDocument()||_.version.compareTo(b.version)>0||0===_.version.compareTo(b.version)&&b.hasPendingWrites?(e.addEntry(_),c=c.insert(f,_)):Ke("LocalStore","Ignoring outdated watch update for ",f,". Current version:",b.version," Watch version:",_.version)}),{er:c,nr:i}})}function hB(n,e){const t=mt(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(void 0===e&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function Ay(n,e){const t=mt(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Fs.getTargetData(r,e).next(o=>o?(i=o,pe.resolve(i)):t.Fs.allocateTargetId(r).next(c=>(i=new Mh(e,c,"TargetPurposeListen",r.currentSequenceNumber),t.Fs.addTargetData(r,i).next(()=>i))))}).then(r=>{const i=t.Hi.get(r.targetId);return(null===i||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.Hi=t.Hi.insert(r.targetId,r),t.Ji.set(e,r.targetId)),r})}function Ny(n,e,t){return IA.apply(this,arguments)}function IA(){return IA=(0,xe.Z)(function*(n,e,t){const r=mt(n),i=r.Hi.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,c=>r.persistence.referenceDelegate.removeTarget(c,i)))}catch(c){if(!Qc(c))throw c;Ke("LocalStore",`Failed to update sequence numbers for target ${e}: ${c}`)}r.Hi=r.Hi.remove(e),r.Ji.delete(i.target)}),IA.apply(this,arguments)}function eT(n,e,t){const r=mt(n);let i=Vt.min(),o=pn();return r.persistence.runTransaction("Execute query","readonly",c=>function(f,_,b){const T=mt(f),M=T.Ji.get(b);return void 0!==M?pe.resolve(T.Hi.get(M)):T.Fs.getTargetData(_,b)}(r,c,Rs(e)).next(f=>{if(f)return i=f.lastLimboFreeSnapshotVersion,r.Fs.getMatchingKeysForTargetId(c,f.targetId).next(_=>{o=_})}).next(()=>r.Wi.getDocumentsMatchingQuery(c,e,t?i:Vt.min(),t?o:pn())).next(f=>(Yx(r,zC(e),f),{documents:f,sr:o})))}function Kx(n,e){const t=mt(n),r=mt(t.Fs),i=t.Hi.get(e);return i?Promise.resolve(i.target):t.persistence.runTransaction("Get target data","readonly",o=>r.he(o,e).next(c=>c?c.target:null))}function Zx(n,e){const t=mt(n),r=t.Yi.get(e)||Vt.min();return t.persistence.runTransaction("Get new document changes","readonly",i=>t.Xi.getAllFromCollectionGroup(i,e,_b(r,-1),Number.MAX_SAFE_INTEGER)).then(i=>(Yx(t,e,i),i))}function Yx(n,e,t){let r=n.Yi.get(e)||Vt.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.Yi.set(e,r)}function SA(){return SA=(0,xe.Z)(function*(n,e,t,r){const i=mt(n);let o=pn(),c=bo();for(const b of t){const T=e.ir(b.metadata.name);b.document&&(o=o.add(T));const M=e.rr(b);M.setReadTime(e.ur(b.metadata.readTime)),c=c.insert(T,M)}const f=i.Xi.newChangeBuffer({trackRemovals:!0}),_=yield Ay(i,(b=r,Rs(Sh(Fn.fromString(`__bundle__/docs/${b}`)))));var b;return i.persistence.runTransaction("Apply bundle documents","readwrite",b=>Wx(b,f,c).next(T=>(f.apply(b),T)).next(T=>i.Fs.removeMatchingKeysForTargetId(b,_.targetId).next(()=>i.Fs.addMatchingKeys(b,o,_.targetId)).next(()=>i.localDocuments.getLocalViewOfDocuments(b,T.er,T.nr)).next(()=>T.er)))}),SA.apply(this,arguments)}function pB(n,e){return CA.apply(this,arguments)}function CA(){return CA=(0,xe.Z)(function*(n,e,t=pn()){const r=yield Ay(n,Rs(dA(e.bundledQuery))),i=mt(n);return i.persistence.runTransaction("Save named query","readwrite",o=>{const c=Vi(e.readTime);if(r.snapshotVersion.compareTo(c)>=0)return i.Ls.saveNamedQuery(o,e);const f=r.withResumeToken(ri.EMPTY_BYTE_STRING,c);return i.Hi=i.Hi.insert(f.targetId,f),i.Fs.updateTargetData(o,f).next(()=>i.Fs.removeMatchingKeysForTargetId(o,r.targetId)).next(()=>i.Fs.addMatchingKeys(o,t,r.targetId)).next(()=>i.Ls.saveNamedQuery(o,e))})}),CA.apply(this,arguments)}function Jx(n,e){return`firestore_clients_${n}_${e}`}function Qx(n,e,t){let r=`firestore_mutations_${n}_${t}`;return e.isAuthenticated()&&(r+=`_${e.uid}`),r}function AA(n,e){return`firestore_targets_${n}_${e}`}class tT{constructor(e,t,r,i){this.user=e,this.batchId=t,this.state=r,this.error=i}static cr(e,t,r){const i=JSON.parse(r);let o,c="object"==typeof i&&-1!==["pending","acknowledged","rejected"].indexOf(i.state)&&(void 0===i.error||"object"==typeof i.error);return c&&i.error&&(c="string"==typeof i.error.message&&"string"==typeof i.error.code,c&&(o=new He(i.error.code,i.error.message))),c?new tT(e,t,i.state,o):(fi("SharedClientState",`Failed to parse mutation state for ID '${t}': ${r}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class iw{constructor(e,t,r){this.targetId=e,this.state=t,this.error=r}static cr(e,t){const r=JSON.parse(t);let i,o="object"==typeof r&&-1!==["not-current","current","rejected"].indexOf(r.state)&&(void 0===r.error||"object"==typeof r.error);return o&&r.error&&(o="string"==typeof r.error.message&&"string"==typeof r.error.code,o&&(i=new He(r.error.code,r.error.message))),o?new iw(e,r.state,i):(fi("SharedClientState",`Failed to parse target state for ID '${e}': ${t}`),null)}ar(){const e={state:this.state,updateTimeMs:Date.now()};return this.error&&(e.error={code:this.error.code,message:this.error.message}),JSON.stringify(e)}}class nT{constructor(e,t){this.clientId=e,this.activeTargetIds=t}static cr(e,t){const r=JSON.parse(t);let i="object"==typeof r&&r.activeTargetIds instanceof Array,o=F1();for(let c=0;i&&c<r.activeTargetIds.length;++c)i=EC(r.activeTargetIds[c]),o=o.add(r.activeTargetIds[c]);return i?new nT(e,o):(fi("SharedClientState",`Failed to parse client data for instance '${e}': ${t}`),null)}}class NA{constructor(e,t){this.clientId=e,this.onlineState=t}static cr(e){const t=JSON.parse(e);return"object"==typeof t&&-1!==["Unknown","Online","Offline"].indexOf(t.onlineState)&&"string"==typeof t.clientId?new NA(t.clientId,t.onlineState):(fi("SharedClientState",`Failed to parse online state: ${e}`),null)}}class MA{constructor(){this.activeTargetIds=F1()}hr(e){this.activeTargetIds=this.activeTargetIds.add(e)}lr(e){this.activeTargetIds=this.activeTargetIds.delete(e)}ar(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class OA{constructor(e,t,r,i,o){this.window=e,this.si=t,this.persistenceKey=r,this.dr=i,this.syncEngine=null,this.onlineStateHandler=null,this.sequenceNumberHandler=null,this._r=this.wr.bind(this),this.mr=new Nr(cn),this.started=!1,this.gr=[];const c=r.replace(/[.*+?^${}()|[\]\\]/g,"\\$&");this.storage=this.window.localStorage,this.currentUser=o,this.yr=Jx(this.persistenceKey,this.dr),this.pr=`firestore_sequence_number_${this.persistenceKey}`,this.mr=this.mr.insert(this.dr,new MA),this.Ir=new RegExp(`^firestore_clients_${c}_([^_]*)$`),this.Tr=new RegExp(`^firestore_mutations_${c}_(\\d+)(?:_(.*))?$`),this.Er=new RegExp(`^firestore_targets_${c}_(\\d+)$`),this.Ar=`firestore_online_state_${this.persistenceKey}`,this.Rr=function(f){return`firestore_bundle_loaded_v2_${f}`}(this.persistenceKey),this.window.addEventListener("storage",this._r)}static D(e){return!(!e||!e.localStorage)}start(){var e=this;return(0,xe.Z)(function*(){const t=yield e.syncEngine.Mi();for(const i of t){if(i===e.dr)continue;const o=e.getItem(Jx(e.persistenceKey,i));if(o){const c=nT.cr(i,o);c&&(e.mr=e.mr.insert(c.clientId,c))}}e.vr();const r=e.storage.getItem(e.Ar);if(r){const i=e.Pr(r);i&&e.br(i)}for(const i of e.gr)e.wr(i);e.gr=[],e.window.addEventListener("pagehide",()=>e.shutdown()),e.started=!0})()}writeSequenceNumber(e){this.setItem(this.pr,JSON.stringify(e))}getAllActiveQueryTargets(){return this.Vr(this.mr)}isActiveQueryTarget(e){let t=!1;return this.mr.forEach((r,i)=>{i.activeTargetIds.has(e)&&(t=!0)}),t}addPendingMutation(e){this.Sr(e,"pending")}updateMutationState(e,t,r){this.Sr(e,t,r),this.Dr(e)}addLocalQueryTarget(e){let t="not-current";if(this.isActiveQueryTarget(e)){const r=this.storage.getItem(AA(this.persistenceKey,e));if(r){const i=iw.cr(e,r);i&&(t=i.state)}}return this.Cr.hr(e),this.vr(),t}removeLocalQueryTarget(e){this.Cr.lr(e),this.vr()}isLocalQueryTarget(e){return this.Cr.activeTargetIds.has(e)}clearQueryState(e){this.removeItem(AA(this.persistenceKey,e))}updateQueryState(e,t,r){this.Nr(e,t,r)}handleUserChange(e,t,r){t.forEach(i=>{this.Dr(i)}),this.currentUser=e,r.forEach(i=>{this.addPendingMutation(i)})}setOnlineState(e){this.kr(e)}notifyBundleLoaded(e){this.Mr(e)}shutdown(){this.started&&(this.window.removeEventListener("storage",this._r),this.removeItem(this.yr),this.started=!1)}getItem(e){const t=this.storage.getItem(e);return Ke("SharedClientState","READ",e,t),t}setItem(e,t){Ke("SharedClientState","SET",e,t),this.storage.setItem(e,t)}removeItem(e){Ke("SharedClientState","REMOVE",e),this.storage.removeItem(e)}wr(e){var t=this;const r=e;if(r.storageArea===this.storage){if(Ke("SharedClientState","EVENT",r.key,r.newValue),r.key===this.yr)return void fi("Received WebStorage notification for local change. Another client might have garbage-collected our state");this.si.enqueueRetryable((0,xe.Z)(function*(){if(t.started){if(null!==r.key)if(t.Ir.test(r.key)){if(null==r.newValue){const i=t.Or(r.key);return t.$r(i,null)}{const i=t.Fr(r.key,r.newValue);if(i)return t.$r(i.clientId,i)}}else if(t.Tr.test(r.key)){if(null!==r.newValue){const i=t.Br(r.key,r.newValue);if(i)return t.Lr(i)}}else if(t.Er.test(r.key)){if(null!==r.newValue){const i=t.qr(r.key,r.newValue);if(i)return t.Ur(i)}}else if(r.key===t.Ar){if(null!==r.newValue){const i=t.Pr(r.newValue);if(i)return t.br(i)}}else if(r.key===t.pr){const i=function(o){let c=vo.ct;if(null!=o)try{const f=JSON.parse(o);Nt("number"==typeof f),c=f}catch(f){fi("SharedClientState","Failed to read sequence number from WebStorage",f)}return c}(r.newValue);i!==vo.ct&&t.sequenceNumberHandler(i)}else if(r.key===t.Rr){const i=t.Kr(r.newValue);yield Promise.all(i.map(o=>t.syncEngine.Gr(o)))}}else t.gr.push(r)}))}}get Cr(){return this.mr.get(this.dr)}vr(){this.setItem(this.yr,this.Cr.ar())}Sr(e,t,r){const i=new tT(this.currentUser,e,t,r),o=Qx(this.persistenceKey,this.currentUser,e);this.setItem(o,i.ar())}Dr(e){const t=Qx(this.persistenceKey,this.currentUser,e);this.removeItem(t)}kr(e){this.storage.setItem(this.Ar,JSON.stringify({clientId:this.dr,onlineState:e}))}Nr(e,t,r){const i=AA(this.persistenceKey,e),o=new iw(e,t,r);this.setItem(i,o.ar())}Mr(e){const t=JSON.stringify(Array.from(e));this.setItem(this.Rr,t)}Or(e){const t=this.Ir.exec(e);return t?t[1]:null}Fr(e,t){const r=this.Or(e);return nT.cr(r,t)}Br(e,t){const r=this.Tr.exec(e),i=Number(r[1]);return tT.cr(new Xi(void 0!==r[2]?r[2]:null),i,t)}qr(e,t){const r=this.Er.exec(e),i=Number(r[1]);return iw.cr(i,t)}Pr(e){return NA.cr(e)}Kr(e){return JSON.parse(e)}Lr(e){var t=this;return(0,xe.Z)(function*(){if(e.user.uid===t.currentUser.uid)return t.syncEngine.Qr(e.batchId,e.state,e.error);Ke("SharedClientState",`Ignoring mutation for non-active user ${e.user.uid}`)})()}Ur(e){return this.syncEngine.jr(e.targetId,e.state,e.error)}$r(e,t){const r=t?this.mr.insert(e,t):this.mr.remove(e),i=this.Vr(this.mr),o=this.Vr(r),c=[],f=[];return o.forEach(_=>{i.has(_)||c.push(_)}),i.forEach(_=>{o.has(_)||f.push(_)}),this.syncEngine.zr(c,f).then(()=>{this.mr=r})}br(e){this.mr.get(e.clientId)&&this.onlineStateHandler(e.onlineState)}Vr(e){let t=F1();return e.forEach((r,i)=>{t=t.unionWith(i.activeTargetIds)}),t}}class Xx{constructor(){this.Wr=new MA,this.Hr={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e){return this.Wr.hr(e),this.Hr[e]||"not-current"}updateQueryState(e,t,r){this.Hr[e]=t}removeLocalQueryTarget(e){this.Wr.lr(e)}isLocalQueryTarget(e){return this.Wr.activeTargetIds.has(e)}clearQueryState(e){delete this.Hr[e]}getAllActiveQueryTargets(){return this.Wr.activeTargetIds}isActiveQueryTarget(e){return this.Wr.activeTargetIds.has(e)}start(){return this.Wr=new MA,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class gB{Jr(e){}shutdown(){}}class eR{constructor(){this.Yr=()=>this.Xr(),this.Zr=()=>this.eo(),this.no=[],this.so()}Jr(e){this.no.push(e)}shutdown(){window.removeEventListener("online",this.Yr),window.removeEventListener("offline",this.Zr)}so(){window.addEventListener("online",this.Yr),window.addEventListener("offline",this.Zr)}Xr(){Ke("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.no)e(0)}eo(){Ke("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.no)e(1)}static D(){return typeof window<"u"&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let rT=null;function xA(){return null===rT?rT=268435456+Math.round(2147483648*Math.random()):rT++,"0x"+rT.toString(16)}const mB={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class _B{constructor(e){this.io=e.io,this.ro=e.ro}oo(e){this.uo=e}co(e){this.ao=e}onMessage(e){this.ho=e}close(){this.ro()}send(e){this.io(e)}lo(){this.uo()}fo(e){this.ao(e)}_o(e){this.ho(e)}}const Eo="WebChannelConnection";class yB extends class{constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId,this.wo=(e.ssl?"https":"http")+"://"+e.host,this.mo="projects/"+this.databaseId.projectId+"/databases/"+this.databaseId.database+"/documents"}get yo(){return!1}po(e,t,r,i,o){const c=xA(),f=this.Io(e,t);Ke("RestConnection",`Sending RPC '${e}' ${c}:`,f,r);const _={};return this.To(_,i,o),this.Eo(e,f,_,r).then(b=>(Ke("RestConnection",`Received RPC '${e}' ${c}: `,b),b),b=>{throw Os("RestConnection",`RPC '${e}' ${c} failed with error: `,b,"url: ",f,"request:",r),b})}Ao(e,t,r,i,o,c){return this.po(e,t,r,i,o)}To(e,t,r){e["X-Goog-Api-Client"]="gl-js/ fire/"+Vg,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((i,o)=>e[o]=i),r&&r.headers.forEach((i,o)=>e[o]=i)}Io(e,t){return`${this.wo}/v1/${t}:${mB[e]}`}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams}Eo(e,t,r,i){const o=xA();return new Promise((c,f)=>{const _=new XD;_.setWithCredentials(!0),_.listenOnce(fC.COMPLETE,()=>{try{switch(_.getLastErrorCode()){case cb.NO_ERROR:const T=_.getResponseJson();Ke(Eo,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(T)),c(T);break;case cb.TIMEOUT:Ke(Eo,`RPC '${e}' ${o} timed out`),f(new He(ye.DEADLINE_EXCEEDED,"Request time out"));break;case cb.HTTP_ERROR:const M=_.getStatus();if(Ke(Eo,`RPC '${e}' ${o} failed with status:`,M,"response text:",_.getResponseText()),M>0){let F=_.getResponseJson();Array.isArray(F)&&(F=F[0]);const L=F?.error;if(L&&L.status&&L.message){const z=function(J){const ae=J.toLowerCase().replace(/_/g,"-");return Object.values(ye).indexOf(ae)>=0?ae:ye.UNKNOWN}(L.status);f(new He(z,L.message))}else f(new He(ye.UNKNOWN,"Server responded with status "+_.getStatus()))}else f(new He(ye.UNAVAILABLE,"Connection failed."));break;default:St()}}finally{Ke(Eo,`RPC '${e}' ${o} completed.`)}});const b=JSON.stringify(i);Ke(Eo,`RPC '${e}' ${o} sending request:`,i),_.send(t,"POST",b,r,15)})}Ro(e,t,r){const i=xA(),o=[this.wo,"/","google.firestore.v1.Firestore","/",e,"/channel"],c=dC(),f=hC(),_={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling};this.useFetchStreams&&(_.xmlHttpFactory=new QD({})),this.To(_.initMessageHeaders,t,r),_.encodeInitMessageHeaders=!0;const b=o.join("");Ke(Eo,`Creating RPC '${e}' stream ${i}: ${b}`,_);const T=c.createWebChannel(b,_);let M=!1,F=!1;const L=new _B({io:J=>{F?Ke(Eo,`Not sending because RPC '${e}' stream ${i} is closed:`,J):(M||(Ke(Eo,`Opening RPC '${e}' stream ${i} transport.`),T.open(),M=!0),Ke(Eo,`RPC '${e}' stream ${i} sending:`,J),T.send(J))},ro:()=>T.close()}),z=(J,ae,Ae)=>{J.listen(ae,Ue=>{try{Ae(Ue)}catch(qe){setTimeout(()=>{throw qe},0)}})};return z(T,Ug.EventType.OPEN,()=>{F||Ke(Eo,`RPC '${e}' stream ${i} transport opened.`)}),z(T,Ug.EventType.CLOSE,()=>{F||(F=!0,Ke(Eo,`RPC '${e}' stream ${i} transport closed`),L.fo())}),z(T,Ug.EventType.ERROR,J=>{F||(F=!0,Os(Eo,`RPC '${e}' stream ${i} transport errored:`,J),L.fo(new He(ye.UNAVAILABLE,"The operation could not be completed")))}),z(T,Ug.EventType.MESSAGE,J=>{var ae;if(!F){const Ae=J.data[0];Nt(!!Ae);const qe=Ae.error||(null===(ae=Ae[0])||void 0===ae?void 0:ae.error);if(qe){Ke(Eo,`RPC '${e}' stream ${i} received error:`,qe);const Ye=qe.status;let dt=function(qt){const gn=d[qt];if(void 0!==gn)return v(gn)}(Ye),vt=qe.message;void 0===dt&&(dt=ye.INTERNAL,vt="Unknown error status: "+Ye+" with message "+qe.message),F=!0,L.fo(new He(dt,vt)),T.close()}else Ke(Eo,`RPC '${e}' stream ${i} received:`,Ae),L._o(Ae)}}),z(f,pC.STAT_EVENT,J=>{J.stat===ep.PROXY?Ke(Eo,`RPC '${e}' stream ${i} detected buffering proxy`):J.stat===ep.NOPROXY&&Ke(Eo,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{L.lo()},0),L}}function tR(){return typeof window<"u"?window:null}function iT(){return typeof document<"u"?document:null}function sw(n){return new AL(n,!0)}class RA{constructor(e,t,r=1e3,i=1.5,o=6e4){this.si=e,this.timerId=t,this.vo=r,this.Po=i,this.bo=o,this.Vo=0,this.So=null,this.Do=Date.now(),this.reset()}reset(){this.Vo=0}Co(){this.Vo=this.bo}xo(e){this.cancel();const t=Math.floor(this.Vo+this.No()),r=Math.max(0,Date.now()-this.Do),i=Math.max(0,t-r);i>0&&Ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Vo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.So=this.si.enqueueAfterDelay(this.timerId,i,()=>(this.Do=Date.now(),e())),this.Vo*=this.Po,this.Vo<this.vo&&(this.Vo=this.vo),this.Vo>this.bo&&(this.Vo=this.bo)}ko(){null!==this.So&&(this.So.skipDelay(),this.So=null)}cancel(){null!==this.So&&(this.So.cancel(),this.So=null)}No(){return(Math.random()-.5)*this.Vo}}class nR{constructor(e,t,r,i,o,c,f,_){this.si=e,this.Mo=r,this.Oo=i,this.connection=o,this.authCredentialsProvider=c,this.appCheckCredentialsProvider=f,this.listener=_,this.state=0,this.$o=0,this.Fo=null,this.Bo=null,this.stream=null,this.Lo=new RA(e,t)}qo(){return 1===this.state||5===this.state||this.Uo()}Uo(){return 2===this.state||3===this.state}start(){4!==this.state?this.auth():this.Ko()}stop(){var e=this;return(0,xe.Z)(function*(){e.qo()&&(yield e.close(0))})()}Go(){this.state=0,this.Lo.reset()}Qo(){this.Uo()&&null===this.Fo&&(this.Fo=this.si.enqueueAfterDelay(this.Mo,6e4,()=>this.jo()))}zo(e){this.Wo(),this.stream.send(e)}jo(){var e=this;return(0,xe.Z)(function*(){if(e.Uo())return e.close(0)})()}Wo(){this.Fo&&(this.Fo.cancel(),this.Fo=null)}Ho(){this.Bo&&(this.Bo.cancel(),this.Bo=null)}close(e,t){var r=this;return(0,xe.Z)(function*(){r.Wo(),r.Ho(),r.Lo.cancel(),r.$o++,4!==e?r.Lo.reset():t&&t.code===ye.RESOURCE_EXHAUSTED?(fi(t.toString()),fi("Using maximum backoff delay to prevent overloading the backend."),r.Lo.Co()):t&&t.code===ye.UNAUTHENTICATED&&3!==r.state&&(r.authCredentialsProvider.invalidateToken(),r.appCheckCredentialsProvider.invalidateToken()),null!==r.stream&&(r.Jo(),r.stream.close(),r.stream=null),r.state=e,yield r.listener.co(t)})()}Jo(){}auth(){this.state=1;const e=this.Yo(this.$o),t=this.$o;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.$o===t&&this.Xo(r,i)},r=>{e(()=>{const i=new He(ye.UNKNOWN,"Fetching auth token failed: "+r.message);return this.Zo(i)})})}Xo(e,t){const r=this.Yo(this.$o);this.stream=this.tu(e,t),this.stream.oo(()=>{r(()=>(this.state=2,this.Bo=this.si.enqueueAfterDelay(this.Oo,1e4,()=>(this.Uo()&&(this.state=3),Promise.resolve())),this.listener.oo()))}),this.stream.co(i=>{r(()=>this.Zo(i))}),this.stream.onMessage(i=>{r(()=>this.onMessage(i))})}Ko(){var e=this;this.state=5,this.Lo.xo((0,xe.Z)(function*(){e.state=0,e.start()}))}Zo(e){return Ke("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}Yo(e){return t=>{this.si.enqueueAndForget(()=>this.$o===e?t():(Ke("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class vB extends nR{constructor(e,t,r,i,o,c){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o}tu(e,t){return this.connection.Ro("Listen",e,t)}onMessage(e){this.Lo.reset();const t=function OL(n,e){let t;if("targetChange"in e){const r="NO_CHANGE"===(_=e.targetChange.targetChangeType||"NO_CHANGE")?0:"ADD"===_?1:"REMOVE"===_?2:"CURRENT"===_?3:"RESET"===_?4:St(),i=e.targetChange.targetIds||[],o=function(_,b){return _.useProto3Json?(Nt(void 0===b||"string"==typeof b),ri.fromBase64String(b||"")):(Nt(void 0===b||b instanceof Uint8Array),ri.fromUint8Array(b||new Uint8Array))}(n,e.targetChange.resumeToken),c=e.targetChange.cause,f=c&&function(_){const b=void 0===_.code?ye.UNKNOWN:v(_.code);return new He(b,_.message||"")}(c);t=new Ge(r,i,o,f||null)}else if("documentChange"in e){const r=e.documentChange,i=od(n,r.document.name),o=Vi(r.document.updateTime),c=r.document.createTime?Vi(r.document.createTime):Vt.min(),f=new ds({mapValue:{fields:r.document.fields}}),_=hr.newFoundDocument(i,o,c,f);t=new Ot(r.targetIds||[],r.removedTargetIds||[],_.key,_)}else if("documentDelete"in e){const r=e.documentDelete,i=od(n,r.document),o=r.readTime?Vi(r.readTime):Vt.min(),c=hr.newNoDocument(i,o);t=new Ot([],r.removedTargetIds||[],c.key,c)}else if("documentRemove"in e){const r=e.documentRemove,i=od(n,r.document);t=new Ot([],r.removedTargetIds||[],i,null)}else{if(!("filter"in e))return St();{const r=e.filter,{count:i=0,unchangedNames:o}=r,c=new u(i,o);t=new Jt(r.targetId,c)}}var _;return t}(this.serializer,e),r=function(i){if(!("targetChange"in i))return Vt.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?Vt.min():o.readTime?Vi(o.readTime):Vt.min()}(e);return this.listener.eu(t,r)}nu(e){const t={};t.database=Zb(this.serializer),t.addTarget=function(i,o){let c;const f=o.target;if(c=Zg(f)?{documents:ux(i,f)}:{query:cA(i,f)},c.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){c.resumeToken=rx(i,o.resumeToken);const _=oA(i,o.expectedCount);null!==_&&(c.expectedCount=_)}else if(o.snapshotVersion.compareTo(Vt.min())>0){c.readTime=Ty(i,o.snapshotVersion.toTimestamp());const _=oA(i,o.expectedCount);null!==_&&(c.expectedCount=_)}return c}(this.serializer,e);const r=function RL(n,e){const t=function(r){switch(r){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return St()}}(e.purpose);return null==t?null:{"goog-listen-tags":t}}(0,e);r&&(t.labels=r),this.zo(t)}su(e){const t={};t.database=Zb(this.serializer),t.removeTarget=e,this.zo(t)}}class bB extends nR{constructor(e,t,r,i,o,c){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,c),this.serializer=o,this.iu=!1}get ru(){return this.iu}start(){this.iu=!1,this.lastStreamToken=void 0,super.start()}Jo(){this.iu&&this.ou([])}tu(e,t){return this.connection.Ro("Write",e,t)}onMessage(e){if(Nt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.iu){this.Lo.reset();const t=function xL(n,e){return n&&n.length>0?(Nt(void 0!==e),n.map(t=>function(r,i){let o=Vi(r.updateTime?r.updateTime:i);return o.isEqual(Vt.min())&&(o=Vi(i)),new eA(o,r.transformResults||[])}(t,e))):[]}(e.writeResults,e.commitTime),r=Vi(e.commitTime);return this.listener.uu(r,t)}return Nt(!e.writeResults||0===e.writeResults.length),this.iu=!0,this.listener.cu()}au(){const e={};e.database=Zb(this.serializer),this.zo(e)}ou(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>Yb(this.serializer,r))};this.zo(t)}}class wB extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.hu=!1}lu(){if(this.hu)throw new He(ye.FAILED_PRECONDITION,"The client has already been terminated.")}po(e,t,r){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.po(e,t,r,i,o)).catch(i=>{throw"FirebaseError"===i.name?(i.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new He(ye.UNKNOWN,i.toString())})}Ao(e,t,r,i){return this.lu(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,c])=>this.connection.Ao(e,t,r,o,c,i)).catch(o=>{throw"FirebaseError"===o.name?(o.code===ye.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new He(ye.UNKNOWN,o.toString())})}terminate(){this.hu=!0}}class DB{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.du=0,this._u=null,this.wu=!0}mu(){0===this.du&&(this.gu("Unknown"),this._u=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._u=null,this.yu("Backend didn't respond within 10 seconds."),this.gu("Offline"),Promise.resolve())))}pu(e){"Online"===this.state?this.gu("Unknown"):(this.du++,this.du>=1&&(this.Iu(),this.yu(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.gu("Offline")))}set(e){this.Iu(),this.du=0,"Online"===e&&(this.wu=!1),this.gu(e)}gu(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}yu(e){const t=`Could not reach Cloud Firestore backend. ${e}\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.wu?(fi(t),this.wu=!1):Ke("OnlineStateTracker",t)}Iu(){null!==this._u&&(this._u.cancel(),this._u=null)}}class TB{constructor(e,t,r,i,o){var c=this;this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Tu=[],this.Eu=new Map,this.Au=new Set,this.Ru=[],this.vu=o,this.vu.Jr(f=>{r.enqueueAndForget((0,xe.Z)(function*(){var _;dp(c)&&(Ke("RemoteStore","Restarting streams for network reachability change."),yield(_=(0,xe.Z)(function*(b){const T=mt(b);T.Au.add(4),yield My(T),T.Pu.set("Unknown"),T.Au.delete(4),yield ow(T)}),function(b){return _.apply(this,arguments)})(c))}))}),this.Pu=new DB(r,i)}}function ow(n){return kA.apply(this,arguments)}function kA(){return kA=(0,xe.Z)(function*(n){if(dp(n))for(const e of n.Ru)yield e(!0)}),kA.apply(this,arguments)}function My(n){return FA.apply(this,arguments)}function FA(){return FA=(0,xe.Z)(function*(n){for(const e of n.Ru)yield e(!1)}),FA.apply(this,arguments)}function sT(n,e){const t=mt(n);t.Eu.has(e.targetId)||(t.Eu.set(e.targetId,e),UA(t)?BA(t):xy(t).Uo()&&LA(t,e))}function aw(n,e){const t=mt(n),r=xy(t);t.Eu.delete(e),r.Uo()&&rR(t,e),0===t.Eu.size&&(r.Uo()?r.Qo():dp(t)&&t.Pu.set("Unknown"))}function LA(n,e){if(n.bu.Lt(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Vt.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}xy(n).nu(e)}function rR(n,e){n.bu.Lt(e),xy(n).su(e)}function BA(n){n.bu=new Hr({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),he:e=>n.Eu.get(e)||null,oe:()=>n.datastore.serializer.databaseId}),xy(n).start(),n.Pu.mu()}function UA(n){return dp(n)&&!xy(n).qo()&&n.Eu.size>0}function dp(n){return 0===mt(n).Au.size}function iR(n){n.bu=void 0}function IB(n){return VA.apply(this,arguments)}function VA(){return VA=(0,xe.Z)(function*(n){n.Eu.forEach((e,t)=>{LA(n,e)})}),VA.apply(this,arguments)}function SB(n,e){return HA.apply(this,arguments)}function HA(){return HA=(0,xe.Z)(function*(n,e){iR(n),UA(n)?(n.Pu.pu(e),BA(n)):n.Pu.set("Unknown")}),HA.apply(this,arguments)}function CB(n,e,t){return jA.apply(this,arguments)}function jA(){return jA=(0,xe.Z)(function*(n,e,t){if(n.Pu.set("Online"),e instanceof Ge&&2===e.state&&e.cause)try{yield(r=(0,xe.Z)(function*(i,o){const c=o.cause;for(const f of o.targetIds)i.Eu.has(f)&&(yield i.remoteSyncer.rejectListen(f,c),i.Eu.delete(f),i.bu.removeTarget(f))}),function(i,o){return r.apply(this,arguments)})(n,e)}catch(r){Ke("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield oT(n,r)}else if(e instanceof Ot?n.bu.Wt(e):e instanceof Jt?n.bu.ee(e):n.bu.Yt(e),!t.isEqual(Vt.min()))try{const r=yield qx(n.localStore);t.compareTo(r)>=0&&(yield function(i,o){const c=i.bu.ue(o);return c.targetChanges.forEach((f,_)=>{if(f.resumeToken.approximateByteSize()>0){const b=i.Eu.get(_);b&&i.Eu.set(_,b.withResumeToken(f.resumeToken,o))}}),c.targetMismatches.forEach((f,_)=>{const b=i.Eu.get(f);if(!b)return;i.Eu.set(f,b.withResumeToken(ri.EMPTY_BYTE_STRING,b.snapshotVersion)),rR(i,f);const T=new Mh(b.target,f,_,b.sequenceNumber);LA(i,T)}),i.remoteSyncer.applyRemoteEvent(c)}(n,t))}catch(r){Ke("RemoteStore","Failed to raise snapshot:",r),yield oT(n,r)}var r}),jA.apply(this,arguments)}function oT(n,e,t){return $A.apply(this,arguments)}function $A(){return $A=(0,xe.Z)(function*(n,e,t){if(!Qc(e))throw e;n.Au.add(1),yield My(n),n.Pu.set("Offline"),t||(t=()=>qx(n.localStore)),n.asyncQueue.enqueueRetryable((0,xe.Z)(function*(){Ke("RemoteStore","Retrying IndexedDB access"),yield t(),n.Au.delete(1),yield ow(n)}))}),$A.apply(this,arguments)}function sR(n,e){return e().catch(t=>oT(n,t,e))}function Oy(n){return GA.apply(this,arguments)}function GA(){return GA=(0,xe.Z)(function*(n){const e=mt(n),t=hp(e);let r=e.Tu.length>0?e.Tu[e.Tu.length-1].batchId:-1;for(;AB(e);)try{const i=yield hB(e.localStore,r);if(null===i){0===e.Tu.length&&t.Qo();break}r=i.batchId,NB(e,i)}catch(i){yield oT(e,i)}oR(e)&&aR(e)}),GA.apply(this,arguments)}function AB(n){return dp(n)&&n.Tu.length<10}function NB(n,e){n.Tu.push(e);const t=hp(n);t.Uo()&&t.ru&&t.ou(e.mutations)}function oR(n){return dp(n)&&!hp(n).qo()&&n.Tu.length>0}function aR(n){hp(n).start()}function MB(n){return zA.apply(this,arguments)}function zA(){return zA=(0,xe.Z)(function*(n){hp(n).au()}),zA.apply(this,arguments)}function OB(n){return qA.apply(this,arguments)}function qA(){return qA=(0,xe.Z)(function*(n){const e=hp(n);for(const t of n.Tu)e.ou(t.mutations)}),qA.apply(this,arguments)}function xB(n,e,t){return WA.apply(this,arguments)}function WA(){return WA=(0,xe.Z)(function*(n,e,t){const r=n.Tu.shift(),i=j1.from(r,e,t);yield sR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Oy(n)}),WA.apply(this,arguments)}function RB(n,e){return KA.apply(this,arguments)}function KA(){return KA=(0,xe.Z)(function*(n,e){var t;e&&hp(n).ru&&(yield(t=(0,xe.Z)(function*(r,i){if(m(o=i.code)&&o!==ye.ABORTED){const c=r.Tu.shift();hp(r).Go(),yield sR(r,()=>r.remoteSyncer.rejectFailedWrite(c.batchId,i)),yield Oy(r)}var o}),function(r,i){return t.apply(this,arguments)})(n,e)),oR(n)&&aR(n)}),KA.apply(this,arguments)}function lR(n,e){return ZA.apply(this,arguments)}function ZA(){return ZA=(0,xe.Z)(function*(n,e){const t=mt(n);t.asyncQueue.verifyOperationInProgress(),Ke("RemoteStore","RemoteStore received new credentials");const r=dp(t);t.Au.add(3),yield My(t),r&&t.Pu.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.Au.delete(3),yield ow(t)}),ZA.apply(this,arguments)}function YA(n,e){return JA.apply(this,arguments)}function JA(){return JA=(0,xe.Z)(function*(n,e){const t=mt(n);e?(t.Au.delete(2),yield ow(t)):e||(t.Au.add(2),yield My(t),t.Pu.set("Unknown"))}),JA.apply(this,arguments)}function xy(n){return n.Vu||(n.Vu=function(e,t,r){const i=mt(e);return i.lu(),new vB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:IB.bind(null,n),co:SB.bind(null,n),eu:CB.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Vu.Go(),UA(n)?BA(n):n.Pu.set("Unknown")):(yield n.Vu.stop(),iR(n))});return function(t){return e.apply(this,arguments)}}())),n.Vu}function hp(n){return n.Su||(n.Su=function(e,t,r){const i=mt(e);return i.lu(),new bB(t,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,r)}(n.datastore,n.asyncQueue,{oo:MB.bind(null,n),co:RB.bind(null,n),cu:OB.bind(null,n),uu:xB.bind(null,n)}),n.Ru.push(function(){var e=(0,xe.Z)(function*(t){t?(n.Su.Go(),yield Oy(n)):(yield n.Su.stop(),n.Tu.length>0&&(Ke("RemoteStore",`Stopping write stream with ${n.Tu.length} pending writes`),n.Tu=[]))});return function(t){return e.apply(this,arguments)}}())),n.Su}class QA{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Ui,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(c=>{})}static createAndSchedule(e,t,r,i,o){const c=Date.now()+r,f=new QA(e,t,c,i,o);return f.start(r),f}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new He(ye.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ry(n,e){if(fi("AsyncQueue",`${e}: ${n}`),Qc(n))return new He(ye.UNAVAILABLE,`${e}: ${n}`);throw n}class Py{constructor(e){this.comparator=e?(t,r)=>e(t,r)||gt.comparator(t.key,r.key):(t,r)=>gt.comparator(t.key,r.key),this.keyedMap=ll(),this.sortedSet=new Nr(this.comparator)}static emptySet(e){return new Py(e.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof Py)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const r=new Py;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}class uR{constructor(){this.Du=new Nr(gt.comparator)}track(e){const t=e.doc.key,r=this.Du.get(t);r?0!==e.type&&3===r.type?this.Du=this.Du.insert(t,e):3===e.type&&1!==r.type?this.Du=this.Du.insert(t,{type:r.type,doc:e.doc}):2===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):2===e.type&&0===r.type?this.Du=this.Du.insert(t,{type:0,doc:e.doc}):1===e.type&&0===r.type?this.Du=this.Du.remove(t):1===e.type&&2===r.type?this.Du=this.Du.insert(t,{type:1,doc:r.doc}):0===e.type&&1===r.type?this.Du=this.Du.insert(t,{type:2,doc:e.doc}):St():this.Du=this.Du.insert(t,e)}Cu(){const e=[];return this.Du.inorderTraversal((t,r)=>{e.push(r)}),e}}class ky{constructor(e,t,r,i,o,c,f,_,b){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=c,this.syncStateChanged=f,this.excludesMetadataChanges=_,this.hasCachedResults=b}static fromInitialDocuments(e,t,r,i,o){const c=[];return t.forEach(f=>{c.push({type:0,doc:f})}),new ky(e,t,Py.emptySet(t),c,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Qg(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}}class PB{constructor(){this.xu=void 0,this.listeners=[]}}class kB{constructor(){this.queries=new ba(e=>GC(e),Qg),this.onlineState="Unknown",this.Nu=new Set}}function XA(n,e){return eN.apply(this,arguments)}function eN(){return eN=(0,xe.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1,o=t.queries.get(r);if(o||(i=!0,o=new PB),i)try{o.xu=yield t.onListen(r)}catch(c){const f=Ry(c,`Initialization of query '${k1(e.query)}' failed`);return void e.onError(f)}t.queries.set(r,o),o.listeners.push(e),e.ku(t.onlineState),o.xu&&e.Mu(o.xu)&&rN(t)}),eN.apply(this,arguments)}function tN(n,e){return nN.apply(this,arguments)}function nN(){return nN=(0,xe.Z)(function*(n,e){const t=mt(n),r=e.query;let i=!1;const o=t.queries.get(r);if(o){const c=o.listeners.indexOf(e);c>=0&&(o.listeners.splice(c,1),i=0===o.listeners.length)}if(i)return t.queries.delete(r),t.onUnlisten(r)}),nN.apply(this,arguments)}function FB(n,e){const t=mt(n);let r=!1;for(const i of e){const c=t.queries.get(i.query);if(c){for(const f of c.listeners)f.Mu(i)&&(r=!0);c.xu=i}}r&&rN(t)}function LB(n,e,t){const r=mt(n),i=r.queries.get(e);if(i)for(const o of i.listeners)o.onError(t);r.queries.delete(e)}function rN(n){n.Nu.forEach(e=>{e.next()})}class iN{constructor(e,t,r){this.query=e,this.Ou=t,this.$u=!1,this.Fu=null,this.onlineState="Unknown",this.options=r||{}}Mu(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)3!==i.type&&r.push(i);e=new ky(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.$u?this.Bu(e)&&(this.Ou.next(e),t=!0):this.Lu(e,this.onlineState)&&(this.qu(e),t=!0),this.Fu=e,t}onError(e){this.Ou.error(e)}ku(e){this.onlineState=e;let t=!1;return this.Fu&&!this.$u&&this.Lu(this.Fu,e)&&(this.qu(this.Fu),t=!0),t}Lu(e,t){return!e.fromCache||(!this.options.Uu||!("Offline"!==t))&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}Bu(e){return e.docChanges.length>0||!!(e.syncStateChanged||this.Fu&&this.Fu.hasPendingWrites!==e.hasPendingWrites)&&!0===this.options.includeMetadataChanges}qu(e){e=ky.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.$u=!0,this.Ou.next(e)}}class BB{constructor(e,t){this.Ku=e,this.byteLength=t}Gu(){return"metadata"in this.Ku}}class cR{constructor(e){this.serializer=e}ir(e){return od(this.serializer,e)}rr(e){return e.metadata.exists?lx(this.serializer,e.document,!1):hr.newNoDocument(this.ir(e.metadata.name),this.ur(e.metadata.readTime))}ur(e){return Vi(e)}}class UB{constructor(e,t,r){this.Qu=e,this.localStore=t,this.serializer=r,this.queries=[],this.documents=[],this.collectionGroups=new Set,this.progress=dR(e)}ju(e){this.progress.bytesLoaded+=e.byteLength;let t=this.progress.documentsLoaded;if(e.Ku.namedQuery)this.queries.push(e.Ku.namedQuery);else if(e.Ku.documentMetadata){this.documents.push({metadata:e.Ku.documentMetadata}),e.Ku.documentMetadata.exists||++t;const r=Fn.fromString(e.Ku.documentMetadata.name);this.collectionGroups.add(r.get(r.length-2))}else e.Ku.document&&(this.documents[this.documents.length-1].document=e.Ku.document,++t);return t!==this.progress.documentsLoaded?(this.progress.documentsLoaded=t,Object.assign({},this.progress)):null}zu(e){const t=new Map,r=new cR(this.serializer);for(const i of e)if(i.metadata.queries){const o=r.ir(i.metadata.name);for(const c of i.metadata.queries){const f=(t.get(c)||pn()).add(o);t.set(c,f)}}return t}complete(){var e=this;return(0,xe.Z)(function*(){const t=yield function fB(n,e,t,r){return SA.apply(this,arguments)}(e.localStore,new cR(e.serializer),e.documents,e.Qu.id),r=e.zu(e.documents);for(const i of e.queries)yield pB(e.localStore,i,r.get(i.name));return e.progress.taskState="Success",{progress:e.progress,Wu:e.collectionGroups,Hu:t}})()}}function dR(n){return{taskState:"Running",documentsLoaded:0,bytesLoaded:0,totalDocuments:n.totalDocuments,totalBytes:n.totalBytes}}class hR{constructor(e){this.key=e}}class fR{constructor(e){this.key=e}}class pR{constructor(e,t){this.query=e,this.Ju=t,this.Yu=null,this.hasCachedResults=!1,this.current=!1,this.Xu=pn(),this.mutatedKeys=pn(),this.Zu=qC(e),this.tc=new Py(this.Zu)}get ec(){return this.Ju}nc(e,t){const r=t?t.sc:new uR,i=t?t.tc:this.tc;let o=t?t.mutatedKeys:this.mutatedKeys,c=i,f=!1;const _="F"===this.query.limitType&&i.size===this.query.limit?i.last():null,b="L"===this.query.limitType&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((T,M)=>{const F=i.get(T),L=by(this.query,M)?M:null,z=!!F&&this.mutatedKeys.has(F.key),J=!!L&&(L.hasLocalMutations||this.mutatedKeys.has(L.key)&&L.hasCommittedMutations);let ae=!1;F&&L?F.data.isEqual(L.data)?z!==J&&(r.track({type:3,doc:L}),ae=!0):this.ic(F,L)||(r.track({type:2,doc:L}),ae=!0,(_&&this.Zu(L,_)>0||b&&this.Zu(L,b)<0)&&(f=!0)):!F&&L?(r.track({type:0,doc:L}),ae=!0):F&&!L&&(r.track({type:1,doc:F}),ae=!0,(_||b)&&(f=!0)),ae&&(L?(c=c.add(L),o=J?o.add(T):o.delete(T)):(c=c.delete(T),o=o.delete(T)))}),null!==this.query.limit)for(;c.size>this.query.limit;){const T="F"===this.query.limitType?c.last():c.first();c=c.delete(T.key),o=o.delete(T.key),r.track({type:1,doc:T})}return{tc:c,sc:r,ji:f,mutatedKeys:o}}ic(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r){const i=this.tc;this.tc=e.tc,this.mutatedKeys=e.mutatedKeys;const o=e.sc.Cu();o.sort((b,T)=>function(M,F){const L=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return St()}};return L(M)-L(F)}(b.type,T.type)||this.Zu(b.doc,T.doc)),this.rc(r);const c=t?this.oc():[],f=0===this.Xu.size&&this.current?1:0,_=f!==this.Yu;return this.Yu=f,0!==o.length||_?{snapshot:new ky(this.query,e.tc,i,o,e.mutatedKeys,0===f,_,!1,!!r&&r.resumeToken.approximateByteSize()>0),uc:c}:{uc:c}}ku(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({tc:this.tc,sc:new uR,mutatedKeys:this.mutatedKeys,ji:!1},!1)):{uc:[]}}cc(e){return!this.Ju.has(e)&&!!this.tc.has(e)&&!this.tc.get(e).hasLocalMutations}rc(e){e&&(e.addedDocuments.forEach(t=>this.Ju=this.Ju.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ju=this.Ju.delete(t)),this.current=e.current)}oc(){if(!this.current)return[];const e=this.Xu;this.Xu=pn(),this.tc.forEach(r=>{this.cc(r.key)&&(this.Xu=this.Xu.add(r.key))});const t=[];return e.forEach(r=>{this.Xu.has(r)||t.push(new fR(r))}),this.Xu.forEach(r=>{e.has(r)||t.push(new hR(r))}),t}ac(e){this.Ju=e.sr,this.Xu=pn();const t=this.nc(e.documents);return this.applyChanges(t,!0)}hc(){return ky.fromInitialDocuments(this.query,this.tc,this.mutatedKeys,0===this.Yu,this.hasCachedResults)}}class VB{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class HB{constructor(e){this.key=e,this.lc=!1}}class jB{constructor(e,t,r,i,o,c){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=c,this.fc={},this.dc=new ba(f=>GC(f),Qg),this._c=new Map,this.wc=new Set,this.mc=new Nr(gt.comparator),this.gc=new Map,this.yc=new yA,this.Ic={},this.Tc=new Map,this.Ec=lm.kn(),this.onlineState="Unknown",this.Ac=void 0}get isPrimaryClient(){return!0===this.Ac}}function $B(n,e){return sN.apply(this,arguments)}function sN(){return sN=(0,xe.Z)(function*(n,e){const t=AN(n);let r,i;const o=t.dc.get(e);if(o)r=o.targetId,t.sharedClientState.addLocalQueryTarget(r),i=o.view.hc();else{const c=yield Ay(t.localStore,Rs(e)),f=t.sharedClientState.addLocalQueryTarget(c.targetId);r=c.targetId,i=yield oN(t,e,r,"current"===f,c.resumeToken),t.isPrimaryClient&&sT(t.remoteStore,c)}return i}),sN.apply(this,arguments)}function oN(n,e,t,r,i){return aN.apply(this,arguments)}function aN(){return aN=(0,xe.Z)(function*(n,e,t,r,i){n.Rc=(M,F,L)=>{return(z=(0,xe.Z)(function*(J,ae,Ae,Ue){let qe=ae.view.nc(Ae);qe.ji&&(qe=yield eT(J.localStore,ae.query,!1).then(({documents:vt})=>ae.view.nc(vt,qe)));const Ye=Ue&&Ue.targetChanges.get(ae.targetId),dt=ae.view.applyChanges(qe,J.isPrimaryClient,Ye);return _N(J,ae.targetId,dt.uc),dt.snapshot}),function(J,ae,Ae,Ue){return z.apply(this,arguments)})(n,M,F,L);var z};const o=yield eT(n.localStore,e,!0),c=new pR(e,o.sr),f=c.nc(o.documents),_=pt.createSynthesizedTargetChangeForCurrentChange(t,r&&"Offline"!==n.onlineState,i),b=c.applyChanges(f,n.isPrimaryClient,_);_N(n,t,b.uc);const T=new VB(e,t,c);return n.dc.set(e,T),n._c.has(t)?n._c.get(t).push(e):n._c.set(t,[e]),b.snapshot}),aN.apply(this,arguments)}function GB(n,e){return lN.apply(this,arguments)}function lN(){return lN=(0,xe.Z)(function*(n,e){const t=mt(n),r=t.dc.get(e),i=t._c.get(r.targetId);if(i.length>1)return t._c.set(r.targetId,i.filter(o=>!Qg(o,e))),void t.dc.delete(e);t.isPrimaryClient?(t.sharedClientState.removeLocalQueryTarget(r.targetId),t.sharedClientState.isActiveQueryTarget(r.targetId)||(yield Ny(t.localStore,r.targetId,!1).then(()=>{t.sharedClientState.clearQueryState(r.targetId),aw(t.remoteStore,r.targetId),Fy(t,r.targetId)}).catch(mh))):(Fy(t,r.targetId),yield Ny(t.localStore,r.targetId,!0))}),lN.apply(this,arguments)}function uN(){return uN=(0,xe.Z)(function*(n,e,t){const r=NN(n);try{const i=yield function(o,c){const f=mt(o),_=Lr.now(),b=c.reduce((F,L)=>F.add(L.key),pn());let T,M;return f.persistence.runTransaction("Locally write mutations","readwrite",F=>{let L=bo(),z=pn();return f.Xi.getEntries(F,b).next(J=>{L=J,L.forEach((ae,Ae)=>{Ae.isValidDocument()||(z=z.add(ae))})}).next(()=>f.localDocuments.getOverlayedDocuments(F,L)).next(J=>{T=J;const ae=[];for(const Ae of c){const Ue=nx(Ae,T.get(Ae.key).overlayedDocument);null!=Ue&&ae.push(new sd(Ae.key,Ue,D1(Ue.value.mapValue),Vr.exists(!0)))}return f.mutationQueue.addMutationBatch(F,_,ae,c)}).next(J=>{M=J;const ae=J.applyToLocalDocumentSet(T,z);return f.documentOverlayCache.saveOverlays(F,J.batchId,ae)})}).then(()=>({batchId:M.batchId,changes:Ub(T)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,c,f){let _=o.Ic[o.currentUser.toKey()];_||(_=new Nr(cn)),_=_.insert(c,f),o.Ic[o.currentUser.toKey()]=_}(r,i.batchId,t),yield Oh(r,i.changes),yield Oy(r.remoteStore)}catch(i){const o=Ry(i,"Failed to persist write");t.reject(o)}}),uN.apply(this,arguments)}function gR(n,e){return cN.apply(this,arguments)}function cN(){return cN=(0,xe.Z)(function*(n,e){const t=mt(n);try{const r=yield function dB(n,e){const t=mt(n),r=e.snapshotVersion;let i=t.Hi;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{const c=t.Xi.newChangeBuffer({trackRemovals:!0});i=t.Hi;const f=[];e.targetChanges.forEach((T,M)=>{const F=i.get(M);if(!F)return;f.push(t.Fs.removeMatchingKeys(o,T.removedDocuments,M).next(()=>t.Fs.addMatchingKeys(o,T.addedDocuments,M)));let L=F.withSequenceNumber(o.currentSequenceNumber);var z,J,ae;null!==e.targetMismatches.get(M)?L=L.withResumeToken(ri.EMPTY_BYTE_STRING,Vt.min()).withLastLimboFreeSnapshotVersion(Vt.min()):T.resumeToken.approximateByteSize()>0&&(L=L.withResumeToken(T.resumeToken,r)),i=i.insert(M,L),J=L,ae=T,(0===(z=F).resumeToken.approximateByteSize()||J.snapshotVersion.toMicroseconds()-z.snapshotVersion.toMicroseconds()>=3e8||ae.addedDocuments.size+ae.modifiedDocuments.size+ae.removedDocuments.size>0)&&f.push(t.Fs.updateTargetData(o,L))});let _=bo(),b=pn();if(e.documentUpdates.forEach(T=>{e.resolvedLimboDocuments.has(T)&&f.push(t.persistence.referenceDelegate.updateLimboDocument(o,T))}),f.push(Wx(o,c,e.documentUpdates).next(T=>{_=T.er,b=T.nr})),!r.isEqual(Vt.min())){const T=t.Fs.getLastRemoteSnapshotVersion(o).next(M=>t.Fs.setTargetsMetadata(o,o.currentSequenceNumber,r));f.push(T)}return pe.waitFor(f).next(()=>c.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,_,b)).next(()=>_)}).then(o=>(t.Hi=i,o))}(t.localStore,e);e.targetChanges.forEach((i,o)=>{const c=t.gc.get(o);c&&(Nt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?c.lc=!0:i.modifiedDocuments.size>0?Nt(c.lc):i.removedDocuments.size>0&&(Nt(c.lc),c.lc=!1))}),yield Oh(t,r,e)}catch(r){yield mh(r)}}),cN.apply(this,arguments)}function mR(n,e,t){const r=mt(n);if(r.isPrimaryClient&&0===t||!r.isPrimaryClient&&1===t){const i=[];r.dc.forEach((o,c)=>{const f=c.view.ku(e);f.snapshot&&i.push(f.snapshot)}),function(o,c){const f=mt(o);f.onlineState=c;let _=!1;f.queries.forEach((b,T)=>{for(const M of T.listeners)M.ku(c)&&(_=!0)}),_&&rN(f)}(r.eventManager,e),i.length&&r.fc.eu(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function qB(n,e,t){return dN.apply(this,arguments)}function dN(){return dN=(0,xe.Z)(function*(n,e,t){const r=mt(n);r.sharedClientState.updateQueryState(e,"rejected",t);const i=r.gc.get(e),o=i&&i.key;if(o){let c=new Nr(gt.comparator);c=c.insert(o,hr.newNoDocument(o,Vt.min()));const f=pn().add(o),_=new Xe(Vt.min(),new Map,new Nr(cn),c,f);yield gR(r,_),r.mc=r.mc.remove(o),r.gc.delete(e),yN(r)}else yield Ny(r.localStore,e,!1).then(()=>Fy(r,e,t)).catch(mh)}),dN.apply(this,arguments)}function WB(n,e){return hN.apply(this,arguments)}function hN(){return hN=(0,xe.Z)(function*(n,e){const t=mt(n),r=e.batch.batchId;try{const i=yield function cB(n,e){const t=mt(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),o=t.Xi.newChangeBuffer({trackRemovals:!0});return function(c,f,_,b){const T=_.batch,M=T.keys();let F=pe.resolve();return M.forEach(L=>{F=F.next(()=>b.getEntry(f,L)).next(z=>{const J=_.docVersions.get(L);Nt(null!==J),z.version.compareTo(J)<0&&(T.applyToRemoteDocument(z,_),z.isValidDocument()&&(z.setReadTime(_.commitVersion),b.addEntry(z)))})}),F.next(()=>c.mutationQueue.removeMutationBatch(f,T))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=pn();for(let _=0;_<c.mutationResults.length;++_)c.mutationResults[_].transformResults.length>0&&(f=f.add(c.batch.mutations[_].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}(t.localStore,e);mN(t,r,null),gN(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield Oh(t,i)}catch(i){yield mh(i)}}),hN.apply(this,arguments)}function KB(n,e,t){return fN.apply(this,arguments)}function fN(){return fN=(0,xe.Z)(function*(n,e,t){const r=mt(n);try{const i=yield function(o,c){const f=mt(o);return f.persistence.runTransaction("Reject batch","readwrite-primary",_=>{let b;return f.mutationQueue.lookupMutationBatch(_,c).next(T=>(Nt(null!==T),b=T.keys(),f.mutationQueue.removeMutationBatch(_,T))).next(()=>f.mutationQueue.performConsistencyCheck(_)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(_,b,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(_,b)).next(()=>f.localDocuments.getDocuments(_,b))})}(r.localStore,e);mN(r,e,t),gN(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield Oh(r,i)}catch(i){yield mh(i)}}),fN.apply(this,arguments)}function pN(){return pN=(0,xe.Z)(function*(n,e){const t=mt(n);dp(t.remoteStore)||Ke("SyncEngine","The network is disabled. The task returned by 'awaitPendingWrites()' will not complete until the network is enabled.");try{const r=yield function(o){const c=mt(o);return c.persistence.runTransaction("Get highest unacknowledged batch id","readonly",f=>c.mutationQueue.getHighestUnacknowledgedBatchId(f))}(t.localStore);if(-1===r)return void e.resolve();const i=t.Tc.get(r)||[];i.push(e),t.Tc.set(r,i)}catch(r){const i=Ry(r,"Initialization of waitForPendingWrites() operation failed");e.reject(i)}}),pN.apply(this,arguments)}function gN(n,e){(n.Tc.get(e)||[]).forEach(t=>{t.resolve()}),n.Tc.delete(e)}function mN(n,e,t){const r=mt(n);let i=r.Ic[r.currentUser.toKey()];if(i){const o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ic[r.currentUser.toKey()]=i}}function Fy(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n._c.get(e))n.dc.delete(r),t&&n.fc.vc(r,t);n._c.delete(e),n.isPrimaryClient&&n.yc.ps(e).forEach(r=>{n.yc.containsKey(r)||_R(n,r)})}function _R(n,e){n.wc.delete(e.path.canonicalString());const t=n.mc.get(e);null!==t&&(aw(n.remoteStore,t),n.mc=n.mc.remove(e),n.gc.delete(t),yN(n))}function _N(n,e,t){for(const r of t)r instanceof hR?(n.yc.addReference(r.key,e),YB(n,r)):r instanceof fR?(Ke("SyncEngine","Document no longer in limbo: "+r.key),n.yc.removeReference(r.key,e),n.yc.containsKey(r.key)||_R(n,r.key)):St()}function YB(n,e){const t=e.key,r=t.path.canonicalString();n.mc.get(t)||n.wc.has(r)||(Ke("SyncEngine","New document in limbo: "+t),n.wc.add(r),yN(n))}function yN(n){for(;n.wc.size>0&&n.mc.size<n.maxConcurrentLimboResolutions;){const e=n.wc.values().next().value;n.wc.delete(e);const t=new gt(Fn.fromString(e)),r=n.Ec.next();n.gc.set(r,new HB(t)),n.mc=n.mc.insert(t,r),sT(n.remoteStore,new Mh(Rs(Sh(t.path)),r,"TargetPurposeLimboResolution",vo.ct))}}function Oh(n,e,t){return vN.apply(this,arguments)}function vN(){return vN=(0,xe.Z)(function*(n,e,t){const r=mt(n),i=[],o=[],c=[];var f;r.dc.isEmpty()||(r.dc.forEach((f,_)=>{c.push(r.Rc(_,e,t).then(b=>{if((b||t)&&r.isPrimaryClient&&r.sharedClientState.updateQueryState(_.targetId,b?.fromCache?"not-current":"current"),b){i.push(b);const T=DA.Bi(_.targetId,b);o.push(T)}}))}),yield Promise.all(c),r.fc.eu(i),yield(f=(0,xe.Z)(function*(_,b){const T=mt(_);try{yield T.persistence.runTransaction("notifyLocalViewChanges","readwrite",M=>pe.forEach(b,F=>pe.forEach(F.$i,L=>T.persistence.referenceDelegate.addReference(M,F.targetId,L)).next(()=>pe.forEach(F.Fi,L=>T.persistence.referenceDelegate.removeReference(M,F.targetId,L)))))}catch(M){if(!Qc(M))throw M;Ke("LocalStore","Failed to update sequence numbers: "+M)}for(const M of b){const F=M.targetId;if(!M.fromCache){const L=T.Hi.get(F),J=L.withLastLimboFreeSnapshotVersion(L.snapshotVersion);T.Hi=T.Hi.insert(F,J)}}}),function(_,b){return f.apply(this,arguments)})(r.localStore,o))}),vN.apply(this,arguments)}function JB(n,e){return bN.apply(this,arguments)}function bN(){return bN=(0,xe.Z)(function*(n,e){const t=mt(n);if(!t.currentUser.isEqual(e)){Ke("SyncEngine","User change. New user:",e.toKey());const r=yield zx(t.localStore,e);t.currentUser=e,(i=t).Tc.forEach(c=>{c.forEach(f=>{f.reject(new He(ye.CANCELLED,"'waitForPendingWrites' promise is rejected due to a user change."))})}),i.Tc.clear(),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield Oh(t,r.tr)}var i}),bN.apply(this,arguments)}function QB(n,e){const t=mt(n),r=t.gc.get(e);if(r&&r.lc)return pn().add(r.key);{let i=pn();const o=t._c.get(e);if(!o)return i;for(const c of o){const f=t.dc.get(c);i=i.unionWith(f.view.ec)}return i}}function XB(n,e){return wN.apply(this,arguments)}function wN(){return wN=(0,xe.Z)(function*(n,e){const t=mt(n),r=yield eT(t.localStore,e.query,!0),i=e.view.ac(r);return t.isPrimaryClient&&_N(t,e.targetId,i.uc),i}),wN.apply(this,arguments)}function eU(n,e){return EN.apply(this,arguments)}function EN(){return EN=(0,xe.Z)(function*(n,e){const t=mt(n);return Zx(t.localStore,e).then(r=>Oh(t,r))}),EN.apply(this,arguments)}function tU(n,e,t,r){return DN.apply(this,arguments)}function DN(){return DN=(0,xe.Z)(function*(n,e,t,r){const i=mt(n),o=yield function(c,f){const _=mt(c),b=mt(_.mutationQueue);return _.persistence.runTransaction("Lookup mutation documents","readonly",T=>b.Vn(T,f).next(M=>M?_.localDocuments.getDocuments(T,M):pe.resolve(null)))}(i.localStore,e);var f;null!==o?("pending"===t?yield Oy(i.remoteStore):"acknowledged"===t||"rejected"===t?(mN(i,e,r||null),gN(i,e),f=e,mt(mt(i.localStore).mutationQueue).Dn(f)):St(),yield Oh(i,o)):Ke("SyncEngine","Cannot apply mutation batch with id: "+e)}),DN.apply(this,arguments)}function TN(){return TN=(0,xe.Z)(function*(n,e){const t=mt(n);if(AN(t),NN(t),!0===e&&!0!==t.Ac){const r=t.sharedClientState.getAllActiveQueryTargets(),i=yield yR(t,r.toArray());t.Ac=!0,yield YA(t.remoteStore,!0);for(const o of i)sT(t.remoteStore,o)}else if(!1===e&&!1!==t.Ac){const r=[];let i=Promise.resolve();t._c.forEach((o,c)=>{t.sharedClientState.isLocalQueryTarget(c)?r.push(c):i=i.then(()=>(Fy(t,c),Ny(t.localStore,c,!0))),aw(t.remoteStore,c)}),yield i,yield yR(t,r),function(o){const c=mt(o);c.gc.forEach((f,_)=>{aw(c.remoteStore,_)}),c.yc.Is(),c.gc=new Map,c.mc=new Nr(gt.comparator)}(t),t.Ac=!1,yield YA(t.remoteStore,!1)}}),TN.apply(this,arguments)}function yR(n,e,t){return IN.apply(this,arguments)}function IN(){return IN=(0,xe.Z)(function*(n,e,t){const r=mt(n),i=[],o=[];for(const c of e){let f;const _=r._c.get(c);if(_&&0!==_.length){f=yield Ay(r.localStore,Rs(_[0]));for(const b of _){const T=r.dc.get(b),M=yield XB(r,T);M.snapshot&&o.push(M.snapshot)}}else{const b=yield Kx(r.localStore,c);f=yield Ay(r.localStore,b),yield oN(r,vR(b),c,!1,f.resumeToken)}i.push(f)}return r.fc.eu(o),i}),IN.apply(this,arguments)}function vR(n){return Jg(n.path,n.collectionGroup,n.orderBy,n.filters,n.limit,"F",n.startAt,n.endAt)}function rU(n){const e=mt(n);return mt(mt(e.localStore).persistence).Mi()}function iU(n,e,t,r){return SN.apply(this,arguments)}function SN(){return SN=(0,xe.Z)(function*(n,e,t,r){const i=mt(n);if(i.Ac)return void Ke("SyncEngine","Ignoring unexpected query state notification.");const o=i._c.get(e);if(o&&o.length>0)switch(t){case"current":case"not-current":{const c=yield Zx(i.localStore,zC(o[0])),f=Xe.createSynthesizedRemoteEventForCurrentChange(e,"current"===t,ri.EMPTY_BYTE_STRING);yield Oh(i,c,f);break}case"rejected":yield Ny(i.localStore,e,!0),Fy(i,e,r);break;default:St()}}),SN.apply(this,arguments)}function sU(n,e,t){return CN.apply(this,arguments)}function CN(){return CN=(0,xe.Z)(function*(n,e,t){const r=AN(n);if(r.Ac){for(const i of e){if(r._c.has(i)){Ke("SyncEngine","Adding an already active target "+i);continue}const o=yield Kx(r.localStore,i),c=yield Ay(r.localStore,o);yield oN(r,vR(o),c.targetId,!1,c.resumeToken),sT(r.remoteStore,c)}for(const i of t)r._c.has(i)&&(yield Ny(r.localStore,i,!1).then(()=>{aw(r.remoteStore,i),Fy(r,i)}).catch(mh))}}),CN.apply(this,arguments)}function AN(n){const e=mt(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=gR.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=QB.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=qB.bind(null,e),e.fc.eu=FB.bind(null,e.eventManager),e.fc.vc=LB.bind(null,e.eventManager),e}function NN(n){const e=mt(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=WB.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=KB.bind(null,e),e}class lw{constructor(){this.synchronizeTabs=!1}initialize(e){var t=this;return(0,xe.Z)(function*(){t.serializer=sw(e.databaseInfo.databaseId),t.sharedClientState=t.createSharedClientState(e),t.persistence=t.createPersistence(e),yield t.persistence.start(),t.localStore=t.createLocalStore(e),t.gcScheduler=t.createGarbageCollectionScheduler(e,t.localStore),t.indexBackfillerScheduler=t.createIndexBackfillerScheduler(e,t.localStore)})()}createGarbageCollectionScheduler(e,t){return null}createIndexBackfillerScheduler(e,t){return null}createLocalStore(e){return Gx(this.persistence,new $x,e.initialUser,this.serializer)}createPersistence(e){return new vA(J1.js,this.serializer)}createSharedClientState(e){return new Xx}terminate(){var e=this;return(0,xe.Z)(function*(){e.gcScheduler&&e.gcScheduler.stop(),yield e.sharedClientState.shutdown(),yield e.persistence.shutdown()})()}}class MN extends lw{constructor(e,t,r){super(),this.bc=e,this.cacheSizeBytes=t,this.forceOwnership=r,this.synchronizeTabs=!1}initialize(e){var t=()=>super.initialize,r=this;return(0,xe.Z)(function*(){yield t().call(r,e),yield r.bc.initialize(r,e),yield NN(r.bc.syncEngine),yield Oy(r.bc.remoteStore),yield r.persistence.pi(()=>(r.gcScheduler&&!r.gcScheduler.started&&r.gcScheduler.start(),r.indexBackfillerScheduler&&!r.indexBackfillerScheduler.started&&r.indexBackfillerScheduler.start(),Promise.resolve()))})()}createLocalStore(e){return Gx(this.persistence,new $x,e.initialUser,this.serializer)}createGarbageCollectionScheduler(e,t){return new Px(this.persistence.referenceDelegate.garbageCollector,e.asyncQueue,t)}createIndexBackfillerScheduler(e,t){const r=new c1(t,this.persistence);return new bb(e.asyncQueue,r)}createPersistence(e){const t=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey),r=void 0!==this.cacheSizeBytes?wo.withCacheSize(this.cacheSizeBytes):wo.DEFAULT;return new wA(this.synchronizeTabs,t,e.clientId,r,e.asyncQueue,tR(),iT(),this.serializer,this.sharedClientState,!!this.forceOwnership)}createSharedClientState(e){return new Xx}}class bR extends MN{constructor(e,t){super(e,t,!1),this.bc=e,this.cacheSizeBytes=t,this.synchronizeTabs=!0}initialize(e){var t=()=>super.initialize,r=this;return(0,xe.Z)(function*(){yield t().call(r,e);const i=r.bc.syncEngine;r.sharedClientState instanceof OA&&(r.sharedClientState.syncEngine={Qr:tU.bind(null,i),jr:iU.bind(null,i),zr:sU.bind(null,i),Mi:rU.bind(null,i),Gr:eU.bind(null,i)},yield r.sharedClientState.start()),yield r.persistence.pi(function(){var o=(0,xe.Z)(function*(c){yield function nU(n,e){return TN.apply(this,arguments)}(r.bc.syncEngine,c),r.gcScheduler&&(c&&!r.gcScheduler.started?r.gcScheduler.start():c||r.gcScheduler.stop()),r.indexBackfillerScheduler&&(c&&!r.indexBackfillerScheduler.started?r.indexBackfillerScheduler.start():c||r.indexBackfillerScheduler.stop())});return function(c){return o.apply(this,arguments)}}())})()}createSharedClientState(e){const t=tR();if(!OA.D(t))throw new He(ye.UNIMPLEMENTED,"IndexedDB persistence is only available on platforms that support LocalStorage.");const r=EA(e.databaseInfo.databaseId,e.databaseInfo.persistenceKey);return new OA(t,e.asyncQueue,r,e.clientId,e.initialUser)}}class Ly{initialize(e,t){var r=this;return(0,xe.Z)(function*(){r.localStore||(r.localStore=e.localStore,r.sharedClientState=e.sharedClientState,r.datastore=r.createDatastore(t),r.remoteStore=r.createRemoteStore(t),r.eventManager=r.createEventManager(t),r.syncEngine=r.createSyncEngine(t,!e.synchronizeTabs),r.sharedClientState.onlineStateHandler=i=>mR(r.syncEngine,i,1),r.remoteStore.remoteSyncer.handleCredentialChange=JB.bind(null,r.syncEngine),yield YA(r.remoteStore,r.syncEngine.isPrimaryClient))})()}createEventManager(e){return new kB}createDatastore(e){const t=sw(e.databaseInfo.databaseId),r=new yB(e.databaseInfo);return new wB(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return t=this.localStore,r=this.datastore,i=e.asyncQueue,o=f=>mR(this.syncEngine,f,0),c=eR.D()?new eR:new gB,new TB(t,r,i,o,c);var t,r,i,o,c}createSyncEngine(e,t){return function(r,i,o,c,f,_,b){const T=new jB(r,i,o,c,f,_);return b&&(T.Ac=!0),T}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}terminate(){return(e=(0,xe.Z)(function*(t){const r=mt(t);Ke("RemoteStore","RemoteStore shutting down."),r.Au.add(5),yield My(r),r.vu.shutdown(),r.Pu.set("Unknown")}),function(t){return e.apply(this,arguments)})(this.remoteStore);var e}}function wR(n,e=10240){let t=0;return{read:()=>(0,xe.Z)(function*(){if(t<n.byteLength){const r={value:n.slice(t,t+e),done:!1};return t+=e,r}return{done:!0}})(),cancel:()=>(0,xe.Z)(function*(){})(),releaseLock(){},closed:Promise.resolve()}}class aT{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Vc(this.observer.next,e)}error(e){this.observer.error?this.Vc(this.observer.error,e):fi("Uncaught Error in snapshot listener:",e.toString())}Sc(){this.muted=!0}Vc(e,t){this.muted||setTimeout(()=>{this.muted||e(t)},0)}}class lU{constructor(e,t){this.Dc=e,this.serializer=t,this.metadata=new Ui,this.buffer=new Uint8Array,this.Cc=new TextDecoder("utf-8"),this.xc().then(r=>{r&&r.Gu()?this.metadata.resolve(r.Ku.metadata):this.metadata.reject(new Error(`The first element of the bundle is not a metadata, it is\n             ${JSON.stringify(r?.Ku)}`))},r=>this.metadata.reject(r))}close(){return this.Dc.cancel()}getMetadata(){var e=this;return(0,xe.Z)(function*(){return e.metadata.promise})()}Pc(){var e=this;return(0,xe.Z)(function*(){return yield e.getMetadata(),e.xc()})()}xc(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Nc();if(null===t)return null;const r=e.Cc.decode(t),i=Number(r);isNaN(i)&&e.kc(`length string (${r}) is not valid number`);const o=yield e.Mc(i);return new BB(JSON.parse(o),t.length+i)})()}Oc(){return this.buffer.findIndex(e=>e==="{".charCodeAt(0))}Nc(){var e=this;return(0,xe.Z)(function*(){for(;e.Oc()<0&&!(yield e.$c()););if(0===e.buffer.length)return null;const t=e.Oc();t<0&&e.kc("Reached the end of bundle when a length string is expected.");const r=e.buffer.slice(0,t);return e.buffer=e.buffer.slice(t),r})()}Mc(e){var t=this;return(0,xe.Z)(function*(){for(;t.buffer.length<e;)(yield t.$c())&&t.kc("Reached the end of bundle when more is expected.");const r=t.Cc.decode(t.buffer.slice(0,e));return t.buffer=t.buffer.slice(e),r})()}kc(e){throw this.Dc.cancel(),new Error(`Invalid bundle format: ${e}`)}$c(){var e=this;return(0,xe.Z)(function*(){const t=yield e.Dc.read();if(!t.done){const r=new Uint8Array(e.buffer.length+t.value.length);r.set(e.buffer),r.set(t.value,e.buffer.length),e.buffer=r}return t.done})()}}class uU{constructor(e){this.datastore=e,this.readVersions=new Map,this.mutations=[],this.committed=!1,this.lastWriteError=null,this.writtenDocs=new Set}lookup(e){var t=this;return(0,xe.Z)(function*(){if(t.ensureCommitNotCalled(),t.mutations.length>0)throw new He(ye.INVALID_ARGUMENT,"Firestore transactions require all reads to be executed before all writes.");const r=yield(i=(0,xe.Z)(function*(o,c){const f=mt(o),_=Zb(f.serializer)+"/documents",b={documents:c.map(L=>Kb(f.serializer,L))},T=yield f.Ao("BatchGetDocuments",_,b,c.length),M=new Map;T.forEach(L=>{const z=function ML(n,e){return"found"in e?function(t,r){Nt(!!r.found);const i=od(t,r.found.name),o=Vi(r.found.updateTime),c=r.found.createTime?Vi(r.found.createTime):Vt.min(),f=new ds({mapValue:{fields:r.found.fields}});return hr.newFoundDocument(i,o,c,f)}(n,e):"missing"in e?function(t,r){Nt(!!r.missing),Nt(!!r.readTime);const i=od(t,r.missing),o=Vi(r.readTime);return hr.newNoDocument(i,o)}(n,e):St()}(f.serializer,L);M.set(z.key.toString(),z)});const F=[];return c.forEach(L=>{const z=M.get(L.toString());Nt(!!z),F.push(z)}),F}),function(o,c){return i.apply(this,arguments)})(t.datastore,e);var i;return r.forEach(i=>t.recordVersion(i)),r})()}set(e,t){this.write(t.toMutation(e,this.precondition(e))),this.writtenDocs.add(e.toString())}update(e,t){try{this.write(t.toMutation(e,this.preconditionForUpdate(e)))}catch(r){this.lastWriteError=r}this.writtenDocs.add(e.toString())}delete(e){this.write(new nm(e,this.precondition(e))),this.writtenDocs.add(e.toString())}commit(){var e=this;return(0,xe.Z)(function*(){if(e.ensureCommitNotCalled(),e.lastWriteError)throw e.lastWriteError;const t=e.readVersions;var r;e.mutations.forEach(r=>{t.delete(r.key.toString())}),t.forEach((r,i)=>{const o=gt.fromPath(i);e.mutations.push(new H1(o,e.precondition(o)))}),yield(r=(0,xe.Z)(function*(i,o){const c=mt(i),f=Zb(c.serializer)+"/documents",_={writes:o.map(b=>Yb(c.serializer,b))};yield c.po("Commit",f,_)}),function(i,o){return r.apply(this,arguments)})(e.datastore,e.mutations),e.committed=!0})()}recordVersion(e){let t;if(e.isFoundDocument())t=e.version;else{if(!e.isNoDocument())throw St();t=Vt.min()}const r=this.readVersions.get(e.key.toString());if(r){if(!t.isEqual(r))throw new He(ye.ABORTED,"Document version changed between two reads.")}else this.readVersions.set(e.key.toString(),t)}precondition(e){const t=this.readVersions.get(e.toString());return!this.writtenDocs.has(e.toString())&&t?t.isEqual(Vt.min())?Vr.exists(!1):Vr.updateTime(t):Vr.none()}preconditionForUpdate(e){const t=this.readVersions.get(e.toString());if(!this.writtenDocs.has(e.toString())&&t){if(t.isEqual(Vt.min()))throw new He(ye.INVALID_ARGUMENT,"Can't update a document that doesn't exist.");return Vr.updateTime(t)}return Vr.exists(!0)}write(e){this.ensureCommitNotCalled(),this.mutations.push(e)}ensureCommitNotCalled(){}}class cU{constructor(e,t,r,i,o){this.asyncQueue=e,this.datastore=t,this.options=r,this.updateFunction=i,this.deferred=o,this.Fc=r.maxAttempts,this.Lo=new RA(this.asyncQueue,"transaction_retry")}run(){this.Fc-=1,this.Bc()}Bc(){var e=this;this.Lo.xo((0,xe.Z)(function*(){const t=new uU(e.datastore),r=e.Lc(t);r&&r.then(i=>{e.asyncQueue.enqueueAndForget(()=>t.commit().then(()=>{e.deferred.resolve(i)}).catch(o=>{e.qc(o)}))}).catch(i=>{e.qc(i)})}))}Lc(e){try{const t=this.updateFunction(e);return!Xc(t)&&t.catch&&t.then?t:(this.deferred.reject(Error("Transaction callback must return a Promise")),null)}catch(t){return this.deferred.reject(t),null}}qc(e){this.Fc>0&&this.Uc(e)?(this.Fc-=1,this.asyncQueue.enqueueAndForget(()=>(this.Bc(),Promise.resolve()))):this.deferred.reject(e)}Uc(e){if("FirebaseError"===e.name){const t=e.code;return"aborted"===t||"failed-precondition"===t||"already-exists"===t||!m(t)}return!1}}class dU{constructor(e,t,r,i){var o=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=Xi.UNAUTHENTICATED,this.clientId=uy.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var c=(0,xe.Z)(function*(f){Ke("FirestoreClient","Received user=",f.uid),yield o.authCredentialListener(f),o.user=f});return function(f){return c.apply(this,arguments)}}()),this.appCheckCredentials.start(r,c=>(Ke("FirestoreClient","Received new app check token=",c),this.appCheckCredentialListener(c,this.user)))}getConfiguration(){var e=this;return(0,xe.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new He(ye.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ui;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=Ry(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function lT(n,e){return ON.apply(this,arguments)}function ON(){return ON=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress(),Ke("FirestoreClient","Initializing OfflineComponentProvider");const t=yield n.getConfiguration();yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(function(){var i=(0,xe.Z)(function*(o){r.isEqual(o)||(yield zx(e.localStore,o),r=o)});return function(o){return i.apply(this,arguments)}}()),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}),ON.apply(this,arguments)}function xN(n,e){return RN.apply(this,arguments)}function RN(){return RN=(0,xe.Z)(function*(n,e){n.asyncQueue.verifyOperationInProgress();const t=yield PN(n);Ke("FirestoreClient","Initializing OnlineComponentProvider");const r=yield n.getConfiguration();yield e.initialize(t,r),n.setCredentialChangeListener(i=>lR(e.remoteStore,i)),n.setAppCheckTokenChangeListener((i,o)=>lR(e.remoteStore,o)),n._onlineComponents=e}),RN.apply(this,arguments)}function ER(n){return"FirebaseError"===n.name?n.code===ye.FAILED_PRECONDITION||n.code===ye.UNIMPLEMENTED:!(typeof DOMException<"u"&&n instanceof DOMException)||22===n.code||20===n.code||11===n.code}function PN(n){return kN.apply(this,arguments)}function kN(){return kN=(0,xe.Z)(function*(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){Ke("FirestoreClient","Using user provided OfflineComponentProvider");try{yield lT(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!ER(t))throw t;Os("Error using user provided cache. Falling back to memory cache: "+t),yield lT(n,new lw)}}else Ke("FirestoreClient","Using default OfflineComponentProvider"),yield lT(n,new lw);return n._offlineComponents}),kN.apply(this,arguments)}function uT(n){return FN.apply(this,arguments)}function FN(){return FN=(0,xe.Z)(function*(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(Ke("FirestoreClient","Using user provided OnlineComponentProvider"),yield xN(n,n._uninitializedComponentsProvider._online)):(Ke("FirestoreClient","Using default OnlineComponentProvider"),yield xN(n,new Ly))),n._onlineComponents}),FN.apply(this,arguments)}function DR(n){return PN(n).then(e=>e.persistence)}function cT(n){return PN(n).then(e=>e.localStore)}function TR(n){return uT(n).then(e=>e.remoteStore)}function LN(n){return uT(n).then(e=>e.syncEngine)}function By(n){return BN.apply(this,arguments)}function BN(){return BN=(0,xe.Z)(function*(n){const e=yield uT(n),t=e.eventManager;return t.onListen=$B.bind(null,e.syncEngine),t.onUnlisten=GB.bind(null,e.syncEngine),t}),BN.apply(this,arguments)}function SR(n,e,t={}){const r=new Ui;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,o,c,f,_){const b=new aT({next:M=>{o.enqueueAndForget(()=>tN(i,T));const F=M.docs.has(c);!F&&M.fromCache?_.reject(new He(ye.UNAVAILABLE,"Failed to get document because the client is offline.")):F&&M.fromCache&&f&&"server"===f.source?_.reject(new He(ye.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new iN(Sh(c.path),b,{includeMetadataChanges:!0,Uu:!0});return XA(i,T)}(yield By(n),n.asyncQueue,e,t,r)})),r.promise}function CR(n,e,t={}){const r=new Ui;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function(i,o,c,f,_){const b=new aT({next:M=>{o.enqueueAndForget(()=>tN(i,T)),M.fromCache&&"server"===f.source?_.reject(new He(ye.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):_.resolve(M)},error:M=>_.reject(M)}),T=new iN(c,b,{includeMetadataChanges:!0,Uu:!0});return XA(i,T)}(yield By(n),n.asyncQueue,e,t,r)})),r.promise}const AR=new Map;function UN(n,e,t){if(!t)throw new He(ye.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function NR(n,e,t,r){if(!0===e&&!0===r)throw new He(ye.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function MR(n){if(!gt.isDocumentKey(n))throw new He(ye.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function OR(n){if(gt.isDocumentKey(n))throw new He(ye.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function dT(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":St()}function Ln(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new He(ye.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=dT(n);throw new He(ye.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}function xR(n,e){if(e<=0)throw new He(ye.INVALID_ARGUMENT,`Function ${n}() requires a positive number, but it was: ${e}.`)}class RR{constructor(e){var t;if(void 0===e.host){if(void 0!==e.ssl)throw new He(ye.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new He(ye.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}NR("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!this.experimentalForceLongPolling&&void 0!==e.experimentalAutoDetectLongPolling&&!!e.experimentalAutoDetectLongPolling,this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class uw{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new RR({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new He(ye.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new He(ye.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new RR(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new ay;switch(t.type){case"firstParty":return new n1(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new He(ye.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=AR.get(e);t&&(Ke("ComponentProvider","Removing Datastore"),AR.delete(e),t.terminate())}(this),Promise.resolve()}}class Yr{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new ad(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Yr(this.firestore,e,this._key)}}class no{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new no(this.firestore,e,this._query)}}class ad extends no{constructor(e,t,r){super(e,t,Sh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Yr(this.firestore,null,new gt(e))}withConverter(e){return new ad(this.firestore,e,this._path)}}function kR(n,e,...t){if(n=(0,Gn.m9)(n),UN("collection","path",e),n instanceof uw){const r=Fn.fromString(e,...t);return OR(r),new ad(n,null,r)}{if(!(n instanceof Yr||n instanceof ad))throw new He(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fn.fromString(e,...t));return OR(r),new ad(n.firestore,null,r)}}function hT(n,e,...t){if(n=(0,Gn.m9)(n),1===arguments.length&&(e=uy.A()),UN("doc","path",e),n instanceof uw){const r=Fn.fromString(e,...t);return MR(r),new Yr(n,null,new gt(r))}{if(!(n instanceof Yr||n instanceof ad))throw new He(ye.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Fn.fromString(e,...t));return MR(r),new Yr(n.firestore,n instanceof ad?n.converter:null,new gt(r))}}function FR(n,e){return n=(0,Gn.m9)(n),e=(0,Gn.m9)(e),(n instanceof Yr||n instanceof ad)&&(e instanceof Yr||e instanceof ad)&&n.firestore===e.firestore&&n.path===e.path&&n.converter===e.converter}function VN(n,e){return n=(0,Gn.m9)(n),e=(0,Gn.m9)(e),n instanceof no&&e instanceof no&&n.firestore===e.firestore&&Qg(n._query,e._query)&&n.converter===e.converter}class wU{constructor(){this.Kc=Promise.resolve(),this.Gc=[],this.Qc=!1,this.jc=[],this.zc=null,this.Wc=!1,this.Hc=!1,this.Jc=[],this.Lo=new RA(this,"async_queue_retry"),this.Yc=()=>{const t=iT();t&&Ke("AsyncQueue","Visibility state changed to "+t.visibilityState),this.Lo.ko()};const e=iT();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Yc)}get isShuttingDown(){return this.Qc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Xc(),this.Zc(e)}enterRestrictedMode(e){if(!this.Qc){this.Qc=!0,this.Hc=e||!1;const t=iT();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Yc)}}enqueue(e){if(this.Xc(),this.Qc)return new Promise(()=>{});const t=new Ui;return this.Zc(()=>this.Qc&&this.Hc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Gc.push(e),this.ta()))}ta(){var e=this;return(0,xe.Z)(function*(){if(0!==e.Gc.length){try{yield e.Gc[0](),e.Gc.shift(),e.Lo.reset()}catch(t){if(!Qc(t))throw t;Ke("AsyncQueue","Operation failed with retryable error: "+t)}e.Gc.length>0&&e.Lo.xo(()=>e.ta())}})()}Zc(e){const t=this.Kc.then(()=>(this.Wc=!0,e().catch(r=>{throw this.zc=r,this.Wc=!1,fi("INTERNAL UNHANDLED ERROR: ",function(o){let c=o.message||"";return o.stack&&(c=o.stack.includes(o.message)?o.stack:o.message+"\n"+o.stack),c}(r)),r}).then(r=>(this.Wc=!1,r))));return this.Kc=t,t}enqueueAfterDelay(e,t,r){this.Xc(),this.Jc.indexOf(e)>-1&&(t=0);const i=QA.createAndSchedule(this,e,t,r,o=>this.ea(o));return this.jc.push(i),i}Xc(){this.zc&&St()}verifyOperationInProgress(){}na(){var e=this;return(0,xe.Z)(function*(){let t;do{t=e.Kc,yield t}while(t!==e.Kc)})()}sa(e){for(const t of this.jc)if(t.timerId===e)return!0;return!1}ia(e){return this.na().then(()=>{this.jc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.jc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.na()})}ra(e){this.Jc.push(e)}ea(e){const t=this.jc.indexOf(e);this.jc.splice(t,1)}}function HN(n){return function(e,t){if("object"!=typeof e||null===e)return!1;const r=e;for(const i of["next","error","complete"])if(i in r&&"function"==typeof r[i])return!0;return!1}(n)}class EU{constructor(){this._progressObserver={},this._taskCompletionResolver=new Ui,this._lastProgress={taskState:"Running",totalBytes:0,totalDocuments:0,bytesLoaded:0,documentsLoaded:0}}onProgress(e,t,r){this._progressObserver={next:e,error:t,complete:r}}catch(e){return this._taskCompletionResolver.promise.catch(e)}then(e,t){return this._taskCompletionResolver.promise.then(e,t)}_completeWith(e){this._updateProgress(e),this._progressObserver.complete&&this._progressObserver.complete(),this._taskCompletionResolver.resolve(e)}_failWith(e){this._lastProgress.taskState="Error",this._progressObserver.next&&this._progressObserver.next(this._lastProgress),this._progressObserver.error&&this._progressObserver.error(e),this._taskCompletionResolver.reject(e)}_updateProgress(e){this._lastProgress=e,this._progressObserver.next&&this._progressObserver.next(e)}}class Jr extends uw{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new wU,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||LR(this),this._firestoreClient.terminate()}}function Hi(n){return n._firestoreClient||LR(n),n._firestoreClient.verifyNotTerminated(),n._firestoreClient}function LR(n){var e,t,r;const i=n._freezeSettings(),o=(f=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new FC(n._databaseId,f,n._persistenceKey,(b=i).host,b.ssl,b.experimentalForceLongPolling,b.experimentalAutoDetectLongPolling,b.useFetchStreams));var f,b;n._firestoreClient=new dU(n._authCredentials,n._appCheckCredentials,n._queue,o),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}function BR(n,e,t){const r=new Ui;return n.asyncQueue.enqueue((0,xe.Z)(function*(){try{yield lT(n,t),yield xN(n,e),r.resolve()}catch(i){const o=i;if(!ER(o))throw o;Os("Error enabling indexeddb cache. Falling back to memory cache: "+o),r.reject(o)}})).then(()=>r.promise)}function UR(n){if(n._initialized||n._terminated)throw new He(ye.FAILED_PRECONDITION,"Firestore has already been started and persistence can no longer be enabled. You can only enable persistence before calling any other methods on a Firestore object.")}class ld{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ld(ri.fromBase64String(e))}catch(t){throw new He(ye.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ld(ri.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class xh{constructor(...e){for(let t=0;t<e.length;++t)if(0===e[t].length)throw new He(ye.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Br(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class cm{constructor(e){this._methodName=e}}class fT{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new He(ye.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new He(ye.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return cn(this._lat,e._lat)||cn(this._long,e._long)}}const RU=/^__.*__$/;class PU{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return null!==this.fieldMask?new sd(e,this.data,this.fieldMask,t,this.fieldTransforms):new tm(e,this.data,t,this.fieldTransforms)}}class VR{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new sd(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function HR(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw St()}}class pT{constructor(e,t,r,i,o,c){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,void 0===o&&this.oa(),this.fieldTransforms=o||[],this.fieldMask=c||[]}get path(){return this.settings.path}get ua(){return this.settings.ua}ca(e){return new pT(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}aa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.la(e),i}fa(e){var t;const r=null===(t=this.path)||void 0===t?void 0:t.child(e),i=this.ca({path:r,ha:!1});return i.oa(),i}da(e){return this.ca({path:void 0,ha:!0})}_a(e){return _T(e,this.settings.methodName,this.settings.wa||!1,this.path,this.settings.ma)}contains(e){return void 0!==this.fieldMask.find(t=>e.isPrefixOf(t))||void 0!==this.fieldTransforms.find(t=>e.isPrefixOf(t.field))}oa(){if(this.path)for(let e=0;e<this.path.length;e++)this.la(this.path.get(e))}la(e){if(0===e.length)throw this._a("Document fields must not be empty");if(HR(this.ua)&&RU.test(e))throw this._a('Document fields cannot begin and end with "__"')}}class kU{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||sw(e)}ga(e,t,r,i=!1){return new pT({ua:e,methodName:t,ma:r,path:Br.emptyPath(),ha:!1,wa:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function dm(n){const e=n._freezeSettings(),t=sw(n._databaseId);return new kU(n._databaseId,!!e.ignoreUndefinedProperties,t)}function gT(n,e,t,r,i,o={}){const c=n.ga(o.merge||o.mergeFields?2:0,e,t,i);zN("Data must be an object, but it was:",c,r);const f=GR(r,c);let _,b;if(o.merge)_=new cs(c.fieldMask),b=c.fieldTransforms;else if(o.mergeFields){const T=[];for(const M of o.mergeFields){const F=hw(e,M,t);if(!c.contains(F))throw new He(ye.INVALID_ARGUMENT,`Field '${F}' is specified in your field mask but missing from your input data.`);qR(T,F)||T.push(F)}_=new cs(T),b=c.fieldTransforms.filter(M=>_.covers(M.field))}else _=null,b=c.fieldTransforms;return new PU(new ds(f),_,b)}class dw extends cm{_toFieldTransform(e){if(2!==e.ua)throw e._a(1===e.ua?`${this._methodName}() can only appear at the top level of your update data`:`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dw}}function jR(n,e,t){return new pT({ua:3,ma:e.settings.ma,methodName:n._methodName,ha:t},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class jN extends cm{_toFieldTransform(e){return new op(e.path,new Ch)}isEqual(e){return e instanceof jN}}class FU extends cm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=jR(this,e,!0),r=this.ya.map(o=>hm(o,t)),i=new id(r);return new op(e.path,i)}isEqual(e){return this===e}}class LU extends cm{constructor(e,t){super(e),this.ya=t}_toFieldTransform(e){const t=jR(this,e,!0),r=this.ya.map(o=>hm(o,t)),i=new Ah(r);return new op(e.path,i)}isEqual(e){return this===e}}class BU extends cm{constructor(e,t){super(e),this.pa=t}_toFieldTransform(e){const t=new Nh(e.serializer,jb(e.serializer,this.pa));return new op(e.path,t)}isEqual(e){return this===e}}function $N(n,e,t,r){const i=n.ga(1,e,t);zN("Data must be an object, but it was:",i,r);const o=[],c=ds.empty();bh(r,(_,b)=>{const T=mT(e,_,t);b=(0,Gn.m9)(b);const M=i.fa(T);if(b instanceof dw)o.push(T);else{const F=hm(b,M);null!=F&&(o.push(T),c.set(T,F))}});const f=new cs(o);return new VR(c,f,i.fieldTransforms)}function GN(n,e,t,r,i,o){const c=n.ga(1,e,t),f=[hw(e,r,t)],_=[i];if(o.length%2!=0)throw new He(ye.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let F=0;F<o.length;F+=2)f.push(hw(e,o[F])),_.push(o[F+1]);const b=[],T=ds.empty();for(let F=f.length-1;F>=0;--F)if(!qR(b,f[F])){const L=f[F];let z=_[F];z=(0,Gn.m9)(z);const J=c.fa(L);if(z instanceof dw)b.push(L);else{const ae=hm(z,J);null!=ae&&(b.push(L),T.set(L,ae))}}const M=new cs(b);return new VR(T,M,c.fieldTransforms)}function $R(n,e,t,r=!1){return hm(t,n.ga(r?4:3,e))}function hm(n,e){if(zR(n=(0,Gn.m9)(n)))return zN("Unsupported field value:",e,n),GR(n,e);if(n instanceof cm)return function(t,r){if(!HR(r.ua))throw r._a(`${t._methodName}() can only be used with update() and set()`);if(!r.path)throw r._a(`${t._methodName}() is not currently supported inside arrays`);const i=t._toFieldTransform(r);i&&r.fieldTransforms.push(i)}(n,e),null;if(void 0===n&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.ha&&4!==e.ua)throw e._a("Nested arrays are not supported");return function(t,r){const i=[];let o=0;for(const c of t){let f=hm(c,r.da(o));null==f&&(f={nullValue:"NULL_VALUE"}),i.push(f),o++}return{arrayValue:{values:i}}}(n,e)}return function(t,r){if(null===(t=(0,Gn.m9)(t)))return{nullValue:"NULL_VALUE"};if("number"==typeof t)return jb(r.serializer,t);if("boolean"==typeof t)return{booleanValue:t};if("string"==typeof t)return{stringValue:t};if(t instanceof Date){const i=Lr.fromDate(t);return{timestampValue:Ty(r.serializer,i)}}if(t instanceof Lr){const i=new Lr(t.seconds,1e3*Math.floor(t.nanoseconds/1e3));return{timestampValue:Ty(r.serializer,i)}}if(t instanceof fT)return{geoPointValue:{latitude:t.latitude,longitude:t.longitude}};if(t instanceof ld)return{bytesValue:rx(r.serializer,t._byteString)};if(t instanceof Yr){const i=r.databaseId,o=t.firestore._databaseId;if(!o.isEqual(i))throw r._a(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:aA(t.firestore._databaseId||r.databaseId,t._key.path)}}throw r._a(`Unsupported field value: ${dT(t)}`)}(n,e)}function GR(n,e){const t={};return RC(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):bh(n,(r,i)=>{const o=hm(i,e.aa(r));null!=o&&(t[r]=o)}),{mapValue:{fields:t}}}function zR(n){return!("object"!=typeof n||null===n||n instanceof Array||n instanceof Date||n instanceof Lr||n instanceof fT||n instanceof ld||n instanceof Yr||n instanceof cm)}function zN(n,e,t){if(!zR(t)||"object"!=typeof(r=t)||null===r||Object.getPrototypeOf(r)!==Object.prototype&&null!==Object.getPrototypeOf(r)){const r=dT(t);throw e._a("an object"===r?n+" a custom object":n+" "+r)}var r}function hw(n,e,t){if((e=(0,Gn.m9)(e))instanceof xh)return e._internalPath;if("string"==typeof e)return mT(n,e);throw _T("Field path arguments must be of type string or ",n,!1,void 0,t)}const UU=new RegExp("[~\\*/\\[\\]]");function mT(n,e,t){if(e.search(UU)>=0)throw _T(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new xh(...e.split("."))._internalPath}catch{throw _T(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function _T(n,e,t,r,i){const o=r&&!r.isEmpty(),c=void 0!==i;let f=`Function ${e}() called with invalid data`;t&&(f+=" (via `toFirestore()`)"),f+=". ";let _="";return(o||c)&&(_+=" (found",o&&(_+=` in field ${r}`),c&&(_+=` in document ${i}`),_+=")"),new He(ye.INVALID_ARGUMENT,f+n+_)}function qR(n,e){return n.some(t=>t.isEqual(e))}class fw{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Yr(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new VU(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class VU extends fw{data(){return super.data()}}function yT(n,e){return"string"==typeof e?mT(n,e):e instanceof xh?e._internalPath:e._delegate._internalPath}function WR(n){if("L"===n.limitType&&0===n.explicitOrderBy.length)throw new He(ye.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class qN{}class pw extends qN{}function fp(n,e,...t){let r=[];e instanceof qN&&r.push(e),r=r.concat(t),function(i){const o=i.filter(f=>f instanceof Uy).length,c=i.filter(f=>f instanceof gw).length;if(o>1||o>0&&c>0)throw new He(ye.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const i of r)n=i._apply(n);return n}class gw extends pw{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new gw(e,t,r)}_apply(e){const t=this._parse(e);return JR(e._query,t),new no(e.firestore,e.converter,Lb(e._query,t))}_parse(e){const t=dm(e.firestore);return function(i,o,c,f,_,b,T){let M;if(_.isKeyField()){if("array-contains"===b||"array-contains-any"===b)throw new He(ye.INVALID_ARGUMENT,`Invalid Query. You can't perform '${b}' queries on documentId().`);if("in"===b||"not-in"===b){YR(T,b);const F=[];for(const L of T)F.push(ZR(f,i,L));M={arrayValue:{values:F}}}else M=ZR(f,i,T)}else"in"!==b&&"not-in"!==b&&"array-contains-any"!==b||YR(T,b),M=$R(c,"where",T,"in"===b||"not-in"===b);return Nn.create(_,b,M)}(e._query,0,t,e.firestore._databaseId,this._field,this._op,this._value)}}class Uy extends qN{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Uy(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return 1===t.length?t[0]:tr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return 0===t.getFilters().length?e:(function(r,i){let o=r;const c=i.getFlattenedFilters();for(const f of c)JR(o,f),o=Lb(o,f)}(e._query,t),new no(e.firestore,e.converter,Lb(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return"and"===this.type?"and":"or"}}class WN extends pw{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new WN(e,t)}_apply(e){const t=function(r,i,o){if(null!==r.startAt)throw new He(ye.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(null!==r.endAt)throw new He(ye.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");const c=new Ih(i,o);return function(f,_){if(null===kb(f)){const b=Fb(f);null!==b&&QR(0,b,_.field)}}(r,c),c}(e._query,this._field,this._direction);return new no(e.firestore,e.converter,function(r,i){const o=r.explicitOrderBy.concat([i]);return new va(r.path,r.collectionGroup,o,r.filters.slice(),r.limit,r.limitType,r.startAt,r.endAt)}(e._query,t))}}class vT extends pw{constructor(e,t,r){super(),this.type=e,this._limit=t,this._limitType=r}static _create(e,t,r){return new vT(e,t,r)}_apply(e){return new no(e.firestore,e.converter,vy(e._query,this._limit,this._limitType))}}class bT extends pw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new bT(e,t,r)}_apply(e){const t=KR(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(i=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,i,r.endAt)));var r,i}}class wT extends pw{constructor(e,t,r){super(),this.type=e,this._docOrFields=t,this._inclusive=r}static _create(e,t,r){return new wT(e,t,r)}_apply(e){const t=KR(e,this.type,this._docOrFields,this._inclusive);return new no(e.firestore,e.converter,(i=t,new va((r=e._query).path,r.collectionGroup,r.explicitOrderBy.slice(),r.filters.slice(),r.limit,r.limitType,r.startAt,i)));var r,i}}function KR(n,e,t,r){if(t[0]=(0,Gn.m9)(t[0]),t[0]instanceof fw)return function(i,o,c,f,_){if(!f)throw new He(ye.NOT_FOUND,`Can't use a DocumentSnapshot that doesn't exist for ${c}().`);const b=[];for(const T of sp(i))if(T.field.isKeyField())b.push(Dh(o,f.key));else{const M=f.data.field(T.field);if(Wg(M))throw new He(ye.INVALID_ARGUMENT,'Invalid query. You are trying to start or end a query using a document for which the field "'+T.field+'" is an uncommitted server timestamp. (Since the value of this field is unknown, you cannot start/end a query with it.)');if(null===M){const F=T.field.canonicalString();throw new He(ye.INVALID_ARGUMENT,`Invalid query. You are trying to start or end a query using a document for which the field '${F}' (used as the orderBy) does not exist.`)}b.push(M)}return new zu(b,_)}(n._query,n.firestore._databaseId,e,t[0]._document,r);{const i=dm(n.firestore);return function(o,c,f,_,b,T){const M=o.explicitOrderBy;if(b.length>M.length)throw new He(ye.INVALID_ARGUMENT,`Too many arguments provided to ${_}(). The number of arguments must be less than or equal to the number of orderBy() clauses`);const F=[];for(let L=0;L<b.length;L++){const z=b[L];if(M[L].field.isKeyField()){if("string"!=typeof z)throw new He(ye.INVALID_ARGUMENT,`Invalid query. Expected a string for document ID in ${_}(), but got a ${typeof z}`);if(!P1(o)&&-1!==z.indexOf("/"))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection and ordering by documentId(), the value passed to ${_}() must be a plain document ID, but '${z}' contains a slash.`);const J=o.path.child(Fn.fromString(z));if(!gt.isDocumentKey(J))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group and ordering by documentId(), the value passed to ${_}() must result in a valid document path, but '${J}' is not because it contains an odd number of segments.`);const ae=new gt(J);F.push(Dh(c,ae))}else{const J=$R(f,_,z);F.push(J)}}return new zu(F,T)}(n._query,n.firestore._databaseId,i,e,t,r)}}function ZR(n,e,t){if("string"==typeof(t=(0,Gn.m9)(t))){if(""===t)throw new He(ye.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!P1(e)&&-1!==t.indexOf("/"))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(Fn.fromString(t));if(!gt.isDocumentKey(r))throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Dh(n,new gt(r))}if(t instanceof Yr)return Dh(n,t._key);throw new He(ye.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${dT(t)}.`)}function YR(n,e){if(!Array.isArray(n)||0===n.length)throw new He(ye.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function JR(n,e){if(e.isInequality()){const r=Fb(n),i=e.field;if(null!==r&&!r.isEqual(i))throw new He(ye.INVALID_ARGUMENT,`Invalid query. All where filters with an inequality (<, <=, !=, not-in, >, or >=) must be on the same field. But you have inequality filters on '${r.toString()}' and '${i.toString()}'`);const o=kb(n);null!==o&&QR(0,i,o)}const t=function(r,i){for(const o of r)for(const c of o.getFlattenedFilters())if(i.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(r){switch(r){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(null!==t)throw new He(ye.INVALID_ARGUMENT,t===e.op?`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`:`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}function QR(n,e,t){if(!t.isEqual(e))throw new He(ye.INVALID_ARGUMENT,`Invalid query. You have a where filter with an inequality (<, <=, !=, not-in, >, or >=) on field '${e.toString()}' and so you must also use '${e.toString()}' as your first argument to orderBy(), but your first orderBy() is on field '${t.toString()}' instead.`)}class KN{convertValue(e,t="none"){switch(nd(e)){case 0:return null;case 1:return e.booleanValue;case 2:return pi(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 10:return this.convertObject(e.mapValue,t);default:throw St()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return bh(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertGeoPoint(e){return new fT(pi(e.latitude),pi(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=fy(e);return null==r?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(py(e));default:return null}}convertTimestamp(e){const t=$u(e);return new Lr(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=Fn.fromString(e);Nt(fx(r));const i=new ed(r.get(1),r.get(3)),o=new gt(r.popFirst(5));return i.isEqual(t)||fi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}}function ET(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}class ZU extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ld(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}class fm{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Rh extends fw{constructor(e,t,r,i,o,c){super(e,t,r,i,c),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new mw(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(yT("DocumentSnapshot.get",e));if(null!==r)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class mw extends Rh{data(e={}){return super.data(e)}}class pp{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new fm(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return 0===this.size}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new mw(this._firestore,this._userDataWriter,r.key,r,new fm(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new He(ye.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(r,i){if(r._snapshot.oldDocs.isEmpty()){let o=0;return r._snapshot.docChanges.map(c=>({type:"added",doc:new mw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new fm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter),oldIndex:-1,newIndex:o++}))}{let o=r._snapshot.oldDocs;return r._snapshot.docChanges.filter(c=>i||3!==c.type).map(c=>{const f=new mw(r._firestore,r._userDataWriter,c.doc.key,c.doc,new fm(r._snapshot.mutatedKeys.has(c.doc.key),r._snapshot.fromCache),r.query.converter);let _=-1,b=-1;return 0!==c.type&&(_=o.indexOf(c.doc.key),o=o.delete(c.doc.key)),1!==c.type&&(o=o.add(c.doc),b=o.indexOf(c.doc.key)),{type:JU(c.type),doc:f,oldIndex:_,newIndex:b}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function JU(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return St()}}function eP(n,e){return n instanceof Rh&&e instanceof Rh?n._firestore===e._firestore&&n._key.isEqual(e._key)&&(null===n._document?null===e._document:n._document.isEqual(e._document))&&n._converter===e._converter:n instanceof pp&&e instanceof pp&&n._firestore===e._firestore&&VN(n.query,e.query)&&n.metadata.isEqual(e.metadata)&&n._snapshot.isEqual(e._snapshot)}class gp extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new ld(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new Yr(this.firestore,null,t)}}function tP(n,e,t){n=Ln(n,Yr);const r=Ln(n.firestore,Jr),i=ET(n.converter,e,t);return Vy(r,[gT(dm(r),"setDoc",n._key,i,null!==n.converter,t).toMutation(n._key,Vr.none())])}function nP(n,e,t,...r){n=Ln(n,Yr);const i=Ln(n.firestore,Jr),o=dm(i);let c;return c="string"==typeof(e=(0,Gn.m9)(e))||e instanceof xh?GN(o,"updateDoc",n._key,e,t,r):$N(o,"updateDoc",n._key,e),Vy(i,[c.toMutation(n._key,Vr.exists(!0))])}function rP(n,...e){var t,r,i;n=(0,Gn.m9)(n);let o={includeMetadataChanges:!1},c=0;"object"!=typeof e[c]||HN(e[c])||(o=e[c],c++);const f={includeMetadataChanges:o.includeMetadataChanges};if(HN(e[c])){const M=e[c];e[c]=null===(t=M.next)||void 0===t?void 0:t.bind(M),e[c+1]=null===(r=M.error)||void 0===r?void 0:r.bind(M),e[c+2]=null===(i=M.complete)||void 0===i?void 0:i.bind(M)}let _,b,T;if(n instanceof Yr)b=Ln(n.firestore,Jr),T=Sh(n._key.path),_={next:M=>{e[c]&&e[c](ZN(b,n,M))},error:e[c+1],complete:e[c+2]};else{const M=Ln(n,no);b=Ln(M.firestore,Jr),T=M._query;const F=new gp(b);_={next:L=>{e[c]&&e[c](new pp(b,F,M,L))},error:e[c+1],complete:e[c+2]},WR(n._query)}return function(M,F,L,z){const J=new aT(z),ae=new iN(F,J,L);return M.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return XA(yield By(M),ae)})),()=>{J.Sc(),M.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return tN(yield By(M),ae)}))}}(Hi(b),T,f,_)}function Vy(n,e){return function(t,r){const i=new Ui;return t.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function zB(n,e,t){return uN.apply(this,arguments)}(yield LN(t),r,i)})),i.promise}(Hi(n),e)}function ZN(n,e,t){const r=t.docs.get(e._key),i=new gp(n);return new Rh(n,i,e._key,r,new fm(t.hasPendingWrites,t.fromCache),e.converter)}const gV={maxAttempts:5};class iP{constructor(e,t){this._firestore=e,this._commitHandler=t,this._mutations=[],this._committed=!1,this._dataReader=dm(e)}set(e,t,r){this._verifyNotCommitted();const i=mp(e,this._firestore),o=ET(i.converter,t,r),c=gT(this._dataReader,"WriteBatch.set",i._key,o,null!==i.converter,r);return this._mutations.push(c.toMutation(i._key,Vr.none())),this}update(e,t,r,...i){this._verifyNotCommitted();const o=mp(e,this._firestore);let c;return c="string"==typeof(t=(0,Gn.m9)(t))||t instanceof xh?GN(this._dataReader,"WriteBatch.update",o._key,t,r,i):$N(this._dataReader,"WriteBatch.update",o._key,t),this._mutations.push(c.toMutation(o._key,Vr.exists(!0))),this}delete(e){this._verifyNotCommitted();const t=mp(e,this._firestore);return this._mutations=this._mutations.concat(new nm(t._key,Vr.none())),this}commit(){return this._verifyNotCommitted(),this._committed=!0,this._mutations.length>0?this._commitHandler(this._mutations):Promise.resolve()}_verifyNotCommitted(){if(this._committed)throw new He(ye.FAILED_PRECONDITION,"A write batch can no longer be used after commit() has been called.")}}function mp(n,e){if((n=(0,Gn.m9)(n)).firestore!==e)throw new He(ye.INVALID_ARGUMENT,"Provided document reference is from a different Firestore instance.");return n}class mV extends class{constructor(e,t){this._firestore=e,this._transaction=t,this._dataReader=dm(e)}get(e){const t=mp(e,this._firestore),r=new ZU(this._firestore);return this._transaction.lookup([t._key]).then(i=>{if(!i||1!==i.length)return St();const o=i[0];if(o.isFoundDocument())return new fw(this._firestore,r,o.key,o,t.converter);if(o.isNoDocument())return new fw(this._firestore,r,t._key,null,t.converter);throw St()})}set(e,t,r){const i=mp(e,this._firestore),o=ET(i.converter,t,r),c=gT(this._dataReader,"Transaction.set",i._key,o,null!==i.converter,r);return this._transaction.set(i._key,c),this}update(e,t,r,...i){const o=mp(e,this._firestore);let c;return c="string"==typeof(t=(0,Gn.m9)(t))||t instanceof xh?GN(this._dataReader,"Transaction.update",o._key,t,r,i):$N(this._dataReader,"Transaction.update",o._key,t),this._transaction.update(o._key,c),this}delete(e){const t=mp(e,this._firestore);return this._transaction.delete(t._key),this}}{constructor(e,t){super(e,t),this._firestore=e}get(e){const t=mp(e,this._firestore),r=new gp(this._firestore);return super.get(e).then(i=>new Rh(this._firestore,r,t._key,i._document,new fm(!1,!1),t.converter))}}function DT(){return new jN("serverTimestamp")}!function(n,e=!0){Vg=Xd.SDK_VERSION,(0,Xd._registerComponent)(new If.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const o=t.getProvider("app").getImmediate(),c=new Jr(new _C(t.getProvider("auth-internal")),new gb(t.getProvider("app-check-internal")),function(f,_){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new He(ye.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new ed(f.options.projectId,_)}(o,r),o);return i=Object.assign({useFetchStreams:e},i),c._setSettings(i),c},"PUBLIC").setMultipleInstances(!0)),(0,Xd.registerVersion)(db,"3.11.0",n),(0,Xd.registerVersion)(db,"3.11.0","esm2017")}();var YN=U(4986);function JN(){return(0,ti.e)((n,e)=>{let t,r=!1;n.subscribe((0,yr.x)(e,i=>{const o=t;t=i,r&&e.next([o,i]),r=!0}))})}function TT(n,e=Bo.y){return n=n??EV,(0,ti.e)((t,r)=>{let i,o=!0;t.subscribe((0,yr.x)(r,c=>{const f=e(c);(o||!n(i,f))&&(o=!1,i=f,r.next(c))}))})}function EV(n,e){return n===e}U(3042);var DV=U(3942);function QN(n,e){if(void 0===e)return{merge:!1};if(void 0!==e.mergeFields&&void 0!==e.merge)throw new He("invalid-argument",`Invalid options passed to function ${n}(): You cannot specify both "merge" and "mergeFields".`);return e}function oP(){if(typeof Uint8Array>"u")throw new He("unimplemented","Uint8Arrays are not available in this environment.")}function aP(){if(!function y1(){return typeof atob<"u"}())throw new He("unimplemented","Blobs are unavailable in Firestore in this environment.")}class _w{constructor(e){this._delegate=e}static fromBase64String(e){return aP(),new _w(ld.fromBase64String(e))}static fromUint8Array(e){return oP(),new _w(ld.fromUint8Array(e))}toBase64(){return aP(),this._delegate.toBase64()}toUint8Array(){return oP(),this._delegate.toUint8Array()}isEqual(e){return this._delegate.isEqual(e._delegate)}toString(){return"Blob(base64: "+this.toBase64()+")"}}function XN(n){return function SV(n,e){if("object"!=typeof n||null===n)return!1;const t=n;for(const r of e)if(r in t&&"function"==typeof t[r])return!0;return!1}(n,["next","error","complete"])}class CV{enableIndexedDbPersistence(e,t){return function TU(n,e){UR(n=Ln(n,Jr));const t=Hi(n);if(t._uninitializedComponentsProvider)throw new He(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const r=n._freezeSettings(),i=new Ly;return BR(t,i,new MN(i,r.cacheSizeBytes,e?.forceOwnership))}(e._delegate,{forceOwnership:t})}enableMultiTabIndexedDbPersistence(e){return function IU(n){UR(n=Ln(n,Jr));const e=Hi(n);if(e._uninitializedComponentsProvider)throw new He(ye.FAILED_PRECONDITION,"SDK cache is already specified.");Os("enableMultiTabIndexedDbPersistence() will be deprecated in the future, you can use `FirestoreSettings.cache` instead.");const t=n._freezeSettings(),r=new Ly;return BR(e,r,new bR(r,t.cacheSizeBytes))}(e._delegate)}clearIndexedDbPersistence(e){return function SU(n){if(n._initialized&&!n._terminated)throw new He(ye.FAILED_PRECONDITION,"Persistence can only be cleared before a Firestore instance is initialized or after it is terminated.");const e=new Ui;return n._queue.enqueueAndForgetEvenWhileRestricted((0,xe.Z)(function*(){try{yield(t=(0,xe.Z)(function*(r){if(!eo.D())return Promise.resolve();const i=r+"main";yield eo.delete(i)}),function(r){return t.apply(this,arguments)})(EA(n._databaseId,n._persistenceKey)),e.resolve()}catch(t){e.reject(t)}var t})),e.promise}(e._delegate)}}class lP{constructor(e,t,r){this._delegate=t,this._persistenceProvider=r,this.INTERNAL={delete:()=>this.terminate()},e instanceof ed||(this._appCompat=e)}get _databaseId(){return this._delegate._databaseId}settings(e){const t=this._delegate._getSettings();!e.merge&&t.host!==e.host&&Os("You are overriding the original host. If you did not intend to override your settings, use {merge: true}."),e.merge&&delete(e=Object.assign(Object.assign({},t),e)).merge,this._delegate._setSettings(e)}useEmulator(e,t,r={}){!function PR(n,e,t,r={}){var i;const o=(n=Ln(n,uw))._getSettings();if("firestore.googleapis.com"!==o.host&&o.host!==e&&Os("Host has been set in both settings() and useEmulator(), emulator host will be used"),n._setSettings(Object.assign(Object.assign({},o),{host:`${e}:${t}`,ssl:!1})),r.mockUserToken){let c,f;if("string"==typeof r.mockUserToken)c=r.mockUserToken,f=Xi.MOCK_USER;else{c=(0,Gn.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const _=r.mockUserToken.sub||r.mockUserToken.user_id;if(!_)throw new He(ye.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Xi(_)}n._authCredentials=new ly(new t1(c,f))}}(this._delegate,e,t,r)}enableNetwork(){return function AU(n){return function hU(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield DR(n),t=yield TR(n);return e.setNetworkEnabled(!0),function(r){const i=mt(r);return i.Au.delete(0),ow(i)}(t)}))}(Hi(n=Ln(n,Jr)))}(this._delegate)}disableNetwork(){return function NU(n){return function fU(n){return n.asyncQueue.enqueue((0,xe.Z)(function*(){const e=yield DR(n),t=yield TR(n);return e.setNetworkEnabled(!1),(r=(0,xe.Z)(function*(i){const o=mt(i);o.Au.add(0),yield My(o),o.Pu.set("Offline")}),function(i){return r.apply(this,arguments)})(t);var r}))}(Hi(n=Ln(n,Jr)))}(this._delegate)}enablePersistence(e){let t=!1,r=!1;return e&&(t=!!e.synchronizeTabs,r=!!e.experimentalForceOwningTab,NR("synchronizeTabs",t,"experimentalForceOwningTab",r)),t?this._persistenceProvider.enableMultiTabIndexedDbPersistence(this):this._persistenceProvider.enableIndexedDbPersistence(this,r)}clearPersistence(){return this._persistenceProvider.clearIndexedDbPersistence(this)}terminate(){return this._appCompat&&(this._appCompat._removeServiceInstance("firestore-compat"),this._appCompat._removeServiceInstance("firestore")),this._delegate._delete()}waitForPendingWrites(){return function CU(n){return function(e){const t=new Ui;return e.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return function ZB(n,e){return pN.apply(this,arguments)}(yield LN(e),t)})),t.promise}(Hi(n=Ln(n,Jr)))}(this._delegate)}onSnapshotsInSync(e){return function oV(n,e){return function mU(n,e){const t=new aT(e);return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return r=yield By(n),i=t,mt(r).Nu.add(i),void i.next();var r,i})),()=>{t.Sc(),n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return r=yield By(n),i=t,void mt(r).Nu.delete(i);var r,i}))}}(Hi(n=Ln(n,Jr)),HN(e)?e:{next:e})}(this._delegate,e)}get app(){if(!this._appCompat)throw new He("failed-precondition","Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._appCompat}collection(e){try{return new Hy(this,kR(this._delegate,e))}catch(t){throw zo(t,"collection()","Firestore.collection()")}}doc(e){try{return new Zl(this,hT(this._delegate,e))}catch(t){throw zo(t,"doc()","Firestore.doc()")}}collectionGroup(e){try{return new qo(this,function bU(n,e){if(n=Ln(n,uw),UN("collectionGroup","collection id",e),e.indexOf("/")>=0)throw new He(ye.INVALID_ARGUMENT,`Invalid collection ID '${e}' passed to function collectionGroup(). Collection IDs must not contain '/'.`);return new no(n,null,(t=e,new va(Fn.emptyPath(),t)));var t}(this._delegate,e))}catch(t){throw zo(t,"collectionGroup()","Firestore.collectionGroup()")}}runTransaction(e){return function _V(n,e,t){n=Ln(n,Jr);const r=Object.assign(Object.assign({},gV),t);return function(i){if(i.maxAttempts<1)throw new He(ye.INVALID_ARGUMENT,"Max attempts must be at least 1")}(r),function(i,o,c){const f=new Ui;return i.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){const _=yield function IR(n){return uT(n).then(e=>e.datastore)}(i);new cU(i.asyncQueue,_,c,o,f).run()})),f.promise}(Hi(n),i=>e(new mV(n,i)),r)}(this._delegate,t=>e(new uP(this,t)))}batch(){return Hi(this._delegate),new cP(new iP(this._delegate,e=>Vy(this._delegate,e)))}loadBundle(e){return function MU(n,e){const t=Hi(n=Ln(n,Jr)),r=new EU;return function _U(n,e,t,r){const i=function(o,c){let f;return f="string"==typeof o?x().encode(o):o,_=function(_,b){if(_ instanceof Uint8Array)return wR(_,b);if(_ instanceof ArrayBuffer)return wR(new Uint8Array(_),b);if(_ instanceof ReadableStream)return _.getReader();throw new Error("Source of `toByteStreamReader` has to be a ArrayBuffer or ReadableStream")}(f),new lU(_,c);var _}(t,sw(e));n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){!function oU(n,e,t){const r=mt(n);var i;(i=(0,xe.Z)(function*(o,c,f){try{const _=yield c.getMetadata();if(yield function(F,L){const z=mt(F),J=Vi(L.createTime);return z.persistence.runTransaction("hasNewerBundle","readonly",ae=>z.Ls.getBundleMetadata(ae,L.id)).then(ae=>!!ae&&ae.createTime.compareTo(J)>=0)}(o.localStore,_))return yield c.close(),f._completeWith({taskState:"Success",documentsLoaded:(F=_).totalDocuments,bytesLoaded:F.totalBytes,totalDocuments:F.totalDocuments,totalBytes:F.totalBytes}),Promise.resolve(new Set);f._updateProgress(dR(_));const b=new UB(_,o.localStore,c.serializer);let T=yield c.Pc();for(;T;){const F=yield b.ju(T);F&&f._updateProgress(F),T=yield c.Pc()}const M=yield b.complete();return yield Oh(o,M.Hu,void 0),yield function(F,L){const z=mt(F);return z.persistence.runTransaction("Save bundle","readwrite",J=>z.Ls.saveBundleMetadata(J,L))}(o.localStore,_),f._completeWith(M.progress),Promise.resolve(M.Wu)}catch(_){return Os("SyncEngine",`Loading bundle failed with ${_}`),f._failWith(_),Promise.resolve(new Set)}var F}),function(o,c,f){return i.apply(this,arguments)})(r,e,t).then(i=>{r.sharedClientState.notifyBundleLoaded(i)})}(yield LN(n),i,r)}))}(t,n._databaseId,e,r),r}(this._delegate,e)}namedQuery(e){return function OU(n,e){return function yU(n,e){return n.asyncQueue.enqueue((0,xe.Z)(function*(){return function(t,r){const i=mt(t);return i.persistence.runTransaction("Get named query","readonly",o=>i.Ls.getNamedQuery(o,r))}(yield cT(n),e)}))}(Hi(n=Ln(n,Jr)),e).then(t=>t?new no(n,null,t.query):null)}(this._delegate,e).then(t=>t?new qo(this,t):null)}}class IT extends KN{constructor(e){super(),this.firestore=e}convertBytes(e){return new _w(new ld(e))}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return Zl.forKey(t,this.firestore,null)}}class uP{constructor(e,t){this._firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}get(e){const t=gm(e);return this._delegate.get(t).then(r=>new yw(this._firestore,new Rh(this._firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,t.converter)))}set(e,t,r){const i=gm(e);return r?(QN("Transaction.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=gm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=gm(e);return this._delegate.delete(t),this}}class cP{constructor(e){this._delegate=e}set(e,t,r){const i=gm(e);return r?(QN("WriteBatch.set",r),this._delegate.set(i,t,r)):this._delegate.set(i,t),this}update(e,t,r,...i){const o=gm(e);return 2===arguments.length?this._delegate.update(o,t):this._delegate.update(o,t,r,...i),this}delete(e){const t=gm(e);return this._delegate.delete(t),this}commit(){return this._delegate.commit()}}class pm{constructor(e,t,r){this._firestore=e,this._userDataWriter=t,this._delegate=r}fromFirestore(e,t){const r=new mw(this._firestore._delegate,this._userDataWriter,e._key,e._document,e.metadata,null);return this._delegate.fromFirestore(new vw(this._firestore,r),t??{})}toFirestore(e,t){return t?this._delegate.toFirestore(e,t):this._delegate.toFirestore(e)}static getInstance(e,t){const r=pm.INSTANCES;let i=r.get(e);i||(i=new WeakMap,r.set(e,i));let o=i.get(t);return o||(o=new pm(e,new IT(e),t),i.set(t,o)),o}}pm.INSTANCES=new WeakMap;class Zl{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}static forPath(e,t,r){if(e.length%2!=0)throw new He("invalid-argument",`Invalid document reference. Document references must have an even number of segments, but ${e.canonicalString()} has ${e.length}`);return new Zl(t,new Yr(t._delegate,r,new gt(e)))}static forKey(e,t,r){return new Zl(t,new Yr(t._delegate,r,e))}get id(){return this._delegate.id}get parent(){return new Hy(this.firestore,this._delegate.parent)}get path(){return this._delegate.path}collection(e){try{return new Hy(this.firestore,kR(this._delegate,e))}catch(t){throw zo(t,"collection()","DocumentReference.collection()")}}isEqual(e){return(e=(0,Gn.m9)(e))instanceof Yr&&FR(this._delegate,e)}set(e,t){t=QN("DocumentReference.set",t);try{return t?tP(this._delegate,e,t):tP(this._delegate,e)}catch(r){throw zo(r,"setDoc()","DocumentReference.set()")}}update(e,t,...r){try{return 1===arguments.length?nP(this._delegate,e):nP(this._delegate,e,t,...r)}catch(i){throw zo(i,"updateDoc()","DocumentReference.update()")}}delete(){return function iV(n){return Vy(Ln(n.firestore,Jr),[new nm(n._key,Vr.none())])}(this._delegate)}onSnapshot(...e){const t=dP(e),r=hP(e,i=>new yw(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,i._key,i._document,i.metadata,this._delegate.converter)));return rP(this._delegate,t,r)}get(e){let t;return t="cache"===e?.source?function XU(n){n=Ln(n,Yr);const e=Ln(n.firestore,Jr),t=Hi(e),r=new gp(e);return function pU(n,e){const t=new Ui;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(r=(0,xe.Z)(function*(i,o,c){try{const f=yield function(_,b){const T=mt(_);return T.persistence.runTransaction("read document","readonly",M=>T.localDocuments.getDocument(M,b))}(i,o);f.isFoundDocument()?c.resolve(f):f.isNoDocument()?c.resolve(null):c.reject(new He(ye.UNAVAILABLE,"Failed to get document from cache. (However, this document may exist on the server. Run again without setting 'source' in the GetOptions to attempt to retrieve the document from the server.)"))}catch(f){const _=Ry(f,`Failed to get document '${o} from cache`);c.reject(_)}}),function(i,o,c){return r.apply(this,arguments)})(yield cT(n),e,t);var r})),t.promise}(t,n._key).then(i=>new Rh(e,r,n._key,i,new fm(null!==i&&i.hasLocalMutations,!0),n.converter))}(this._delegate):"server"===e?.source?function eV(n){n=Ln(n,Yr);const e=Ln(n.firestore,Jr);return SR(Hi(e),n._key,{source:"server"}).then(t=>ZN(e,n,t))}(this._delegate):function QU(n){n=Ln(n,Yr);const e=Ln(n.firestore,Jr);return SR(Hi(e),n._key).then(t=>ZN(e,n,t))}(this._delegate),t.then(r=>new yw(this.firestore,new Rh(this.firestore._delegate,this._userDataWriter,r._key,r._document,r.metadata,this._delegate.converter)))}withConverter(e){return new Zl(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}function zo(n,e,t){return n.message=n.message.replace(e,t),n}function dP(n){for(const e of n)if("object"==typeof e&&!XN(e))return e;return{}}function hP(n,e){var t,r;let i;return i=XN(n[0])?n[0]:XN(n[1])?n[1]:"function"==typeof n[0]?{next:n[0],error:n[1],complete:n[2]}:{next:n[1],error:n[2],complete:n[3]},{next:o=>{i.next&&i.next(e(o))},error:null===(t=i.error)||void 0===t?void 0:t.bind(i),complete:null===(r=i.complete)||void 0===r?void 0:r.bind(i)}}class yw{constructor(e,t){this._firestore=e,this._delegate=t}get ref(){return new Zl(this._firestore,this._delegate.ref)}get id(){return this._delegate.id}get metadata(){return this._delegate.metadata}get exists(){return this._delegate.exists()}data(e){return this._delegate.data(e)}get(e,t){return this._delegate.get(e,t)}isEqual(e){return eP(this._delegate,e._delegate)}}class vw extends yw{data(e){const t=this._delegate.data(e);return function mC(n,e){n||St()}(void 0!==t),t}}class qo{constructor(e,t){this.firestore=e,this._delegate=t,this._userDataWriter=new IT(e)}where(e,t,r){try{return new qo(this.firestore,fp(this._delegate,function HU(n,e,t){const r=e,i=yT("where",n);return gw._create(i,r,t)}(e,t,r)))}catch(i){throw zo(i,/(orderBy|where)\(\)/,"Query.$1()")}}orderBy(e,t){try{return new qo(this.firestore,fp(this._delegate,function jU(n,e="asc"){const t=e,r=yT("orderBy",n);return WN._create(r,t)}(e,t)))}catch(r){throw zo(r,/(orderBy|where)\(\)/,"Query.$1()")}}limit(e){try{return new qo(this.firestore,fp(this._delegate,function $U(n){return xR("limit",n),vT._create("limit",n,"F")}(e)))}catch(t){throw zo(t,"limit()","Query.limit()")}}limitToLast(e){try{return new qo(this.firestore,fp(this._delegate,function GU(n){return xR("limitToLast",n),vT._create("limitToLast",n,"L")}(e)))}catch(t){throw zo(t,"limitToLast()","Query.limitToLast()")}}startAt(...e){try{return new qo(this.firestore,fp(this._delegate,function zU(...n){return bT._create("startAt",n,!0)}(...e)))}catch(t){throw zo(t,"startAt()","Query.startAt()")}}startAfter(...e){try{return new qo(this.firestore,fp(this._delegate,function qU(...n){return bT._create("startAfter",n,!1)}(...e)))}catch(t){throw zo(t,"startAfter()","Query.startAfter()")}}endBefore(...e){try{return new qo(this.firestore,fp(this._delegate,function WU(...n){return wT._create("endBefore",n,!1)}(...e)))}catch(t){throw zo(t,"endBefore()","Query.endBefore()")}}endAt(...e){try{return new qo(this.firestore,fp(this._delegate,function KU(...n){return wT._create("endAt",n,!0)}(...e)))}catch(t){throw zo(t,"endAt()","Query.endAt()")}}isEqual(e){return VN(this._delegate,e._delegate)}get(e){let t;return t="cache"===e?.source?function nV(n){n=Ln(n,no);const e=Ln(n.firestore,Jr),t=Hi(e),r=new gp(e);return function gU(n,e){const t=new Ui;return n.asyncQueue.enqueueAndForget((0,xe.Z)(function*(){return(r=(0,xe.Z)(function*(i,o,c){try{const f=yield eT(i,o,!0),_=new pR(o,f.sr),b=_.nc(f.documents),T=_.applyChanges(b,!1);c.resolve(T.snapshot)}catch(f){const _=Ry(f,`Failed to execute query '${o} against cache`);c.reject(_)}}),function(i,o,c){return r.apply(this,arguments)})(yield cT(n),e,t);var r})),t.promise}(t,n._query).then(i=>new pp(e,r,n,i))}(this._delegate):"server"===e?.source?function rV(n){n=Ln(n,no);const e=Ln(n.firestore,Jr),t=Hi(e),r=new gp(e);return CR(t,n._query,{source:"server"}).then(i=>new pp(e,r,n,i))}(this._delegate):function tV(n){n=Ln(n,no);const e=Ln(n.firestore,Jr),t=Hi(e),r=new gp(e);return WR(n._query),CR(t,n._query).then(i=>new pp(e,r,n,i))}(this._delegate),t.then(r=>new eM(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,r._snapshot)))}onSnapshot(...e){const t=dP(e),r=hP(e,i=>new eM(this.firestore,new pp(this.firestore._delegate,this._userDataWriter,this._delegate,i._snapshot)));return rP(this._delegate,t,r)}withConverter(e){return new qo(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}class NV{constructor(e,t){this._firestore=e,this._delegate=t}get type(){return this._delegate.type}get doc(){return new vw(this._firestore,this._delegate.doc)}get oldIndex(){return this._delegate.oldIndex}get newIndex(){return this._delegate.newIndex}}class eM{constructor(e,t){this._firestore=e,this._delegate=t}get query(){return new qo(this._firestore,this._delegate.query)}get metadata(){return this._delegate.metadata}get size(){return this._delegate.size}get empty(){return this._delegate.empty}get docs(){return this._delegate.docs.map(e=>new vw(this._firestore,e))}docChanges(e){return this._delegate.docChanges(e).map(t=>new NV(this._firestore,t))}forEach(e,t){this._delegate.forEach(r=>{e.call(t,new vw(this._firestore,r))})}isEqual(e){return eP(this._delegate,e._delegate)}}class Hy extends qo{constructor(e,t){super(e,t),this.firestore=e,this._delegate=t}get id(){return this._delegate.id}get path(){return this._delegate.path}get parent(){const e=this._delegate.parent;return e?new Zl(this.firestore,e):null}doc(e){try{return new Zl(this.firestore,void 0===e?hT(this._delegate):hT(this._delegate,e))}catch(t){throw zo(t,"doc()","CollectionReference.doc()")}}add(e){return function sV(n,e){const t=Ln(n.firestore,Jr),r=hT(n),i=ET(n.converter,e);return Vy(t,[gT(dm(n.firestore),"addDoc",r._key,i,null!==n.converter,{}).toMutation(r._key,Vr.exists(!1))]).then(()=>r)}(this._delegate,e).then(t=>new Zl(this.firestore,t))}isEqual(e){return FR(this._delegate,e._delegate)}withConverter(e){return new Hy(this.firestore,this._delegate.withConverter(e?pm.getInstance(this.firestore,e):null))}}function gm(n){return Ln(n,Yr)}class tM{constructor(...e){this._delegate=new xh(...e)}static documentId(){return new tM(Br.keyField().canonicalString())}isEqual(e){return(e=(0,Gn.m9)(e))instanceof xh&&this._delegate._internalPath.isEqual(e._internalPath)}}class mm{constructor(e){this._delegate=e}static serverTimestamp(){const e=DT();return e._methodName="FieldValue.serverTimestamp",new mm(e)}static delete(){const e=function yV(){return new dw("deleteField")}();return e._methodName="FieldValue.delete",new mm(e)}static arrayUnion(...e){const t=function vV(...n){return new FU("arrayUnion",n)}(...e);return t._methodName="FieldValue.arrayUnion",new mm(t)}static arrayRemove(...e){const t=function bV(...n){return new LU("arrayRemove",n)}(...e);return t._methodName="FieldValue.arrayRemove",new mm(t)}static increment(e){const t=function wV(n){return new BU("increment",n)}(e);return t._methodName="FieldValue.increment",new mm(t)}isEqual(e){return this._delegate.isEqual(e._delegate)}}const MV={Firestore:lP,GeoPoint:fT,Timestamp:Lr,Blob:_w,Transaction:uP,WriteBatch:cP,DocumentReference:Zl,DocumentSnapshot:yw,Query:qo,QueryDocumentSnapshot:vw,QuerySnapshot:eM,CollectionReference:Hy,FieldPath:tM,FieldValue:mm,setLogLevel:function AV(n){!function gC(n){ju.setLogLevel(n)}(n)},CACHE_SIZE_UNLIMITED:-1};function fP(n,e){return function RV(n,e=YN.z){return new Kr.y(t=>{let r;return null!=e?e.schedule(()=>{r=n.onSnapshot({includeMetadataChanges:!0},t)}):r=n.onSnapshot({includeMetadataChanges:!0},t),()=>{r?.()}})}(n,e)}function nM(n,e){return fP(n,e).pipe((0,Pt.U)(t=>({payload:t,type:"query"})))}function ST(n,e){return nM(n,e).pipe(go(void 0),JN(),(0,Pt.U)(([t,r])=>{const i=r.payload.docChanges(),o=i.map(c=>({type:c.type,payload:c}));return t&&JSON.stringify(t.payload.metadata)!==JSON.stringify(r.payload.metadata)&&r.payload.docs.forEach((c,f)=>{const _=i.find(T=>T.doc.ref.isEqual(c.ref)),b=t?.payload.docs.find(T=>T.ref.isEqual(c.ref));_&&JSON.stringify(_.doc.metadata)===JSON.stringify(c.metadata)||!_&&b&&JSON.stringify(b.metadata)===JSON.stringify(c.metadata)||o.push({type:"modified",payload:{oldIndex:f,newIndex:f,type:"modified",doc:c}})}),o}))}function pP(n,e,t){return ST(n,t).pipe(Cc((r,i)=>function kV(n,e,t){return e.forEach(r=>{t.indexOf(r.type)>-1&&(n=function FV(n,e){switch(e.type){case"added":if(!n[e.newIndex]||!n[e.newIndex].doc.ref.isEqual(e.doc.ref))return rM(n,e.newIndex,0,e);break;case"modified":if(null==n[e.oldIndex]||n[e.oldIndex].doc.ref.isEqual(e.doc.ref)){if(e.oldIndex!==e.newIndex){const t=n.slice();return t.splice(e.oldIndex,1),t.splice(e.newIndex,0,e),t}return rM(n,e.newIndex,1,e)}break;case"removed":if(n[e.oldIndex]&&n[e.oldIndex].doc.ref.isEqual(e.doc.ref))return rM(n,e.oldIndex,1)}return n}(n,r))}),n}(r,i.map(o=>o.payload),e),[]),TT(),(0,Pt.U)(r=>r.map(i=>({type:i.type,payload:i}))))}function rM(n,e,t,...r){const i=n.slice();return i.splice(e,t,...r),i}function gP(n){return(!n||0===n.length)&&(n=["added","removed","modified"]),n}!function xV(n){(function OV(n,e){n.INTERNAL.registerComponent(new If.wA("firestore-compat",t=>{const r=t.getProvider("app-compat").getImmediate(),i=t.getProvider("firestore").getImmediate();return e(r,i)},"PUBLIC").setServiceProps(Object.assign({},MV)))})(n,(e,t)=>new lP(e,t,new CV)),n.registerVersion("@firebase/firestore-compat","0.3.8")}(DV.Z);class mP{constructor(e,t,r){this.ref=e,this.query=t,this.afs=r}stateChanges(e){let t=ST(this.query,this.afs.schedulers.outsideAngular);return e&&e.length>0&&(t=t.pipe((0,Pt.U)(r=>r.filter(i=>e.indexOf(i.type)>-1)))),t.pipe(go(void 0),JN(),ir(([r,i])=>i.length>0||!r),(0,Pt.U)(([r,i])=>i),Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gP(e);return pP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return nM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.payload.docs.map(r=>e.idField?Object.assign(Object.assign({},r.data()),{[e.idField]:r.id}):r.data())),Ji.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(Ji.iC)}add(e){return this.ref.add(e)}doc(e){return new _P(this.ref.doc(e),this.afs)}}class _P{constructor(e,t){this.ref=e,this.afs=t}set(e,t){return this.ref.set(e,t)}update(e){return this.ref.update(e)}delete(){return this.ref.delete()}collection(e,t){const r=this.ref.collection(e),{ref:i,query:o}=yP(r,t);return new mP(i,o,this.afs)}snapshotChanges(){return function PV(n,e){return fP(n,e).pipe(go(void 0),JN(),(0,Pt.U)(([t,r])=>r.exists?t?.exists?{payload:r,type:"modified"}:{payload:r,type:"added"}:{payload:r,type:"removed"}))}(this.ref,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return this.snapshotChanges().pipe((0,Pt.U)(({payload:t})=>e.idField?Object.assign(Object.assign({},t.data()),{[e.idField]:t.id}):t.data()))}get(e){return(0,Bn.D)(this.ref.get(e)).pipe(Ji.iC)}}class LV{constructor(e,t){this.query=e,this.afs=t}stateChanges(e){return e&&0!==e.length?ST(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(t=>t.filter(r=>e.indexOf(r.type)>-1)),ir(t=>t.length>0),Ji.iC):ST(this.query,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}auditTrail(e){return this.stateChanges(e).pipe(Cc((t,r)=>[...t,...r],[]))}snapshotChanges(e){const t=gP(e);return pP(this.query,t,this.afs.schedulers.outsideAngular).pipe(Ji.iC)}valueChanges(e={}){return nM(this.query,this.afs.schedulers.outsideAngular).pipe((0,Pt.U)(r=>r.payload.docs.map(i=>e.idField?Object.assign({[e.idField]:i.id},i.data()):i.data())),Ji.iC)}get(e){return(0,Bn.D)(this.query.get(e)).pipe(Ji.iC)}}const BV=new l.OlP("angularfire2.enableFirestorePersistence"),UV=new l.OlP("angularfire2.firestore.persistenceSettings"),VV=new l.OlP("angularfire2.firestore.settings"),HV=new l.OlP("angularfire2.firestore.use-emulator");function yP(n,e=(t=>t)){return{query:e(n),ref:n}}let jV=(()=>{class n{constructor(t,r,i,o,c,f,_,b,T,M,F,L,z,J,ae,Ae,Ue){this.schedulers=_;const qe=(0,nl.on)(t,f,r),Ye=T;M&&D_(qe,f,F,z,J,ae,L,Ae),[this.firestore,this.persistenceEnabled$]=(0,nl.cc)(`${qe.name}.firestore`,"AngularFirestore",qe.name,()=>{const dt=f.runOutsideAngular(()=>qe.firestore());if(o&&dt.settings(o),Ye&&dt.useEmulator(...Ye),i&&!Bs(c)){const vt=()=>{try{return(0,Bn.D)(dt.enablePersistence(b||void 0).then(()=>!0,()=>!1))}catch(qt){return typeof console<"u"&&console.warn(qt),At(!1)}};return[dt,f.runOutsideAngular(vt)]}return[dt,At(!1)]},[o,Ye,i])}collection(t,r){let i;i="string"==typeof t?this.firestore.collection(t):t;const{ref:o,query:c}=yP(i,r),f=this.schedulers.ngZone.run(()=>o);return new mP(f,c,this)}collectionGroup(t,r){const i=r||(c=>c),o=this.firestore.collectionGroup(t);return new LV(i(o),this)}doc(t){let r;r="string"==typeof t?this.firestore.doc(t):t;const i=this.schedulers.ngZone.run(()=>r);return new _P(i,this)}createId(){return this.firestore.collection("_").doc().id}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(nl.Dh),l.LFG(nl.xv,8),l.LFG(BV,8),l.LFG(VV,8),l.LFG(l.Lbi),l.LFG(l.R0b),l.LFG(Ji.HU),l.LFG(UV,8),l.LFG(HV,8),l.LFG(Of,8),l.LFG(d0,8),l.LFG(h0,8),l.LFG(f0,8),l.LFG(nD,8),l.LFG(p0,8),l.LFG(g0,8),l.LFG(bg,8))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"any"}),n})();var $V=U(5226),GV=U.n($V);let vP=(()=>{class n{constructor(){}lanzarAlerta(t,r){GV().fire({icon:t,title:r,showConfirmButton:!1,timer:1500})}lanzarAlertaExito(t){this.lanzarAlerta("success",t)}lanzarAlertaError(t){this.lanzarAlerta("error",t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bP=(()=>{class n{constructor(t,r){this.db=t,this.alerta=r,this.coleccion="usuarios"}addUsuario(t,r){var i=this;return(0,xe.Z)(function*(){i.usuario={nombre:t,mail:r,creado:DT(),log:DT(),activo:!0},i.db.collection(i.coleccion).add(i.usuario).then(o=>{i.alerta.lanzarAlertaExito("\xa1Usuario grabado con \xe9xito!")}).catch(o=>{i.alerta.lanzarAlertaError(o)})})()}actualizarDato(t,r,i){VS.Z.firestore().collection(this.coleccion).where("mail","==",t).get().then(o=>{o.forEach(c=>{c.ref.update({campo:i})})}).catch(o=>{console.log("Error grabando: ",o)})}getNombre(t){return this.db.collection(this.coleccion,r=>r.where("mail","==",t)).snapshotChanges()}grabarLog(t){this.actualizarDato(t,"log",DT())}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(jV),l.LFG(vP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),CT=(()=>{class n{constructor(t,r,i,o){this.auth=t,this.router=r,this.storage=i,this.alerta=o}login(t,r){this.auth.signInWithEmailAndPassword(t,r).then(i=>{this.router.navigate(["/home"]),this.alerta.lanzarAlertaExito("\xa1Holi "+i.user?.email+"!"),this.storage.grabarLog(t),console.log(this.storage.getNombre(t))}).catch(i=>{this.alerta.lanzarAlertaError(this.error(i.code))})}registro(t,r,i){this.auth.createUserWithEmailAndPassword(r,i).then(o=>{this.storage.addUsuario(t,r),this.login(r,i)}).catch(o=>{this.alerta.lanzarAlertaError(this.error(o.code))})}error(t){switch(t){case"auth/wrong-password":case"auth/user-not-found":case"auth/invalid-email":return"Datos incorrectos.";case"auth/email-already-in-use":return"El mail ya est\xe1 en uso.";default:return"Error desconocido"}}logout(){var t=this;return(0,xe.Z)(function*(){t.auth.signOut().then(r=>{t.alerta.lanzarAlertaExito("\xa1Chau!"),t.router.navigate(["/home"])}).catch(r=>{t.alerta.lanzarAlertaError(":( "+t.error(r.code))})})()}getAuth(){return this.auth.authState}currentUserEmail(){this.getAuth().subscribe(t=>(console.log(t),t?t.email:null))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Of),l.LFG(As),l.LFG(bP),l.LFG(vP))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const wP=".b-example-divider[_ngcontent-%COMP%]{height:3rem;background-color:#0000001a;border:solid rgba(0,0,0,.15);border-width:1px 0;box-shadow:inset 0 .5em 1.5em #0000001a,inset 0 .125em .5em #00000026}@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}";let zV=(()=>{class n{constructor(t,r){this.auth=t,this.router=r}ngOnInit(){}quieroJugar(){this.auth.getAuth().subscribe(t=>{this.router.navigate(t?.email?["/home"]:["/login"])})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CT),l.Y36(As))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-home"]],decls:28,vars:0,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],[1,"rounded","container","bg-light"],[1,"row","flex-lg-row-reverse","align-items-center","g-5","py-5"],[1,"col-10","col-sm-8","col-lg-6"],["src","../assets/videojuegos.png","alt","Bootstrap Themes","width","70%","loading","lazy",1,"d-block","mx-lg-auto","img-fluid"],[1,"col-lg-6"],[1,"display-5","fw-bold","lh-1","mb-3"],[1,"lead"],[1,"bi","bi-emoji-smile"],[1,"d-grid","gap-2","d-md-flex","justify-content-md-start"],["type","button",1,"btn","btn-warning","btn-lg","px-4","me-md-2",3,"click"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5),l.qZA(),l.TgZ(7,"body")(8,"main")(9,"div",6)(10,"div",7)(11,"div",8),l._UZ(12,"img",9),l.qZA(),l.TgZ(13,"div",10)(14,"h1",11),l._uU(15,"Jueguitos"),l.qZA(),l.TgZ(16,"p",12),l._uU(17,"Bienvenido a la p\xe1gina de los Jueguitos "),l._UZ(18,"i",13),l._uU(19,"."),l.qZA(),l.TgZ(20,"p",12),l._uU(21,"En esta p\xe1gina podr\xe1s jugar al Ahorcado, al Mayor o Menor o al Preguntados. Adem\xe1s tu resultado queda guardado y podr\xe1s entrar en el listado de los mejores jugadores."),l._UZ(22,"br"),l.qZA(),l.TgZ(23,"p",12),l._uU(24," \xa1Bienvenido! "),l.qZA(),l.TgZ(25,"div",14)(26,"button",15),l.NdJ("click",function(){return r.quieroJugar()}),l._uU(27,"\xa1Quiero jugar!"),l.qZA()()()()()()()())},styles:[wP,wP]}),n})(),EP=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n}),n})(),_m=(()=>{class n extends EP{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275dir=l.lG2({type:n,features:[l.qOj]}),n})();const Ea=new l.OlP("NgValueAccessor"),KV={provide:Ea,useExisting:(0,l.Gpc)(()=>bw),multi:!0},YV=new l.OlP("CompositionEventMode");let bw=(()=>{class n extends EP{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function ZV(){const n=V()?V().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(YV,8))},n.\u0275dir=l.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&l.NdJ("input",function(o){return r._handleInput(o.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(o){return r._compositionEnd(o.target.value)})},features:[l._Bn([KV]),l.qOj]}),n})();const JV=!1;function _p(n){return null==n||("string"==typeof n||Array.isArray(n))&&0===n.length}function TP(n){return null!=n&&"number"==typeof n.length}const ro=new l.OlP("NgValidators"),yp=new l.OlP("NgAsyncValidators"),QV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/;class ww{static min(e){return function IP(n){return e=>{if(_p(e.value)||_p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}(e)}static max(e){return function SP(n){return e=>{if(_p(e.value)||_p(n))return null;const t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}(e)}static required(e){return function CP(n){return _p(n.value)?{required:!0}:null}(e)}static requiredTrue(e){return function AP(n){return!0===n.value?null:{required:!0}}(e)}static email(e){return function NP(n){return _p(n.value)||QV.test(n.value)?null:{email:!0}}(e)}static minLength(e){return function MP(n){return e=>_p(e.value)||!TP(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static maxLength(e){return function OP(n){return e=>TP(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}(e)}static pattern(e){return function xP(n){if(!n)return AT;let e,t;return"string"==typeof n?(t="","^"!==n.charAt(0)&&(t+="^"),t+=n,"$"!==n.charAt(n.length-1)&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(_p(r.value))return null;const i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}(e)}static nullValidator(e){return null}static compose(e){return BP(e)}static composeAsync(e){return UP(e)}}function AT(n){return null}function RP(n){return null!=n}function PP(n){const e=(0,l.QGY)(n)?(0,Bn.D)(n):n;if(JV&&!(0,l.CqO)(e)){let t="Expected async validator to return Promise or Observable.";throw"object"==typeof n&&(t+=" Are you using a synchronous validator where an async validator is expected?"),new l.vHH(-1101,t)}return e}function kP(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function FP(n,e){return e.map(t=>t(n))}function LP(n){return n.map(e=>function XV(n){return!n.validate}(e)?e:t=>e.validate(t))}function BP(n){if(!n)return null;const e=n.filter(RP);return 0==e.length?null:function(t){return kP(FP(t,e))}}function iM(n){return null!=n?BP(LP(n)):null}function UP(n){if(!n)return null;const e=n.filter(RP);return 0==e.length?null:function(t){return function qV(...n){const e=(0,Pi.jO)(n),{args:t,keys:r}=Eu(n),i=new Kr.y(o=>{const{length:c}=t;if(!c)return void o.complete();const f=new Array(c);let _=c,b=c;for(let T=0;T<c;T++){let M=!1;(0,is.Xf)(t[T]).subscribe((0,yr.x)(o,F=>{M||(M=!0,b--),f[T]=F},()=>_--,void 0,()=>{(!_||!M)&&(b||o.next(r?ia(r,f):f),o.complete())}))}});return e?i.pipe(Uo(e)):i}(FP(t,e).map(PP)).pipe((0,Pt.U)(kP))}}function sM(n){return null!=n?UP(LP(n)):null}function VP(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function HP(n){return n._rawValidators}function jP(n){return n._rawAsyncValidators}function oM(n){return n?Array.isArray(n)?n:[n]:[]}function NT(n,e){return Array.isArray(n)?n.includes(e):n===e}function $P(n,e){const t=oM(e);return oM(n).forEach(i=>{NT(t,i)||t.push(i)}),t}function GP(n,e){return oM(e).filter(t=>!NT(n,t))}class zP{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=iM(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sM(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Wo extends zP{get formDirective(){return null}get path(){return null}}class vp extends zP{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class qP{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let aM=(()=>{class n extends qP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(vp,2))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[l.qOj]}),n})(),lM=(()=>{class n extends qP{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Wo,10))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&l.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[l.qOj]}),n})();function WP(n,e){return n?`with name: '${e}'`:`at index: ${e}`}const dM=!1,Ew="VALID",OT="INVALID",jy="PENDING",Dw="DISABLED";function hM(n){return(xT(n)?n.validators:n)||null}function fM(n,e){return(xT(e)?e.asyncValidators:n)||null}function xT(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}function KP(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new l.vHH(1e3,dM?function rH(n){return`\n    There are no form controls registered with this ${n?"group":"array"} yet. If you're using ngModel,\n    you may want to check next tick (e.g. use setTimeout).\n  `}(e):"");if(!r[t])throw new l.vHH(1001,dM?function iH(n,e){return`Cannot find form control ${WP(n,e)}`}(e,t):"")}function ZP(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new l.vHH(1002,dM?function sH(n,e){return`Must supply a value for form control ${WP(n,e)}`}(e,i):"")})}class RT{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ew}get invalid(){return this.status===OT}get pending(){return this.status==jy}get disabled(){return this.status===Dw}get enabled(){return this.status!==Dw}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators($P(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators($P(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(GP(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(GP(e,this._rawAsyncValidators))}hasValidator(e){return NT(this._rawValidators,e)}hasAsyncValidator(e){return NT(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=jy,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Dw,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ew,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ew||this.status===jy)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Dw:Ew}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=jy,this._hasOwnPendingAsyncValidator=!0;const t=PP(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new l.vpe,this.statusChanges=new l.vpe}_calculateStatus(){return this._allControlsDisabled()?Dw:this.errors?OT:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(jy)?jy:this._anyControlsHaveStatus(OT)?OT:Ew}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){xT(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function oH(n){return Array.isArray(n)?iM(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function aH(n){return Array.isArray(n)?sM(n):n||null}(this._rawAsyncValidators)}}class Tw extends RT{constructor(e,t,r){super(hM(t),fM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){ZP(this,!0,e),Object.keys(e).forEach(r=>{KP(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}class YP extends Tw{}const ym=new l.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Iw}),Iw="always";function Sw(n,e,t=Iw){pM(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function uH(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&JP(n,e)})}(n,e),function dH(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function cH(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&JP(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function lH(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function kT(n,e,t=!0){const r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),LT(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function FT(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function pM(n,e){const t=HP(n);null!==e.validator?n.setValidators(VP(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=jP(n);null!==e.asyncValidator?n.setAsyncValidators(VP(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();FT(e._rawValidators,i),FT(e._rawAsyncValidators,i)}function LT(n,e){let t=!1;if(null!==n){if(null!==e.validator){const i=HP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(null!==e.asyncValidator){const i=jP(n);if(Array.isArray(i)&&i.length>0){const o=i.filter(c=>c!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}const r=()=>{};return FT(e._rawValidators,r),FT(e._rawAsyncValidators,r),t}function JP(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function ek(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function tk(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const Aw=class extends RT{constructor(e=null,t,r){super(hM(t),fM(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),xT(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=tk(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ek(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ek(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){tk(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};let vM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),ak=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const bM=new l.OlP("NgModelWithFormControlWarning"),IH={provide:Wo,useExisting:(0,l.Gpc)(()=>Nw)};let Nw=(()=>{class n extends Wo{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new l.vpe,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(LT(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){const r=this.form.get(t.path);return Sw(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){kT(t.control||null,t,!1),function gH(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this.submitted=!0,function XP(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this.directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t){this.form.reset(t),this.submitted=!1}_updateDomValue(){this.directives.forEach(t=>{const r=t.control,i=this.form.get(t.path);r!==i&&(kT(r||null,t),(n=>n instanceof Aw)(i)&&(Sw(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){const r=this.form.get(t.path);(function QP(n,e){pM(n,e)})(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){const r=this.form.get(t.path);r&&function hH(n,e){return LT(n,e)}(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){pM(this.form,this),this._oldForm&&LT(this._oldForm,this)}_checkFormPresent(){}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ro,10),l.Y36(yp,10),l.Y36(ym,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formGroup",""]],hostBindings:function(t,r){1&t&&l.NdJ("submit",function(o){return r.onSubmit(o)})("reset",function(){return r.onReset()})},inputs:{form:["formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[l._Bn([IH]),l.qOj,l.TTD]}),n})();const AH={provide:vp,useExisting:(0,l.Gpc)(()=>BT)};let BT=(()=>{class n extends vp{set isDisabled(t){}constructor(t,r,i,o,c){super(),this._ngModelWarningConfig=c,this._added=!1,this.update=new l.vpe,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function _M(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(o=>{o.constructor===bw?t=o:function pH(n){return Object.getPrototypeOf(n.constructor)===_m}(o)?r=o:i=o}),i||r||t||null}(0,o)}ngOnChanges(t){this._added||this._setUpControl(),function mM(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return function PT(n,e){return[...e.path,n]}(null==this.name?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}}return n._ngModelWarningSentOnce=!1,n.\u0275fac=function(t){return new(t||n)(l.Y36(Wo,13),l.Y36(ro,10),l.Y36(yp,10),l.Y36(Ea,10),l.Y36(bM,8))},n.\u0275dir=l.lG2({type:n,selectors:[["","formControlName",""]],inputs:{name:["formControlName","name"],isDisabled:["disabled","isDisabled"],model:["ngModel","model"]},outputs:{update:"ngModelChange"},features:[l._Bn([AH]),l.qOj,l.TTD]}),n})(),Dk=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[ak]}),n})();class Tk extends RT{constructor(e,t,r){super(hM(t),fM(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,t={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}insert(e,t,r={}){this.controls.splice(e,0,t),this._registerControl(t),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,t={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:t.emitEvent})}setControl(e,t,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),t&&(this.controls.splice(i,0,t),this._registerControl(t)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,t={}){ZP(this,!1,e),e.forEach((r,i)=>{KP(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e=[],t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(t=>t._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((t,r)=>!!r._syncPendingControls()||t,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((t,r)=>{e(t,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(t=>t.enabled&&e(t))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(const e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}}function Ik(n){return!!n&&(void 0!==n.asyncValidators||void 0!==n.validators||void 0!==n.updateOn)}let Sk=(()=>{class n{constructor(){this.useNonNullable=!1}get nonNullable(){const t=new n;return t.useNonNullable=!0,t}group(t,r=null){const i=this._reduceControls(t);let o={};return Ik(r)?o=r:null!==r&&(o.validators=r.validator,o.asyncValidators=r.asyncValidator),new Tw(i,o)}record(t,r=null){const i=this._reduceControls(t);return new YP(i,r)}control(t,r,i){let o={};return this.useNonNullable?(Ik(r)?o=r:(o.validators=r,o.asyncValidators=i),new Aw(t,{...o,nonNullable:!0})):new Aw(t,r,i)}array(t,r,i){const o=t.map(c=>this._createControl(c));return new Tk(o,r,i)}_reduceControls(t){const r={};return Object.keys(t).forEach(i=>{r[i]=this._createControl(t[i])}),r}_createControl(t){return t instanceof Aw||t instanceof RT?t:Array.isArray(t)?this.control(t[0],t.length>1?t[1]:null,t.length>2?t[2]:null):this.control(t)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),$H=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:ym,useValue:t.callSetDisabledState??Iw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Dk]}),n})(),GH=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:bM,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:ym,useValue:t.callSetDisabledState??Iw}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Dk]}),n})();const Ck="html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}";let zH=(()=>{class n{constructor(t,r){this.auth=t,this.fb=r,this.loginUsuario=this.fb.group({email:["",ww.required],password:["",ww.required]})}ngOnInit(){}login(){this.auth.login(this.loginUsuario.value.email,this.loginUsuario.value.password)}accesoRapido(){this.loginUsuario.value.email="admin@jueguitos.com",this.loginUsuario.value.password="123456"}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CT),l.Y36(Sk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-login"]],decls:36,vars:1,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/sign-in/"],[1,"text-center"],[1,"form-signin"],[1,"rounded","container","bg-light"],[3,"formGroup","ngSubmit"],["src","../assets/videojuegos.png","alt","","width","40%","height","40%",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","id","floatingInput","placeholder","name@example.com","formControlName","email",1,"form-control"],["for","floatingInput"],["type","password","id","floatingPassword","placeholder","Password","formControlName","password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-warning"],["type","submit",1,"w-100","btn","btn-sm","btn-secondary",3,"click"],[1,"sm-2","col-form-label"],["routerLink","/registro"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5)(7,"link",6),l.qZA(),l.TgZ(8,"body",7)(9,"main",8),l._UZ(10,"br"),l.TgZ(11,"div",9),l._UZ(12,"br"),l.TgZ(13,"form",10),l.NdJ("ngSubmit",function(){return r.login()}),l._UZ(14,"img",11),l.TgZ(15,"h1",12),l._uU(16,"\xa1Hola!"),l.qZA(),l.TgZ(17,"div",13),l._UZ(18,"input",14),l.TgZ(19,"label",15),l._uU(20,"Email"),l.qZA()(),l.TgZ(21,"div",13),l._UZ(22,"input",16),l.TgZ(23,"label",17),l._uU(24,"Contrase\xf1a"),l.qZA()(),l.TgZ(25,"button",18),l._uU(26,"Entrar"),l.qZA(),l._UZ(27,"p"),l.TgZ(28,"button",19),l.NdJ("click",function(){return r.accesoRapido()}),l._uU(29,"Acceso r\xe1pido"),l.qZA(),l._UZ(30,"p"),l.TgZ(31,"label",20),l._uU(32,"\xbfNo tienes cuenta? "),l.TgZ(33,"a",21),l._uU(34,"Reg\xedstrate"),l.qZA()(),l._UZ(35,"br"),l.qZA()()()()()),2&t&&(l.xp6(13),l.Q6J("formGroup",r.loginUsuario))},dependencies:[ag,vM,bw,aM,lM,Nw,BT],styles:[Ck,Ck]}),n})();class UT{}class SM{}class Ph{constructor(e){this.normalizedNames=new Map,this.lazyUpdate=null,e?this.lazyInit="string"==typeof e?()=>{this.headers=new Map,e.split("\n").forEach(t=>{const r=t.indexOf(":");if(r>0){const i=t.slice(0,r),o=i.toLowerCase(),c=t.slice(r+1).trim();this.maybeSetNormalizedName(i,o),this.headers.has(o)?this.headers.get(o).push(c):this.headers.set(o,[c])}})}:()=>{this.headers=new Map,Object.entries(e).forEach(([t,r])=>{let i;if(i="string"==typeof r?[r]:"number"==typeof r?[r.toString()]:r.map(o=>o.toString()),i.length>0){const o=t.toLowerCase();this.headers.set(o,i),this.maybeSetNormalizedName(t,o)}})}:this.headers=new Map}has(e){return this.init(),this.headers.has(e.toLowerCase())}get(e){this.init();const t=this.headers.get(e.toLowerCase());return t&&t.length>0?t[0]:null}keys(){return this.init(),Array.from(this.normalizedNames.values())}getAll(e){return this.init(),this.headers.get(e.toLowerCase())||null}append(e,t){return this.clone({name:e,value:t,op:"a"})}set(e,t){return this.clone({name:e,value:t,op:"s"})}delete(e,t){return this.clone({name:e,value:t,op:"d"})}maybeSetNormalizedName(e,t){this.normalizedNames.has(t)||this.normalizedNames.set(t,e)}init(){this.lazyInit&&(this.lazyInit instanceof Ph?this.copyFrom(this.lazyInit):this.lazyInit(),this.lazyInit=null,this.lazyUpdate&&(this.lazyUpdate.forEach(e=>this.applyUpdate(e)),this.lazyUpdate=null))}copyFrom(e){e.init(),Array.from(e.headers.keys()).forEach(t=>{this.headers.set(t,e.headers.get(t)),this.normalizedNames.set(t,e.normalizedNames.get(t))})}clone(e){const t=new Ph;return t.lazyInit=this.lazyInit&&this.lazyInit instanceof Ph?this.lazyInit:this,t.lazyUpdate=(this.lazyUpdate||[]).concat([e]),t}applyUpdate(e){const t=e.name.toLowerCase();switch(e.op){case"a":case"s":let r=e.value;if("string"==typeof r&&(r=[r]),0===r.length)return;this.maybeSetNormalizedName(e.name,t);const i=("a"===e.op?this.headers.get(t):void 0)||[];i.push(...r),this.headers.set(t,i);break;case"d":const o=e.value;if(o){let c=this.headers.get(t);if(!c)return;c=c.filter(f=>-1===o.indexOf(f)),0===c.length?(this.headers.delete(t),this.normalizedNames.delete(t)):this.headers.set(t,c)}else this.headers.delete(t),this.normalizedNames.delete(t)}}forEach(e){this.init(),Array.from(this.normalizedNames.keys()).forEach(t=>e(this.normalizedNames.get(t),this.headers.get(t)))}}class qH{encodeKey(e){return Ak(e)}encodeValue(e){return Ak(e)}decodeKey(e){return decodeURIComponent(e)}decodeValue(e){return decodeURIComponent(e)}}const KH=/%(\d[a-f0-9])/gi,ZH={40:"@","3A":":",24:"$","2C":",","3B":";","3D":"=","3F":"?","2F":"/"};function Ak(n){return encodeURIComponent(n).replace(KH,(e,t)=>ZH[t]??e)}function VT(n){return`${n}`}class bp{constructor(e={}){if(this.updates=null,this.cloneFrom=null,this.encoder=e.encoder||new qH,e.fromString){if(e.fromObject)throw new Error("Cannot specify both fromString and fromObject.");this.map=function WH(n,e){const t=new Map;return n.length>0&&n.replace(/^\?/,"").split("&").forEach(i=>{const o=i.indexOf("="),[c,f]=-1==o?[e.decodeKey(i),""]:[e.decodeKey(i.slice(0,o)),e.decodeValue(i.slice(o+1))],_=t.get(c)||[];_.push(f),t.set(c,_)}),t}(e.fromString,this.encoder)}else e.fromObject?(this.map=new Map,Object.keys(e.fromObject).forEach(t=>{const r=e.fromObject[t],i=Array.isArray(r)?r.map(VT):[VT(r)];this.map.set(t,i)})):this.map=null}has(e){return this.init(),this.map.has(e)}get(e){this.init();const t=this.map.get(e);return t?t[0]:null}getAll(e){return this.init(),this.map.get(e)||null}keys(){return this.init(),Array.from(this.map.keys())}append(e,t){return this.clone({param:e,value:t,op:"a"})}appendAll(e){const t=[];return Object.keys(e).forEach(r=>{const i=e[r];Array.isArray(i)?i.forEach(o=>{t.push({param:r,value:o,op:"a"})}):t.push({param:r,value:i,op:"a"})}),this.clone(t)}set(e,t){return this.clone({param:e,value:t,op:"s"})}delete(e,t){return this.clone({param:e,value:t,op:"d"})}toString(){return this.init(),this.keys().map(e=>{const t=this.encoder.encodeKey(e);return this.map.get(e).map(r=>t+"="+this.encoder.encodeValue(r)).join("&")}).filter(e=>""!==e).join("&")}clone(e){const t=new bp({encoder:this.encoder});return t.cloneFrom=this.cloneFrom||this,t.updates=(this.updates||[]).concat(e),t}init(){null===this.map&&(this.map=new Map),null!==this.cloneFrom&&(this.cloneFrom.init(),this.cloneFrom.keys().forEach(e=>this.map.set(e,this.cloneFrom.map.get(e))),this.updates.forEach(e=>{switch(e.op){case"a":case"s":const t=("a"===e.op?this.map.get(e.param):void 0)||[];t.push(VT(e.value)),this.map.set(e.param,t);break;case"d":if(void 0===e.value){this.map.delete(e.param);break}{let r=this.map.get(e.param)||[];const i=r.indexOf(VT(e.value));-1!==i&&r.splice(i,1),r.length>0?this.map.set(e.param,r):this.map.delete(e.param)}}}),this.cloneFrom=this.updates=null)}}class YH{constructor(){this.map=new Map}set(e,t){return this.map.set(e,t),this}get(e){return this.map.has(e)||this.map.set(e,e.defaultValue()),this.map.get(e)}delete(e){return this.map.delete(e),this}has(e){return this.map.has(e)}keys(){return this.map.keys()}}function Nk(n){return typeof ArrayBuffer<"u"&&n instanceof ArrayBuffer}function Mk(n){return typeof Blob<"u"&&n instanceof Blob}function Ok(n){return typeof FormData<"u"&&n instanceof FormData}class Mw{constructor(e,t,r,i){let o;if(this.url=t,this.body=null,this.reportProgress=!1,this.withCredentials=!1,this.responseType="json",this.method=e.toUpperCase(),function JH(n){switch(n){case"DELETE":case"GET":case"HEAD":case"OPTIONS":case"JSONP":return!1;default:return!0}}(this.method)||i?(this.body=void 0!==r?r:null,o=i):o=r,o&&(this.reportProgress=!!o.reportProgress,this.withCredentials=!!o.withCredentials,o.responseType&&(this.responseType=o.responseType),o.headers&&(this.headers=o.headers),o.context&&(this.context=o.context),o.params&&(this.params=o.params)),this.headers||(this.headers=new Ph),this.context||(this.context=new YH),this.params){const c=this.params.toString();if(0===c.length)this.urlWithParams=t;else{const f=t.indexOf("?");this.urlWithParams=t+(-1===f?"?":f<t.length-1?"&":"")+c}}else this.params=new bp,this.urlWithParams=t}serializeBody(){return null===this.body?null:Nk(this.body)||Mk(this.body)||Ok(this.body)||function QH(n){return typeof URLSearchParams<"u"&&n instanceof URLSearchParams}(this.body)||"string"==typeof this.body?this.body:this.body instanceof bp?this.body.toString():"object"==typeof this.body||"boolean"==typeof this.body||Array.isArray(this.body)?JSON.stringify(this.body):this.body.toString()}detectContentTypeHeader(){return null===this.body||Ok(this.body)?null:Mk(this.body)?this.body.type||null:Nk(this.body)?null:"string"==typeof this.body?"text/plain":this.body instanceof bp?"application/x-www-form-urlencoded;charset=UTF-8":"object"==typeof this.body||"number"==typeof this.body||"boolean"==typeof this.body?"application/json":null}clone(e={}){const t=e.method||this.method,r=e.url||this.url,i=e.responseType||this.responseType,o=void 0!==e.body?e.body:this.body,c=void 0!==e.withCredentials?e.withCredentials:this.withCredentials,f=void 0!==e.reportProgress?e.reportProgress:this.reportProgress;let _=e.headers||this.headers,b=e.params||this.params;const T=e.context??this.context;return void 0!==e.setHeaders&&(_=Object.keys(e.setHeaders).reduce((M,F)=>M.set(F,e.setHeaders[F]),_)),e.setParams&&(b=Object.keys(e.setParams).reduce((M,F)=>M.set(F,e.setParams[F]),b)),new Mw(t,r,o,{params:b,headers:_,context:T,reportProgress:f,responseType:i,withCredentials:c})}}var es=(()=>((es=es||{})[es.Sent=0]="Sent",es[es.UploadProgress=1]="UploadProgress",es[es.ResponseHeader=2]="ResponseHeader",es[es.DownloadProgress=3]="DownloadProgress",es[es.Response=4]="Response",es[es.User=5]="User",es))();class CM{constructor(e,t=200,r="OK"){this.headers=e.headers||new Ph,this.status=void 0!==e.status?e.status:t,this.statusText=e.statusText||r,this.url=e.url||null,this.ok=this.status>=200&&this.status<300}}class AM extends CM{constructor(e={}){super(e),this.type=es.ResponseHeader}clone(e={}){return new AM({headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class HT extends CM{constructor(e={}){super(e),this.type=es.Response,this.body=void 0!==e.body?e.body:null}clone(e={}){return new HT({body:void 0!==e.body?e.body:this.body,headers:e.headers||this.headers,status:void 0!==e.status?e.status:this.status,statusText:e.statusText||this.statusText,url:e.url||this.url||void 0})}}class xk extends CM{constructor(e){super(e,0,"Unknown Error"),this.name="HttpErrorResponse",this.ok=!1,this.message=this.status>=200&&this.status<300?`Http failure during parsing for ${e.url||"(unknown url)"}`:`Http failure response for ${e.url||"(unknown url)"}: ${e.status} ${e.statusText}`,this.error=e.error||null}}function NM(n,e){return{body:e,headers:n.headers,context:n.context,observe:n.observe,params:n.params,reportProgress:n.reportProgress,responseType:n.responseType,withCredentials:n.withCredentials}}let Rk=(()=>{class n{constructor(t){this.handler=t}request(t,r,i={}){let o;if(t instanceof Mw)o=t;else{let _,b;_=i.headers instanceof Ph?i.headers:new Ph(i.headers),i.params&&(b=i.params instanceof bp?i.params:new bp({fromObject:i.params})),o=new Mw(t,r,void 0!==i.body?i.body:null,{headers:_,context:i.context,params:b,reportProgress:i.reportProgress,responseType:i.responseType||"json",withCredentials:i.withCredentials})}const c=At(o).pipe(mo(_=>this.handler.handle(_)));if(t instanceof Mw||"events"===i.observe)return c;const f=c.pipe(ir(_=>_ instanceof HT));switch(i.observe||"body"){case"body":switch(o.responseType){case"arraybuffer":return f.pipe((0,Pt.U)(_=>{if(null!==_.body&&!(_.body instanceof ArrayBuffer))throw new Error("Response is not an ArrayBuffer.");return _.body}));case"blob":return f.pipe((0,Pt.U)(_=>{if(null!==_.body&&!(_.body instanceof Blob))throw new Error("Response is not a Blob.");return _.body}));case"text":return f.pipe((0,Pt.U)(_=>{if(null!==_.body&&"string"!=typeof _.body)throw new Error("Response is not a string.");return _.body}));default:return f.pipe((0,Pt.U)(_=>_.body))}case"response":return f;default:throw new Error(`Unreachable: unhandled observe type ${i.observe}}`)}}delete(t,r={}){return this.request("DELETE",t,r)}get(t,r={}){return this.request("GET",t,r)}head(t,r={}){return this.request("HEAD",t,r)}jsonp(t,r){return this.request("JSONP",t,{params:(new bp).append(r,"JSONP_CALLBACK"),observe:"body",responseType:"json"})}options(t,r={}){return this.request("OPTIONS",t,r)}patch(t,r,i={}){return this.request("PATCH",t,NM(i,r))}post(t,r,i={}){return this.request("POST",t,NM(i,r))}put(t,r,i={}){return this.request("PUT",t,NM(i,r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(UT))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function Pk(n,e){return e(n)}function XH(n,e){return(t,r)=>e.intercept(t,{handle:i=>n(i,r)})}const tj=new l.OlP("HTTP_INTERCEPTORS"),Ow=new l.OlP("HTTP_INTERCEPTOR_FNS");function nj(){let n=null;return(e,t)=>(null===n&&(n=((0,l.f3M)(tj,{optional:!0})??[]).reduceRight(XH,Pk)),n(e,t))}let kk=(()=>{class n extends UT{constructor(t,r){super(),this.backend=t,this.injector=r,this.chain=null}handle(t){if(null===this.chain){const r=Array.from(new Set(this.injector.get(Ow)));this.chain=r.reduceRight((i,o)=>function ej(n,e,t){return(r,i)=>t.runInContext(()=>e(r,o=>n(o,i)))}(i,o,this.injector),Pk)}return this.chain(t,r=>this.backend.handle(r))}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(SM),l.LFG(l.lqb))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const oj=/^\)\]\}',?\n/;let Lk=(()=>{class n{constructor(t){this.xhrFactory=t}handle(t){if("JSONP"===t.method)throw new Error("Attempted to construct Jsonp request without HttpClientJsonpModule installed.");return new Kr.y(r=>{const i=this.xhrFactory.build();if(i.open(t.method,t.urlWithParams),t.withCredentials&&(i.withCredentials=!0),t.headers.forEach((L,z)=>i.setRequestHeader(L,z.join(","))),t.headers.has("Accept")||i.setRequestHeader("Accept","application/json, text/plain, */*"),!t.headers.has("Content-Type")){const L=t.detectContentTypeHeader();null!==L&&i.setRequestHeader("Content-Type",L)}if(t.responseType){const L=t.responseType.toLowerCase();i.responseType="json"!==L?L:"text"}const o=t.serializeBody();let c=null;const f=()=>{if(null!==c)return c;const L=i.statusText||"OK",z=new Ph(i.getAllResponseHeaders()),J=function aj(n){return"responseURL"in n&&n.responseURL?n.responseURL:/^X-Request-URL:/m.test(n.getAllResponseHeaders())?n.getResponseHeader("X-Request-URL"):null}(i)||t.url;return c=new AM({headers:z,status:i.status,statusText:L,url:J}),c},_=()=>{let{headers:L,status:z,statusText:J,url:ae}=f(),Ae=null;204!==z&&(Ae=typeof i.response>"u"?i.responseText:i.response),0===z&&(z=Ae?200:0);let Ue=z>=200&&z<300;if("json"===t.responseType&&"string"==typeof Ae){const qe=Ae;Ae=Ae.replace(oj,"");try{Ae=""!==Ae?JSON.parse(Ae):null}catch(Ye){Ae=qe,Ue&&(Ue=!1,Ae={error:Ye,text:Ae})}}Ue?(r.next(new HT({body:Ae,headers:L,status:z,statusText:J,url:ae||void 0})),r.complete()):r.error(new xk({error:Ae,headers:L,status:z,statusText:J,url:ae||void 0}))},b=L=>{const{url:z}=f(),J=new xk({error:L,status:i.status||0,statusText:i.statusText||"Unknown Error",url:z||void 0});r.error(J)};let T=!1;const M=L=>{T||(r.next(f()),T=!0);let z={type:es.DownloadProgress,loaded:L.loaded};L.lengthComputable&&(z.total=L.total),"text"===t.responseType&&i.responseText&&(z.partialText=i.responseText),r.next(z)},F=L=>{let z={type:es.UploadProgress,loaded:L.loaded};L.lengthComputable&&(z.total=L.total),r.next(z)};return i.addEventListener("load",_),i.addEventListener("error",b),i.addEventListener("timeout",b),i.addEventListener("abort",b),t.reportProgress&&(i.addEventListener("progress",M),null!==o&&i.upload&&i.upload.addEventListener("progress",F)),i.send(o),r.next({type:es.Sent}),()=>{i.removeEventListener("error",b),i.removeEventListener("abort",b),i.removeEventListener("load",_),i.removeEventListener("timeout",b),t.reportProgress&&(i.removeEventListener("progress",M),null!==o&&i.upload&&i.upload.removeEventListener("progress",F)),i.readyState!==i.DONE&&i.abort()}})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Na))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const MM=new l.OlP("XSRF_ENABLED"),Bk=new l.OlP("XSRF_COOKIE_NAME",{providedIn:"root",factory:()=>"XSRF-TOKEN"}),Uk=new l.OlP("XSRF_HEADER_NAME",{providedIn:"root",factory:()=>"X-XSRF-TOKEN"});class Vk{}let cj=(()=>{class n{constructor(t,r,i){this.doc=t,this.platform=r,this.cookieName=i,this.lastCookieString="",this.lastToken=null,this.parseCount=0}getToken(){if("server"===this.platform)return null;const t=this.doc.cookie||"";return t!==this.lastCookieString&&(this.parseCount++,this.lastToken=To(t,this.cookieName),this.lastCookieString=t),this.lastToken}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(l.Lbi),l.LFG(Bk))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();function dj(n,e){const t=n.url.toLowerCase();if(!(0,l.f3M)(MM)||"GET"===n.method||"HEAD"===n.method||t.startsWith("http://")||t.startsWith("https://"))return e(n);const r=(0,l.f3M)(Vk).getToken(),i=(0,l.f3M)(Uk);return null!=r&&!n.headers.has(i)&&(n=n.clone({headers:n.headers.set(i,r)})),e(n)}var ji=(()=>((ji=ji||{})[ji.Interceptors=0]="Interceptors",ji[ji.LegacyInterceptors=1]="LegacyInterceptors",ji[ji.CustomXsrfConfiguration=2]="CustomXsrfConfiguration",ji[ji.NoXsrfProtection=3]="NoXsrfProtection",ji[ji.JsonpSupport=4]="JsonpSupport",ji[ji.RequestsMadeViaParent=5]="RequestsMadeViaParent",ji))();function $y(n,e){return{\u0275kind:n,\u0275providers:e}}function hj(...n){const e=[Rk,Lk,kk,{provide:UT,useExisting:kk},{provide:SM,useExisting:Lk},{provide:Ow,useValue:dj,multi:!0},{provide:MM,useValue:!0},{provide:Vk,useClass:cj}];for(const t of n)e.push(...t.\u0275providers);return(0,l.MR2)(e)}const Hk=new l.OlP("LEGACY_INTERCEPTOR_FN");let pj=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[hj($y(ji.LegacyInterceptors,[{provide:Hk,useFactory:nj},{provide:Ow,useExisting:Hk,multi:!0}]))]}),n})();const jk="@media (min-width: 992px){.rounded-lg-3[_ngcontent-%COMP%]{border-radius:.3rem}}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}";let gj=(()=>{class n{constructor(t){this.http=t,this.data={name:"",login:"",location:"",avatar_url:""}}ngOnInit(){this.http.get("https://api.github.com/users/silvia-rus").subscribe(t=>{this.data=t,this.setImage(t.avatar_url),console.log(t)})}setImage(t){document.getElementById("img").src=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Rk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-quien-soy"]],decls:23,vars:3,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/heroes/"],[1,"rounded","container","bg-light","px-4","py-3","my-5","text-center","bg-light"],["id","img","alt","","height","175","width","175",1,"rounded","d-block","mx-auto","mb-4"],[1,"display-5","fw-bold"],[1,"col-lg-6","mx-auto"],[1,"lead","mb-4"],[1,"lead","mb-4","bi","bi-github",3,"href"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5)(7,"link",6),l.qZA(),l.TgZ(8,"body")(9,"main")(10,"div",7),l._UZ(11,"img",8),l.TgZ(12,"h1",9),l._uU(13,"\xa1Hola!"),l.qZA(),l.TgZ(14,"div",10)(15,"p",11),l._uU(16),l._UZ(17,"br"),l._uU(18," El nuevo jueguito todav\xeda no pens\xe9 c\xf3mo ser\xe1."),l.qZA(),l.TgZ(19,"p",11),l._uU(20),l._UZ(21,"br")(22,"a",12),l.qZA()()()()()()),2&t&&(l.xp6(16),l.hij("Soy ",r.data.name," y cre\xe9 esta web de Jueguitos."),l.xp6(4),l.hij("",r.data.location,"."),l.xp6(2),l.MGl("href","https://github.com/",r.data.login,"",l.LSH))},styles:[jk,jk]}),n})();const $k="html[_ngcontent-%COMP%], body[_ngcontent-%COMP%]{height:100%}body[_ngcontent-%COMP%]{display:flex;align-items:center;padding-top:40px;padding-bottom:40px;background-color:#f5f5f5}.form-signin[_ngcontent-%COMP%]{width:100%;max-width:330px;padding:15px;margin:auto}.form-signin[_ngcontent-%COMP%]   .checkbox[_ngcontent-%COMP%]{font-weight:400}.form-signin[_ngcontent-%COMP%]   .form-floating[_ngcontent-%COMP%]:focus-within{z-index:2}.form-signin[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]{margin-bottom:-1px;border-bottom-right-radius:0;border-bottom-left-radius:0}.form-signin[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{margin-bottom:10px;border-top-left-radius:0;border-top-right-radius:0}.bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}",mj=[{path:"",redirectTo:"home",pathMatch:"full"},{path:"home",component:zV},{path:"login",component:zH},{path:"quien-soy",component:gj},{path:"registro",component:(()=>{class n{constructor(t,r){this.db=t,this.fb=r,this.nuevoUsuario=this.fb.group({nombre:["",ww.required],mail:["",ww.required],contrasena:["",ww.required]})}ngOnInit(){}crearUsuario(){this.db.registro(this.nuevoUsuario.value.nombre,this.nuevoUsuario.value.mail,this.nuevoUsuario.value.contrasena)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CT),l.Y36(Sk))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-registro"]],decls:33,vars:1,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/sign-in/"],[1,"text-center"],[1,"form-signin"],[1,"rounded","container","bg-light"],[3,"formGroup","ngSubmit"],["src","../assets/videojuegos.png","alt","","width","40%","height","40%",1,"mb-4"],[1,"h3","mb-3","fw-normal"],[1,"form-floating"],["type","email","formControlName","nombre","id","floatingInput","placeholder","name@example.com",1,"form-control"],["for","floatingInput"],["type","email","formControlName","mail","id","floatingInput","placeholder","name@example.com",1,"form-control"],["type","password","formControlName","contrasena","id","floatingPassword","placeholder","Password",1,"form-control"],["for","floatingPassword"],["type","submit",1,"w-100","btn","btn-lg","btn-warning"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5)(7,"link",6),l.qZA(),l.TgZ(8,"body",7)(9,"main",8),l._UZ(10,"br"),l.TgZ(11,"div",9),l._UZ(12,"br"),l.TgZ(13,"form",10),l.NdJ("ngSubmit",function(){return r.crearUsuario()}),l._UZ(14,"img",11),l.TgZ(15,"h1",12),l._uU(16,"Registro"),l.qZA(),l.TgZ(17,"div",13),l._UZ(18,"input",14),l.TgZ(19,"label",15),l._uU(20,"Nombre"),l.qZA()(),l.TgZ(21,"div",13),l._UZ(22,"input",16),l.TgZ(23,"label",15),l._uU(24,"Email"),l.qZA()(),l.TgZ(25,"div",13),l._UZ(26,"input",17),l.TgZ(27,"label",18),l._uU(28,"Contrase\xf1a"),l.qZA()(),l.TgZ(29,"button",19),l._uU(30,"Grabar"),l.qZA(),l.TgZ(31,"p"),l._UZ(32,"br"),l.qZA()()()()()()),2&t&&(l.xp6(13),l.Q6J("formGroup",r.nuevoUsuario))},dependencies:[vM,bw,aM,lM,Nw,BT],styles:[$k,$k]}),n})()}];let _j=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[sS.forRoot(mj),sS]}),n})();var yj=U(1144);const vj=["addListener","removeListener"],bj=["addEventListener","removeEventListener"],wj=["on","off"];function io(n,e,t,r){if((0,Ts.m)(t)&&(r=t,t=void 0),r)return io(n,e,t).pipe(Uo(r));const[i,o]=function Tj(n){return(0,Ts.m)(n.addEventListener)&&(0,Ts.m)(n.removeEventListener)}(n)?bj.map(c=>f=>n[c](e,f,t)):function Ej(n){return(0,Ts.m)(n.addListener)&&(0,Ts.m)(n.removeListener)}(n)?vj.map(Gk(n,e)):function Dj(n){return(0,Ts.m)(n.on)&&(0,Ts.m)(n.off)}(n)?wj.map(Gk(n,e)):[];if(!i&&(0,yj.z)(n))return(0,vr.z)(c=>io(c,e,t))((0,is.Xf)(n));if(!i)throw new TypeError("Invalid event target");return new Kr.y(c=>{const f=(..._)=>c.next(1<_.length?_:_[0]);return i(f),()=>o(f)})}function Gk(n,e){return t=>r=>n[t](e,r)}var Ij=U(3532);function OM(n=0,e,t=YN.P){let r=-1;return null!=e&&((0,Ij.K)(e)?t=e:r=e),new Kr.y(i=>{let o=function Sj(n){return n instanceof Date&&!isNaN(n)}(n)?+n-t.now():n;o<0&&(o=0);let c=0;return t.schedule(function(){i.closed||(i.next(c++),0<=r?this.schedule(void 0,r):i.complete())},o)})}const{isArray:Cj}=Array;function zk(n){return 1===n.length&&Cj(n[0])?n[0]:n}var jT=U(5032);const Wk=new Kr.y(jT.Z);function $T(...n){const e=(0,Pi.jO)(n),t=zk(n);return t.length?new Kr.y(r=>{let i=t.map(()=>[]),o=t.map(()=>!1);r.add(()=>{i=o=null});for(let c=0;!r.closed&&c<t.length;c++)(0,is.Xf)(t[c]).subscribe((0,yr.x)(r,f=>{if(i[c].push(f),i.every(_=>_.length)){const _=i.map(b=>b.shift());r.next(e?e(..._):_),i.some((b,T)=>!b.length&&o[T])&&r.complete()}},()=>{o[c]=!0,!i[c].length&&r.complete()}));return()=>{i=o=null}}):ss.E}function Si(n){return(0,ti.e)((e,t)=>{(0,is.Xf)(n).subscribe((0,yr.x)(t,()=>t.complete(),jT.Z)),!t.closed&&e.subscribe(t)})}function xM(...n){const e=(0,Pi.jO)(n);return(0,ti.e)((t,r)=>{const i=n.length,o=new Array(i);let c=n.map(()=>!1),f=!1;for(let _=0;_<i;_++)(0,is.Xf)(n[_]).subscribe((0,yr.x)(r,b=>{o[_]=b,!f&&!c[_]&&(c[_]=!0,(f=c.every(Bo.y))&&(c=null))},jT.Z));t.subscribe((0,yr.x)(r,_=>{if(f){const b=[_,...o];r.next(e?e(...b):b)}}))})}function F$(n,e){}function L$(n,e){if(1&n&&(l.TgZ(0,"button",3),l._uU(1),l.YNc(2,F$,0,0,"ng-template",4),l.qZA()),2&n){const t=e.$implicit;l.Q6J("ngbPanelToggle",t),l.xp6(1),l.hij(" ",t.title," "),l.xp6(1),l.Q6J("ngTemplateOutlet",null==t.titleTpl?null:t.titleTpl.templateRef)}}function B$(n,e){}function U$(n,e){}function V$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",8),l.NdJ("ngbRef",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.KtG(o.panelDiv=i)}),l.TgZ(1,"div",9),l.YNc(2,U$,0,0,"ng-template",4),l.qZA()()}if(2&n){const t=l.oxw().$implicit;l.s9C("id",t.id),l.uIk("aria-labelledby",t.id+"-header"),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)}}Math,Math,Math;const H$=function(n,e){return{$implicit:n,opened:e}};function j$(n,e){if(1&n&&(l.TgZ(0,"div")(1,"div",5),l.YNc(2,B$,0,0,"ng-template",6),l.qZA(),l.YNc(3,V$,3,3,"div",7),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=l.MAs(1);l.Tol("accordion-item "+(t.cardClass||"")),l.xp6(1),l.Tol("accordion-header "+(t.type?"bg-"+t.type:r.type?"bg-"+r.type:"")),l.MGl("id","",t.id,"-header"),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.headerTpl?null:t.headerTpl.templateRef)||i)("ngTemplateOutletContext",l.WLB(8,H$,t,t.isOpen)),l.xp6(1),l.Q6J("ngIf",!r.destroyOnHide||t.isOpen||t.transitionRunning)}}const $$=["ngbAccordionBody",""];function G$(n,e){}function z$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",1),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.close())}),l.qZA()}}const KT=["*"];function q$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",6),l.NdJ("click",function(){const o=l.CHM(t).$implicit,c=l.oxw();return c.focus(),l.KtG(c.select(o.id,c.NgbSlideEventSource.INDICATOR))}),l.qZA()}if(2&n){const t=e.$implicit,r=l.oxw();l.ekj("active",t.id===r.activeId),l.uIk("aria-labelledby","slide-"+t.id)("aria-controls","slide-"+t.id)("aria-selected",t.id===r.activeId)}}function W$(n,e){}function K$(n,e){if(1&n&&(l.TgZ(0,"div",7)(1,"span",8),l.SDv(2,9),l.qZA(),l.YNc(3,W$,0,0,"ng-template",10),l.qZA()),2&n){const t=e.$implicit,r=e.index,i=e.count;l.Q6J("id","slide-"+t.id),l.xp6(2),l.pQV(r+1)(i),l.QtT(2),l.xp6(1),l.Q6J("ngTemplateOutlet",t.tplRef)}}function Z$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowLeft())}),l._UZ(1,"span",12),l.TgZ(2,"span",8),l.SDv(3,13),l.qZA()()}}function Y$(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",14),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.arrowRight())}),l._UZ(1,"span",15),l.TgZ(2,"span",8),l.SDv(3,16),l.qZA()()}}const J$=["ngbDatepickerDayView",""],Q$=["month"],X$=["year"];function e3(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.uIk("aria-label",r.i18n.getMonthFullName(t,r.date.year)),l.xp6(1),l.Oqu(r.i18n.getMonthShortName(t,r.date.year))}}function t3(n,e){if(1&n&&(l.TgZ(0,"option",5),l._uU(1),l.qZA()),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("value",t),l.xp6(1),l.Oqu(r.i18n.getYearNumerals(t))}}function n3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation-select",7),l.NdJ("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.select.emit(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.date)("disabled",t.disabled)("months",t.selectBoxes.months)("years",t.selectBoxes.years)}}function r3(n,e){1&n&&l._UZ(0,"div",0)}function i3(n,e){1&n&&l._UZ(0,"div",0)}function s3(n,e){if(1&n&&(l.YNc(0,r3,1,0,"div",9),l.TgZ(1,"div",10),l._uU(2),l.qZA(),l.YNc(3,i3,1,0,"div",9)),2&n){const t=e.$implicit,r=e.index,i=l.oxw(2);l.Q6J("ngIf",r>0),l.xp6(2),l.hij(" ",i.i18n.getMonthLabel(t.firstDate)," "),l.xp6(1),l.Q6J("ngIf",r!==i.months.length-1)}}function o3(n,e){if(1&n&&l.YNc(0,s3,4,3,"ng-template",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.months)}}function a3(n,e){if(1&n&&(l.TgZ(0,"div",5),l._uU(1),l.qZA()),2&n){const t=l.oxw(2);l.xp6(1),l.Oqu(t.i18n.getWeekLabel())}}function l3(n,e){if(1&n&&(l.TgZ(0,"div",6),l._uU(1),l.qZA()),2&n){const t=e.$implicit;l.xp6(1),l.Oqu(t)}}function u3(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,a3,2,1,"div",3),l.YNc(2,l3,2,1,"div",4),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.viewModel.weekdays)}}function c3(n,e){if(1&n&&(l.TgZ(0,"div",11),l._uU(1),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw();l.xp6(1),l.Oqu(r.i18n.getWeekNumerals(t.number))}}function d3(n,e){}function h3(n,e){if(1&n&&l.YNc(0,d3,0,0,"ng-template",14),2&n){const t=l.oxw().$implicit,r=l.oxw(3);l.Q6J("ngTemplateOutlet",r.datepicker.dayTemplate)("ngTemplateOutletContext",t.context)}}function f3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",12),l.NdJ("click",function(i){const c=l.CHM(t).$implicit;return l.oxw(3).doSelect(c),l.KtG(i.preventDefault())}),l.YNc(1,h3,1,2,"ng-template",13),l.qZA()}if(2&n){const t=e.$implicit;l.ekj("disabled",t.context.disabled)("hidden",t.hidden)("ngb-dp-today",t.context.today),l.Q6J("tabindex",t.tabindex),l.uIk("aria-label",t.ariaLabel),l.xp6(1),l.Q6J("ngIf",!t.hidden)}}function p3(n,e){if(1&n&&(l.TgZ(0,"div",8),l.YNc(1,c3,2,1,"div",9),l.YNc(2,f3,2,9,"div",10),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.xp6(1),l.Q6J("ngIf",r.datepicker.showWeekNumbers),l.xp6(1),l.Q6J("ngForOf",t.days)}}function g3(n,e){1&n&&l.YNc(0,p3,3,2,"div",7),2&n&&l.Q6J("ngIf",!e.$implicit.collapsed)}const m3=["defaultDayTemplate"],_3=["content"];function y3(n,e){if(1&n&&l._UZ(0,"div",7),2&n){const r=e.currentMonth,i=e.selected,o=e.disabled,c=e.focused;l.Q6J("date",e.date)("currentMonth",r)("selected",i)("disabled",o)("focused",c)}}function v3(n,e){if(1&n&&(l.TgZ(0,"div",12),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw(2);l.xp6(1),l.hij(" ",r.i18n.getMonthLabel(t.firstDate)," ")}}function b3(n,e){if(1&n&&(l.TgZ(0,"div",9),l.YNc(1,v3,2,1,"div",10),l._UZ(2,"ngb-datepicker-month",11),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(2);l.xp6(1),l.Q6J("ngIf","none"===r.navigation||r.displayMonths>1&&"select"===r.navigation),l.xp6(1),l.Q6J("month",t.firstDate)}}function w3(n,e){if(1&n&&l.YNc(0,b3,3,2,"div",8),2&n){const t=l.oxw();l.Q6J("ngForOf",t.model.months)}}function E3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"ngb-datepicker-navigation",13),l.NdJ("navigate",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateEvent(i))})("select",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.onNavigateDateSelect(i))}),l.qZA()}if(2&n){const t=l.oxw();l.Q6J("date",t.model.firstDate)("months",t.model.months)("disabled",t.model.disabled)("showSelect","select"===t.model.navigation)("prevDisabled",t.model.prevDisabled)("nextDisabled",t.model.nextDisabled)("selectBoxes",t.model.selectBoxes)}}function D3(n,e){}function T3(n,e){}const I3=["dialog"],S3=["ngbNavOutlet",""];function C3(n,e){}const A3=function(n){return{$implicit:n}};function N3(n,e){if(1&n&&(l.TgZ(0,"div",2),l.YNc(1,C3,0,0,"ng-template",3),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Q6J("item",t)("nav",r.nav)("role",r.paneRole),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.contentTpl?null:t.contentTpl.templateRef)||null)("ngTemplateOutletContext",l.VKq(5,A3,t.active||r.isPanelTransitioning(t)))}}function M3(n,e){if(1&n&&l.YNc(0,N3,2,7,"div",1),2&n){const t=e.$implicit,r=l.oxw();l.Q6J("ngIf",t.isPanelInDom()||r.isPanelTransitioning(t))}}function O3(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,10),l.qZA())}function x3(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,11),l.qZA())}function R3(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,12),l.qZA())}function P3(n,e){1&n&&(l.TgZ(0,"span",9),l.SDv(1,13),l.qZA())}function k3(n,e){1&n&&l._uU(0,"...")}function F3(n,e){1&n&&l._uU(0),2&n&&l.Oqu(e.$implicit)}function L3(n,e){}const B3=function(n){return{disabled:!0,currentPage:n}};function U3(n,e){if(1&n&&(l.TgZ(0,"a",18),l.YNc(1,L3,0,0,"ng-template",8),l.qZA()),2&n){const t=l.oxw(2).$implicit,r=l.oxw(),i=l.MAs(9);l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplEllipsis?null:r.tplEllipsis.templateRef)||i)("ngTemplateOutletContext",l.VKq(2,B3,t))}}function V3(n,e){}const H3=function(n,e,t){return{disabled:n,$implicit:e,currentPage:t}};function j3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"a",19),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw().$implicit;return l.oxw(2).selectPage(o),l.KtG(i.preventDefault())}),l.YNc(1,V3,0,0,"ng-template",8),l.qZA()}if(2&n){const t=l.oxw().$implicit,r=l.oxw(),i=r.disabled,o=r.$implicit,c=l.oxw(),f=l.MAs(11);l.uIk("tabindex",i?"-1":null)("aria-disabled",i?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==c.tplNumber?null:c.tplNumber.templateRef)||f)("ngTemplateOutletContext",l.kEZ(4,H3,i,t,o))}}function $3(n,e){if(1&n&&(l.TgZ(0,"li",15),l.YNc(1,U3,2,4,"a",16),l.YNc(2,j3,2,8,"a",17),l.qZA()),2&n){const t=e.$implicit,r=l.oxw(),i=r.$implicit,o=r.disabled,c=l.oxw();l.ekj("active",t===i)("disabled",c.isEllipsis(t)||o),l.uIk("aria-current",t===i?"page":null),l.xp6(1),l.Q6J("ngIf",c.isEllipsis(t)),l.xp6(1),l.Q6J("ngIf",!c.isEllipsis(t))}}function G3(n,e){1&n&&l.YNc(0,$3,3,7,"li",14),2&n&&l.Q6J("ngForOf",e.pages)}function z3(n,e){}const $M=function(n,e){return{disabled:n,currentPage:e}};function q3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",15)(1,"a",20),l.NdJ("click",function(i){return l.CHM(t),l.oxw().selectPage(1),l.KtG(i.preventDefault())}),l.YNc(2,z3,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplFirst?null:t.tplFirst.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,$M,t.previousDisabled(),t.page))}}function W3(n,e){}const K3=function(n){return{disabled:n}};function Z3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",15)(1,"a",21),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page-1),l.KtG(i.preventDefault())}),l.YNc(2,W3,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(3);l.ekj("disabled",t.previousDisabled()),l.xp6(1),l.uIk("tabindex",t.previousDisabled()?"-1":null)("aria-disabled",t.previousDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplPrevious?null:t.tplPrevious.templateRef)||r)("ngTemplateOutletContext",l.VKq(6,K3,t.previousDisabled()))}}function Y3(n,e){}function J3(n,e){}function Q3(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",15)(1,"a",22),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.page+1),l.KtG(i.preventDefault())}),l.YNc(2,J3,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(5);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplNext?null:t.tplNext.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,$M,t.nextDisabled(),t.page))}}function X3(n,e){}function eG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"li",15)(1,"a",23),l.NdJ("click",function(i){l.CHM(t);const o=l.oxw();return o.selectPage(o.pageCount),l.KtG(i.preventDefault())}),l.YNc(2,X3,0,0,"ng-template",8),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(7);l.ekj("disabled",t.nextDisabled()),l.xp6(1),l.uIk("tabindex",t.nextDisabled()?"-1":null)("aria-disabled",t.nextDisabled()?"true":null),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==t.tplLast?null:t.tplLast.templateRef)||r)("ngTemplateOutletContext",l.WLB(6,$M,t.nextDisabled(),t.page))}}const tG=function(n,e,t){return{$implicit:n,pages:e,disabled:t}};function iG(n,e){if(1&n&&(l.TgZ(0,"span"),l.SDv(1,1),l.ALo(2,"percent"),l.qZA()),2&n){const t=l.oxw();l.xp6(2),l.pQV(l.lcZ(2,1,t.getValue()/t.max)),l.QtT(1)}}function sG(n,e){1&n&&l._uU(0),2&n&&l.Oqu(100===e.fill?"\u2605":"\u2606")}function oG(n,e){}function aG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"span",2),l._uU(1),l.qZA(),l.TgZ(2,"span",3),l.NdJ("mouseenter",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.enter(o+1))})("click",function(){const o=l.CHM(t).index,c=l.oxw();return l.KtG(c.handleClick(o+1))}),l.YNc(3,oG,0,0,"ng-template",4),l.qZA()}if(2&n){const t=e.index,r=l.oxw(),i=l.MAs(1);l.xp6(1),l.hij("(",t<r.nextRate?"*":" ",")"),l.xp6(1),l.Udp("cursor",r.isInteractive()?"pointer":"default"),l.xp6(1),l.Q6J("ngTemplateOutlet",r.starTemplate||r.starTemplateFromContent||i)("ngTemplateOutletContext",r.contexts[t])}}function lG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(i.hourStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,14),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function uG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeHour(-i.hourStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,16),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function cG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(i.minuteStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,17),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function dG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.changeMinute(-i.minuteStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,18),l.qZA()()}if(2&n){const t=l.oxw();l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function hG(n,e){1&n&&(l.TgZ(0,"div",5),l._uU(1,":"),l.qZA())}function fG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(i.secondStep))}),l._UZ(1,"span",12),l.TgZ(2,"span",13),l.SDv(3,21),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function pG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"button",11),l.NdJ("click",function(){l.CHM(t);const i=l.oxw(2);return l.KtG(i.changeSecond(-i.secondStep))}),l._UZ(1,"span",15),l.TgZ(2,"span",13),l.SDv(3,22),l.qZA()()}if(2&n){const t=l.oxw(2);l.ekj("btn-sm",t.isSmallSize)("btn-lg",t.isLargeSize)("disabled",t.disabled),l.Q6J("disabled",t.disabled)}}function gG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",19),l.YNc(1,fG,4,7,"button",3),l.TgZ(2,"input",20),l.NdJ("change",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.updateSecond(i.target.value))})("blur",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.handleBlur())})("input",function(i){l.CHM(t);const o=l.oxw();return l.KtG(o.formatInput(i.target))})("keydown.ArrowUp",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(o.secondStep),l.KtG(i.preventDefault())})("keydown.ArrowDown",function(i){l.CHM(t);const o=l.oxw();return o.changeSecond(-o.secondStep),l.KtG(i.preventDefault())}),l.qZA(),l.YNc(3,pG,4,7,"button",3),l.qZA()}if(2&n){const t=l.oxw();l.xp6(1),l.Q6J("ngIf",t.spinners),l.xp6(1),l.ekj("form-control-sm",t.isSmallSize)("form-control-lg",t.isLargeSize),l.Q6J("value",t.formatMinSec(null==t.model?null:t.model.second))("readOnly",t.readonlyInputs)("disabled",t.disabled),l.xp6(1),l.Q6J("ngIf",t.spinners)}}function mG(n,e){1&n&&l._UZ(0,"div",5)}function _G(n,e){if(1&n&&(l.ynx(0),l.SDv(1,27),l.BQk()),2&n){const t=l.oxw(2);l.xp6(1),l.pQV(t.i18n.getAfternoonPeriod()),l.QtT(1)}}function yG(n,e){if(1&n&&l.SDv(0,28),2&n){const t=l.oxw(2);l.pQV(t.i18n.getMorningPeriod()),l.QtT(0)}}function vG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",23)(1,"button",24),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.toggleMeridian())}),l.YNc(2,_G,2,1,"ng-container",25),l.YNc(3,yG,1,1,"ng-template",null,26,l.W1O),l.qZA()()}if(2&n){const t=l.MAs(4),r=l.oxw();l.xp6(1),l.ekj("btn-sm",r.isSmallSize)("btn-lg",r.isLargeSize)("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.model&&r.model.hour>=12)("ngIfElse",t)}}function bG(n,e){if(1&n&&(l.TgZ(0,"strong",3),l._uU(1),l.qZA()),2&n){const t=l.oxw();l.xp6(1),l.Oqu(t.header)}}function wG(n,e){}function EG(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div",4),l.YNc(1,wG,0,0,"ng-template",5),l.TgZ(2,"button",6),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.hide())}),l.qZA()()}if(2&n){const t=l.oxw(),r=l.MAs(1);l.xp6(1),l.Q6J("ngTemplateOutlet",t.contentHeaderTpl||r)}}function DG(n,e){if(1&n&&(l.TgZ(0,"span"),l._uU(1),l.qZA()),2&n){const t=l.oxw().$implicit,r=l.oxw();l.Tol(r.highlightClass),l.xp6(1),l.Oqu(t)}}function TG(n,e){if(1&n&&l._uU(0),2&n){const t=l.oxw().$implicit;l.Oqu(t)}}function IG(n,e){if(1&n&&(l.YNc(0,DG,2,3,"span",1),l.YNc(1,TG,1,1,"ng-template",null,2,l.W1O)),2&n){const t=e.odd,r=l.MAs(2);l.Q6J("ngIf",t)("ngIfElse",r)}}function so(n){return parseInt(`${n}`,10)}function dF(n){return null!=n?`${n}`:""}function ZT(n,e,t=0){return Math.max(Math.min(n,e),t)}function Ky(n){return"string"==typeof n}function Ci(n){return!isNaN(so(n))}function gi(n){return"number"==typeof n&&isFinite(n)&&Math.floor(n)===n}function Em(n){return null!=n}function Zy(n){return Ci(n)?`0${n}`.slice(-2):""}function fF(n,e){return n&&n.className&&n.className.split&&n.className.split(/\s+/).indexOf(e)>=0}function Yy(n){return(n||document.body).getBoundingClientRect()}function pF(n){return n.normalize("NFD").replace(/[\u0300-\u036f]/g,"")}const gF={animation:!0,transitionTimerDelayMs:5},xG=()=>{},{transitionTimerDelayMs:RG}=gF,Bw=new Map,hs=(n,e,t,r)=>{let i=r.context||{};const o=Bw.get(e);if(o)switch(r.runningTransition){case"continue":return ss.E;case"stop":n.run(()=>o.transition$.complete()),i=Object.assign(o.context,i),Bw.delete(e)}const c=t(e,r.animation,i)||xG;if(!r.animation||"none"===window.getComputedStyle(e).transitionProperty)return n.run(()=>c()),At(void 0).pipe(function MG(n){return e=>new Kr.y(t=>e.subscribe({next:c=>n.run(()=>t.next(c)),error:c=>n.run(()=>t.error(c)),complete:()=>n.run(()=>t.complete())}))}(n));const f=new Mn.x,_=new Mn.x,b=f.pipe(function Nj(...n){return e=>Fl(e,At(...n))}(!0));Bw.set(e,{transition$:f,complete:()=>{_.next(),_.complete()},context:i});const T=function OG(n){const{transitionDelay:e,transitionDuration:t}=window.getComputedStyle(n);return 1e3*(parseFloat(e)+parseFloat(t))}(e);return n.runOutsideAngular(()=>{const M=io(e,"transitionend").pipe(Si(b),ir(({target:L})=>L===e));(function qk(...n){return 1===(n=zk(n)).length?(0,is.Xf)(n[0]):new Kr.y(function Aj(n){return e=>{let t=[];for(let r=0;t&&!e.closed&&r<n.length;r++)t.push((0,is.Xf)(n[r]).subscribe((0,yr.x)(e,i=>{if(t){for(let o=0;o<t.length;o++)o!==r&&t[o].unsubscribe();t=null}e.next(i)})))}}(n))})(OM(T+RG).pipe(Si(b)),M,_).pipe(Si(b)).subscribe(()=>{Bw.delete(e),n.run(()=>{c(),f.next(),f.complete()})})}),f.asObservable()},GM=(n,e,t)=>{let{direction:r,maxSize:i,dimension:o}=t;const{classList:c}=n;function f(){c.add("collapse"),"show"===r?c.add("show"):c.remove("show")}if(e)return i||(i=function kG(n,e){if(typeof navigator>"u")return"0px";const{classList:t}=n,r=t.contains("show");r||t.add("show"),n.style[e]="";const i=n.getBoundingClientRect()[e]+"px";return r||t.remove("show"),i}(n,o),t.maxSize=i,n.style[o]="show"!==r?i:"0px",c.remove("collapse"),c.remove("collapsing"),c.remove("show"),Yy(n),c.add("collapsing")),n.style[o]="show"===r?i:"0px",()=>{f(),c.remove("collapsing"),n.style[o]=""};f()};let Dm=(()=>{class n{constructor(){this.animation=gF.animation}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),mF=(()=>{class n{constructor(t){this._ngbConfig=t,this.closeOthers=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),FG=0,zM=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelHeader",""]],standalone:!0}),n})(),_F=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelTitle",""]],standalone:!0}),n})(),yF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPanelContent",""]],standalone:!0}),n})(),qM=(()=>{class n{constructor(){this.disabled=!1,this.id="ngb-panel-"+FG++,this.isOpen=!1,this.initClassDone=!1,this.transitionRunning=!1,this.shown=new l.vpe,this.hidden=new l.vpe}ngAfterContentChecked(){this.titleTpl=this.titleTpls.first,this.headerTpl=this.headerTpls.first,this.contentTpl=this.contentTpls.first}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["ngb-panel"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,_F,4),l.Suo(i,zM,4),l.Suo(i,yF,4)),2&t){let o;l.iGM(o=l.CRH())&&(r.titleTpls=o),l.iGM(o=l.CRH())&&(r.headerTpls=o),l.iGM(o=l.CRH())&&(r.contentTpls=o)}},inputs:{disabled:"disabled",id:"id",title:"title",type:"type",cardClass:"cardClass"},outputs:{shown:"shown",hidden:"hidden"},standalone:!0}),n})(),LG=(()=>{class n{constructor(t){this._El=t,this.ngbRef=new l.vpe}ngOnInit(){this.ngbRef.emit(this._El.nativeElement)}ngOnDestroy(){this.ngbRef.emit(null)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbRef",""]],outputs:{ngbRef:"ngbRef"},standalone:!0}),n})(),vF=(()=>{class n{constructor(t,r){this.accordion=t,this.panel=r}set ngbPanelToggle(t){t&&(this.panel=t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>WM)),l.Y36(qM,9))},n.\u0275dir=l.lG2({type:n,selectors:[["button","ngbPanelToggle",""]],hostAttrs:["type","button"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("click",function(){return r.accordion.toggle(r.panel.id)}),2&t&&(l.Ikx("disabled",r.panel.disabled),l.uIk("aria-expanded",r.panel.isOpen)("aria-controls",r.panel.id),l.ekj("collapsed",!r.panel.isOpen))},inputs:{ngbPanelToggle:"ngbPanelToggle"},standalone:!0}),n})(),WM=(()=>{class n{constructor(t,r,i){this._ngZone=r,this._changeDetector=i,this.activeIds=[],this.destroyOnHide=!0,this.panelChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=t.animation,this.type=t.type,this.closeOtherPanels=t.closeOthers}isExpanded(t){return this.activeIds.indexOf(t)>-1}expand(t){this._changeOpenState(this._findPanelById(t),!0)}expandAll(){this.closeOtherPanels?0===this.activeIds.length&&this.panels.length&&this._changeOpenState(this.panels.first,!0):this.panels.forEach(t=>this._changeOpenState(t,!0))}collapse(t){this._changeOpenState(this._findPanelById(t),!1)}collapseAll(){this.panels.forEach(t=>{this._changeOpenState(t,!1)})}toggle(t){const r=this._findPanelById(t);r&&this._changeOpenState(r,!r.isOpen)}ngAfterContentChecked(){Ky(this.activeIds)&&(this.activeIds=this.activeIds.split(/\s*,\s*/)),this.panels.forEach(t=>{t.isOpen=!t.disabled&&this.activeIds.indexOf(t.id)>-1}),this.activeIds.length>1&&this.closeOtherPanels&&(this._closeOthers(this.activeIds[0],!1),this._updateActiveIds()),this._ngZone.onStable.pipe(Sr(1)).subscribe(()=>{this.panels.forEach(t=>{const r=t.panelDiv;r?t.initClassDone||(t.initClassDone=!0,hs(this._ngZone,r,GM,{animation:!1,runningTransition:"continue",context:{direction:t.isOpen?"show":"hide",dimension:"height"}})):t.initClassDone=!1})})}_changeOpenState(t,r){if(null!=t&&!t.disabled&&t.isOpen!==r){let i=!1;this.panelChange.emit({panelId:t.id,nextState:r,preventDefault:()=>{i=!0}}),i||(t.isOpen=r,t.transitionRunning=!0,r&&this.closeOtherPanels&&this._closeOthers(t.id),this._updateActiveIds(),this._runTransitions(this.animation))}}_closeOthers(t,r=!0){this.panels.forEach(i=>{i.id!==t&&i.isOpen&&(i.isOpen=!1,i.transitionRunning=r)})}_findPanelById(t){return this.panels.find(r=>r.id===t)||null}_updateActiveIds(){this.activeIds=this.panels.filter(t=>t.isOpen&&!t.disabled).map(t=>t.id)}_runTransitions(t){this._changeDetector.detectChanges(),this.panels.forEach(r=>{r.transitionRunning&&hs(this._ngZone,r.panelDiv,GM,{animation:t,runningTransition:"stop",context:{direction:r.isOpen?"show":"hide",dimension:"height"}}).subscribe(()=>{r.transitionRunning=!1;const{id:o}=r;r.isOpen?(r.shown.emit(),this.shown.emit(o)):(r.hidden.emit(),this.hidden.emit(o))})})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mF),l.Y36(l.R0b),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-accordion"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,qM,4),2&t){let o;l.iGM(o=l.CRH())&&(r.panels=o)}},hostAttrs:["role","tablist",1,"accordion"],hostVars:1,hostBindings:function(t,r){2&t&&l.uIk("aria-multiselectable",!r.closeOtherPanels)},inputs:{animation:"animation",activeIds:"activeIds",closeOtherPanels:["closeOthers","closeOtherPanels"],destroyOnHide:"destroyOnHide",type:"type"},outputs:{panelChange:"panelChange",shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0,features:[l.jDz],decls:3,vars:1,consts:[["ngbPanelHeader",""],["t",""],["ngFor","",3,"ngForOf"],[1,"accordion-button",3,"ngbPanelToggle"],[3,"ngTemplateOutlet"],["role","tab",3,"id"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["role","tabpanel",3,"id","ngbRef",4,"ngIf"],["role","tabpanel",3,"id","ngbRef"],[1,"accordion-body"]],template:function(t,r){1&t&&(l.YNc(0,L$,3,3,"ng-template",0,1,l.W1O),l.YNc(2,j$,4,11,"ng-template",2)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.panels))},dependencies:[ui,jn,vF,LG,zM,ur],encapsulation:2}),n})(),BG=(()=>{class n{constructor(t){this._ngbConfig=t,this.horizontal=!1}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bF=(()=>{class n{constructor(t,r,i){this._element=t,this._zone=i,this._afterInit=!1,this._isCollapsed=!1,this.ngbCollapseChange=new l.vpe,this.shown=new l.vpe,this.hidden=new l.vpe,this.animation=r.animation,this.horizontal=r.horizontal}set collapsed(t){this._isCollapsed!==t&&(this._isCollapsed=t,this._afterInit&&this._runTransitionWithEvents(t,this.animation))}ngOnInit(){this._runTransition(this._isCollapsed,!1),this._afterInit=!0}toggle(t=this._isCollapsed){this.collapsed=!t,this.ngbCollapseChange.next(this._isCollapsed)}_runTransition(t,r){return hs(this._zone,this._element.nativeElement,GM,{animation:r,runningTransition:"stop",context:{direction:t?"hide":"show",dimension:this.horizontal?"width":"height"}})}_runTransitionWithEvents(t,r){this._runTransition(t,r).subscribe(()=>{t?this.hidden.emit():this.shown.emit()})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(BG),l.Y36(l.R0b))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbCollapse",""]],hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("collapse-horizontal",r.horizontal)},inputs:{animation:"animation",collapsed:["ngbCollapse","collapsed"],horizontal:"horizontal"},outputs:{ngbCollapseChange:"ngbCollapseChange",shown:"shown",hidden:"hidden"},exportAs:["ngbCollapse"],standalone:!0}),n})(),UG=0,wF=(()=>{class n{constructor(t){this._item=t}template(){return!1===this._item.destroyOnHide||this._item.animatingBodyCollapse?this._bodyTpl:null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>Tm)))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbAccordionBody",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,7),2&t){let o;l.iGM(o=l.CRH())&&(r._bodyTpl=o.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion-body",!0)},standalone:!0,features:[l.jDz],attrs:$$,decls:1,vars:1,consts:[[3,"ngTemplateOutlet"]],template:function(t,r){1&t&&l.YNc(0,G$,0,0,"ng-template",0),2&t&&l.Q6J("ngTemplateOutlet",r.template())},dependencies:[jn],encapsulation:2}),n})(),EF=(()=>{class n{constructor(t,r){this.item=t,this.ngbCollapse=r}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>Tm)),l.Y36(bF))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionCollapse",""]],hostAttrs:["role","region"],hostVars:4,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.collapseId),l.uIk("aria-labelledby",r.item.toggleId),l.ekj("accordion-collapse",!0))},exportAs:["ngbAccordionCollapse"],standalone:!0,features:[l.zW0([bF])]}),n})(),Tm=(()=>{class n{constructor(t,r){this._accordion=t,this._cd=r,this._subscriptions=[],this._collapsed=!0,this._id="ngb-accordion-item-"+UG++,this.animatingBodyCollapse=!1,this.destroyOnHide=this._accordion.destroyOnHide,this.disabled=!1,this.shown=new l.vpe,this.hidden=new l.vpe}set id(t){Ky(t)&&""!==t&&(this._id=t)}set collapsed(t){if(this.collapsed!==t){if(this.collapsed&&!this._accordion._ensureCanExpand(this))return;this._collapsed=t,this._cd.markForCheck(),this.collapsed||(this.animatingBodyCollapse=!0,this._cd.detectChanges()),this._collapse.ngbCollapse.animation=this._accordion.animation,this._collapse.ngbCollapse.collapsed=this.collapsed}}get collapsed(){return this._collapsed}get id(){return`${this._id}`}get toggleId(){return`${this.id}-toggle`}get collapseId(){return`${this.id}-collapse`}ngAfterContentInit(){const{ngbCollapse:t}=this._collapse;t.animation=!1,t.collapsed=this.collapsed,t.animation=this._accordion.animation,this._subscriptions.push(t.hidden.subscribe(()=>{this.animatingBodyCollapse=!1,this.hidden.emit(),this._accordion.hidden.emit(this.id)}),t.shown.subscribe(()=>{this.shown.emit(),this._accordion.shown.emit(this.id)}))}ngOnDestroy(){this._subscriptions.forEach(t=>t.unsubscribe())}toggle(){this.collapsed=!this.collapsed}expand(){this.collapsed=!1}collapse(){this.collapsed=!0}}return n.\u0275fac=function(t){return new(t||n)(l.Y36((0,l.Gpc)(()=>KM)),l.Y36(l.sBO))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordionItem",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,EF,7),2&t){let o;l.iGM(o=l.CRH())&&(r._collapse=o.first)}},hostVars:3,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.id),l.ekj("accordion-item",!0))},inputs:{id:["ngbAccordionItem","id"],destroyOnHide:"destroyOnHide",disabled:"disabled",collapsed:"collapsed"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordionItem"],standalone:!0}),n})(),KM=(()=>{class n{constructor(t){this.destroyOnHide=!0,this.shown=new l.vpe,this.hidden=new l.vpe,this._anItemWasAlreadyExpandedDuringInitialisation=!1,this.animation=t.animation,this.closeOthers=t.closeOthers}toggle(t){this._getItem(t)?.toggle()}expand(t){this._getItem(t)?.expand()}expandAll(){this.closeOthers?this._items.find(t=>!t.collapsed)||this._items.first.expand():this._items.forEach(t=>t.expand())}collapse(t){this._getItem(t)?.collapse()}collapseAll(){this._items.forEach(t=>t.collapse())}isExpanded(t){const r=this._getItem(t);return!!r&&!r.collapsed}_ensureCanExpand(t){return!(this.closeOthers&&(this._items?(this._items.find(r=>!r.collapsed&&t!==r)?.collapse(),0):this._anItemWasAlreadyExpandedDuringInitialisation||(this._anItemWasAlreadyExpandedDuringInitialisation=!0,0)))}_getItem(t){return this._items.find(r=>r.id===t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(mF))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbAccordion",""]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,Tm,4),2&t){let o;l.iGM(o=l.CRH())&&(r._items=o)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("accordion",!0)},inputs:{animation:"animation",closeOthers:"closeOthers",destroyOnHide:"destroyOnHide"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbAccordion"],standalone:!0}),n})(),TF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[WM,wF]}),n})();const jG=({classList:n})=>{n.remove("show")};let $G=(()=>{class n{constructor(t){this._ngbConfig=t,this.dismissible=!0,this.type="warning"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),GG=(()=>{class n{constructor(t,r,i,o){this._renderer=r,this._element=i,this._zone=o,this.closed=new l.vpe,this.dismissible=t.dismissible,this.type=t.type,this.animation=t.animation}close(){const t=hs(this._zone,this._element.nativeElement,jG,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>this.closed.emit()),t}ngOnChanges(t){const r=t.type;r&&!r.firstChange&&(this._renderer.removeClass(this._element.nativeElement,`alert-${r.previousValue}`),this._renderer.addClass(this._element.nativeElement,`alert-${r.currentValue}`))}ngOnInit(){this._renderer.addClass(this._element.nativeElement,`alert-${this.type}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36($G),l.Y36(l.Qsj),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-alert"]],hostAttrs:["role","alert",1,"alert","show"],hostVars:4,hostBindings:function(t,r){2&t&&l.ekj("fade",r.animation)("alert-dismissible",r.dismissible)},inputs:{animation:"animation",dismissible:"dismissible",type:"type"},outputs:{closed:"closed"},exportAs:["ngbAlert"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:KT,decls:2,vars:1,consts:function(){let e;return e=$localize`:@@ngb.alert.close:Close`,[["type","button","class","btn-close","aria-label",e,3,"click",4,"ngIf"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.Hsn(0),l.YNc(1,z$,1,0,"button",0)),2&t&&(l.xp6(1),l.Q6J("ngIf",r.dismissible))},dependencies:[ur],styles:["ngb-alert{display:block}\n"],encapsulation:2,changeDetection:0}),n})(),IF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[GG]}),n})();var Ep=(()=>(function(n){n.START="start",n.END="end"}(Ep||(Ep={})),Ep))();const SF=({classList:n})=>n.contains("carousel-item-start")||n.contains("carousel-item-end"),Uw=n=>{n.remove("carousel-item-start"),n.remove("carousel-item-end")},YT=n=>{Uw(n),n.remove("carousel-item-prev"),n.remove("carousel-item-next")},zG=(n,e,{direction:t})=>{const{classList:r}=n;return e?(SF(n)?Uw(r):(r.add("carousel-item-"+(t===Ep.START?"next":"prev")),Yy(n),r.add("carousel-item-"+t)),()=>{YT(r),r.add("active")}):(Uw(r),YT(r),void r.add("active"))},qG=(n,e,{direction:t})=>{const{classList:r}=n;return e?(SF(n)?Uw(r):r.add("carousel-item-"+t),()=>{YT(r),r.remove("active")}):(Uw(r),YT(r),void r.remove("active"))};let WG=(()=>{class n{constructor(t){this._ngbConfig=t,this.interval=5e3,this.wrap=!0,this.keyboard=!0,this.pauseOnHover=!0,this.pauseOnFocus=!0,this.showNavigationArrows=!0,this.showNavigationIndicators=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),KG=0,ZG=(()=>{class n{constructor(t){this.tplRef=t,this.id="ngb-slide-"+KG++,this.slid=new l.vpe}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbSlide",""]],inputs:{id:"id"},outputs:{slid:"slid"},standalone:!0}),n})(),YG=(()=>{class n{constructor(t,r,i,o,c){this._platformId=r,this._ngZone=i,this._cd=o,this._container=c,this.NgbSlideEventSource=Im,this._destroy$=new Mn.x,this._interval$=new Un(0),this._mouseHover$=new Un(!1),this._focused$=new Un(!1),this._pauseOnHover$=new Un(!1),this._pauseOnFocus$=new Un(!1),this._pause$=new Un(!1),this._wrap$=new Un(!1),this.slide=new l.vpe,this.slid=new l.vpe,this._transitionIds=null,this.animation=t.animation,this.interval=t.interval,this.wrap=t.wrap,this.keyboard=t.keyboard,this.pauseOnHover=t.pauseOnHover,this.pauseOnFocus=t.pauseOnFocus,this.showNavigationArrows=t.showNavigationArrows,this.showNavigationIndicators=t.showNavigationIndicators}set interval(t){this._interval$.next(t)}get interval(){return this._interval$.value}set wrap(t){this._wrap$.next(t)}get wrap(){return this._wrap$.value}set pauseOnHover(t){this._pauseOnHover$.next(t)}get pauseOnHover(){return this._pauseOnHover$.value}set pauseOnFocus(t){this._pauseOnFocus$.next(t)}get pauseOnFocus(){return this._pauseOnFocus$.value}set mouseHover(t){this._mouseHover$.next(t)}get mouseHover(){return this._mouseHover$.value}set focused(t){this._focused$.next(t)}get focused(){return this._focused$.value}arrowLeft(){this.focus(),this.prev(Im.ARROW_LEFT)}arrowRight(){this.focus(),this.next(Im.ARROW_RIGHT)}ngAfterContentInit(){(function Xu(n){return n===_d})(this._platformId)&&this._ngZone.runOutsideAngular(()=>{const t=Tu([this.slide.pipe((0,Pt.U)(r=>r.current),go(this.activeId)),this._wrap$,this.slides.changes.pipe(go(null))]).pipe((0,Pt.U)(([r,i])=>{const o=this.slides.toArray(),c=this._getSlideIdxById(r);return i?o.length>1:c<o.length-1}),TT());Tu([this._pause$,this._pauseOnHover$,this._mouseHover$,this._pauseOnFocus$,this._focused$,this._interval$,t]).pipe((0,Pt.U)(([r,i,o,c,f,_,b])=>r||i&&o||c&&f||!b?0:_),TT(),Ir(r=>r>0?OM(r,r):Wk),Si(this._destroy$)).subscribe(()=>this._ngZone.run(()=>this.next(Im.TIMER)))}),this.slides.changes.pipe(Si(this._destroy$)).subscribe(()=>{this._transitionIds?.forEach(t=>(n=>{Bw.get(n)?.complete()})(this._getSlideElement(t))),this._transitionIds=null,this._cd.markForCheck(),this._ngZone.onStable.pipe(Sr(1)).subscribe(()=>{for(const{id:t}of this.slides){const r=this._getSlideElement(t);t===this.activeId?r.classList.add("active"):r.classList.remove("active")}})})}ngAfterContentChecked(){let t=this._getSlideById(this.activeId);this.activeId=t?t.id:this.slides.length?this.slides.first.id:""}ngAfterViewInit(){if(this.activeId){const t=this._getSlideElement(this.activeId);t&&t.classList.add("active")}}ngOnDestroy(){this._destroy$.next()}select(t,r){this._cycleToSelected(t,this._getSlideEventDirection(this.activeId,t),r)}prev(t){this._cycleToSelected(this._getPrevSlide(this.activeId),Ep.END,t)}next(t){this._cycleToSelected(this._getNextSlide(this.activeId),Ep.START,t)}pause(){this._pause$.next(!0)}cycle(){this._pause$.next(!1)}focus(){this._container.nativeElement.focus()}_cycleToSelected(t,r,i){const o=this._transitionIds;if(o&&(o[0]!==t||o[1]!==this.activeId))return;let c=this._getSlideById(t);if(c&&c.id!==this.activeId){this._transitionIds=[this.activeId,t],this.slide.emit({prev:this.activeId,current:c.id,direction:r,paused:this._pause$.value,source:i});const f={animation:this.animation,runningTransition:"stop",context:{direction:r}},_=[],b=this._getSlideById(this.activeId);if(b){const L=hs(this._ngZone,this._getSlideElement(b.id),qG,f);L.subscribe(()=>{b.slid.emit({isShown:!1,direction:r,source:i})}),_.push(L)}const T=this.activeId;this.activeId=c.id;const M=this._getSlideById(this.activeId),F=hs(this._ngZone,this._getSlideElement(c.id),zG,f);F.subscribe(()=>{M?.slid.emit({isShown:!0,direction:r,source:i})}),_.push(F),$T(..._).pipe(Sr(1)).subscribe(()=>{this._transitionIds=null,this.slid.emit({prev:T,current:c.id,direction:r,paused:this._pause$.value,source:i})})}this._cd.markForCheck()}_getSlideEventDirection(t,r){return this._getSlideIdxById(t)>this._getSlideIdxById(r)?Ep.END:Ep.START}_getSlideById(t){return this.slides.find(r=>r.id===t)||null}_getSlideIdxById(t){const r=this._getSlideById(t);return null!=r?this.slides.toArray().indexOf(r):-1}_getNextSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return i===r.length-1?this.wrap?r[0].id:r[r.length-1].id:r[i+1].id}_getPrevSlide(t){const r=this.slides.toArray(),i=this._getSlideIdxById(t);return 0===i?this.wrap?r[r.length-1].id:r[0].id:r[i-1].id}_getSlideElement(t){return this._container.nativeElement.querySelector(`#slide-${t}`)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(WG),l.Y36(l.Lbi),l.Y36(l.R0b),l.Y36(l.sBO),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-carousel"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,ZG,4),2&t){let o;l.iGM(o=l.CRH())&&(r.slides=o)}},hostAttrs:["tabIndex","0",1,"carousel","slide"],hostVars:3,hostBindings:function(t,r){1&t&&l.NdJ("keydown.arrowLeft",function(){return r.keyboard&&r.arrowLeft()})("keydown.arrowRight",function(){return r.keyboard&&r.arrowRight()})("mouseenter",function(){return r.mouseHover=!0})("mouseleave",function(){return r.mouseHover=!1})("focusin",function(){return r.focused=!0})("focusout",function(){return r.focused=!1}),2&t&&(l.uIk("aria-activedescendant","slide-"+r.activeId),l.Udp("display","block"))},inputs:{animation:"animation",activeId:"activeId",interval:"interval",wrap:"wrap",keyboard:"keyboard",pauseOnHover:"pauseOnHover",pauseOnFocus:"pauseOnFocus",showNavigationArrows:"showNavigationArrows",showNavigationIndicators:"showNavigationIndicators"},outputs:{slide:"slide",slid:"slid"},exportAs:["ngbCarousel"],standalone:!0,features:[l.jDz],decls:6,vars:6,consts:function(){let e,t,r;return e=$localize`:Currently selected slide number read by screen reader@@ngb.carousel.slide-number: Slide ${"\ufffd0\ufffd"}:INTERPOLATION: of ${"\ufffd1\ufffd"}:INTERPOLATION_1: `,t=$localize`:@@ngb.carousel.previous:Previous`,r=$localize`:@@ngb.carousel.next:Next`,[["role","tablist",1,"carousel-indicators"],["type","button","data-bs-target","","role","tab",3,"active","click",4,"ngFor","ngForOf"],[1,"carousel-inner"],["class","carousel-item","role","tabpanel",3,"id",4,"ngFor","ngForOf"],["class","carousel-control-prev","type","button",3,"click",4,"ngIf"],["class","carousel-control-next","type","button",3,"click",4,"ngIf"],["type","button","data-bs-target","","role","tab",3,"click"],["role","tabpanel",1,"carousel-item",3,"id"],[1,"visually-hidden"],e,[3,"ngTemplateOutlet"],["type","button",1,"carousel-control-prev",3,"click"],["aria-hidden","true",1,"carousel-control-prev-icon"],t,["type","button",1,"carousel-control-next",3,"click"],["aria-hidden","true",1,"carousel-control-next-icon"],r]},template:function(t,r){1&t&&(l.TgZ(0,"div",0),l.YNc(1,q$,1,5,"button",1),l.qZA(),l.TgZ(2,"div",2),l.YNc(3,K$,4,4,"div",3),l.qZA(),l.YNc(4,Z$,4,0,"button",4),l.YNc(5,Y$,4,0,"button",5)),2&t&&(l.ekj("visually-hidden",!r.showNavigationIndicators),l.xp6(1),l.Q6J("ngForOf",r.slides),l.xp6(2),l.Q6J("ngForOf",r.slides),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows),l.xp6(1),l.Q6J("ngIf",r.showNavigationArrows))},dependencies:[ui,jn,ur],encapsulation:2,changeDetection:0}),n})();var Im=(()=>(function(n){n.TIMER="timer",n.ARROW_LEFT="arrowLeft",n.ARROW_RIGHT="arrowRight",n.INDICATOR="indicator"}(Im||(Im={})),Im))();let CF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[YG]}),n})(),AF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class fs{constructor(e,t,r){this.year=gi(e)?e:null,this.month=gi(t)?t:null,this.day=gi(r)?r:null}static from(e){return e instanceof fs?e:e?new fs(e.year,e.month,e.day):null}equals(e){return null!=e&&this.year===e.year&&this.month===e.month&&this.day===e.day}before(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day<e.day:this.month<e.month:this.year<e.year)}after(e){return!!e&&(this.year===e.year?this.month===e.month?this.day!==e.day&&this.day>e.day:this.month>e.month:this.year>e.year)}}function Jy(n,e){return!function JG(n,e){return!n&&!e||!!n&&!!e&&n.equals(e)}(n,e)}function NF(n,e){return!(!n&&!e||n&&e&&n.year===e.year&&n.month===e.month)}function JT(n,e,t){return n&&e&&n.before(e)?e:n&&t&&n.after(t)?t:n||null}function ZM(n,e){const{minDate:t,maxDate:r,disabled:i,markDisabled:o}=e;return!(null==n||i||o&&o(n,{year:n.year,month:n.month})||t&&n.before(t)||r&&n.after(r))}function MF(n){return new fs(n.getFullYear(),n.getMonth()+1,n.getDate())}function QT(n){const e=new Date(n.year,n.month-1,n.day,12);return isNaN(e.getTime())||e.setFullYear(n.year),e}let XT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function o6(){return new a6}()},providedIn:"root"}),n})(),a6=(()=>{class n extends XT{getDaysPerWeek(){return 7}getMonths(){return[1,2,3,4,5,6,7,8,9,10,11,12]}getWeeksPerMonth(){return 6}getNext(t,r="d",i=1){let o=QT(t),c=!0,f=o.getMonth();switch(r){case"y":o.setFullYear(o.getFullYear()+i);break;case"m":f+=i,o.setMonth(f),f%=12,f<0&&(f+=12);break;case"d":o.setDate(o.getDate()+i),c=!1;break;default:return t}return c&&o.getMonth()!==f&&o.setDate(0),MF(o)}getPrev(t,r="d",i=1){return this.getNext(t,r,-i)}getWeekday(t){let i=QT(t).getDay();return 0===i?7:i}getWeekNumber(t,r){7===r&&(r=0);const c=QT(t[(11-r)%7]);c.setDate(c.getDate()+4-(c.getDay()||7));const f=c.getTime();return c.setMonth(0),c.setDate(1),Math.floor(Math.round((f-c.getTime())/864e5)/7)+1}getToday(){return MF(new Date)}isValid(t){if(!(t&&gi(t.year)&&gi(t.month)&&gi(t.day)&&0!==t.year))return!1;const r=QT(t);return!isNaN(r.getTime())&&r.getFullYear()===t.year&&r.getMonth()+1===t.month&&r.getDate()===t.day}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),Sm=(()=>{class n{getMonthLabel(t){return`${this.getMonthFullName(t.month,t.year)} ${this.getYearNumerals(t.year)}`}getDayNumerals(t){return`${t.day}`}getWeekNumerals(t){return`${t}`}getYearNumerals(t){return`${t}`}getWeekLabel(){return""}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function l6(n){return new u6(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),u6=(()=>{class n extends Sm{constructor(t){super(),this._locale=t,this._monthsShort=tt(t,Mt.Standalone,st.Abbreviated),this._monthsFull=tt(t,Mt.Standalone,st.Wide)}getWeekdayLabel(t,r){const i=Be(this._locale,Mt.Standalone,void 0===r?st.Short:r);return i.map((c,f)=>i[(f+1)%7])[t-1]||""}getMonthShortName(t){return this._monthsShort[t-1]||""}getMonthFullName(t){return this._monthsFull[t-1]||""}getDayAriaLabel(t){return $r(new Date(t.year,t.month-1,t.day),"fullDate",this._locale)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),YM=(()=>{class n{constructor(t,r){this._calendar=t,this._i18n=r,this._VALIDATORS={dayTemplateData:i=>{if(this._state.dayTemplateData!==i)return{dayTemplateData:i}},displayMonths:i=>{if(gi(i=so(i))&&i>0&&this._state.displayMonths!==i)return{displayMonths:i}},disabled:i=>{if(this._state.disabled!==i)return{disabled:i}},firstDayOfWeek:i=>{if(gi(i=so(i))&&i>=0&&this._state.firstDayOfWeek!==i)return{firstDayOfWeek:i}},focusVisible:i=>{if(this._state.focusVisible!==i&&!this._state.disabled)return{focusVisible:i}},markDisabled:i=>{if(this._state.markDisabled!==i)return{markDisabled:i}},maxDate:i=>{const o=this.toValidDate(i,null);if(Jy(this._state.maxDate,o))return{maxDate:o}},minDate:i=>{const o=this.toValidDate(i,null);if(Jy(this._state.minDate,o))return{minDate:o}},navigation:i=>{if(this._state.navigation!==i)return{navigation:i}},outsideDays:i=>{if(this._state.outsideDays!==i)return{outsideDays:i}},weekdays:i=>{const o=!0===i||!1===i?st.Short:i,c=!0!==i&&!1!==i||i;if(this._state.weekdayWidth!==o||this._state.weekdaysVisible!==c)return{weekdayWidth:o,weekdaysVisible:c}}},this._model$=new Mn.x,this._dateSelect$=new Mn.x,this._state={dayTemplateData:null,markDisabled:null,maxDate:null,minDate:null,disabled:!1,displayMonths:1,firstDate:null,firstDayOfWeek:1,lastDate:null,focusDate:null,focusVisible:!1,months:[],navigation:"select",outsideDays:"visible",prevDisabled:!1,nextDisabled:!1,selectedDate:null,selectBoxes:{years:[],months:[]},weekdayWidth:st.Short,weekdaysVisible:!0}}get model$(){return this._model$.pipe(ir(t=>t.months.length>0))}get dateSelect$(){return this._dateSelect$.pipe(ir(t=>null!==t))}set(t){let r=Object.keys(t).map(i=>this._VALIDATORS[i](t[i])).reduce((i,o)=>({...i,...o}),{});Object.keys(r).length>0&&this._nextState(r)}focus(t){const r=this.toValidDate(t,null);null!=r&&!this._state.disabled&&Jy(this._state.focusDate,r)&&this._nextState({focusDate:t})}focusSelect(){ZM(this._state.focusDate,this._state)&&this.select(this._state.focusDate,{emitEvent:!0})}open(t){const r=this.toValidDate(t,this._calendar.getToday());null!=r&&!this._state.disabled&&(!this._state.firstDate||NF(this._state.firstDate,r))&&this._nextState({firstDate:r})}select(t,r={}){const i=this.toValidDate(t,null);null!=i&&!this._state.disabled&&(Jy(this._state.selectedDate,i)&&this._nextState({selectedDate:i}),r.emitEvent&&ZM(i,this._state)&&this._dateSelect$.next(i))}toValidDate(t,r){const i=fs.from(t);return void 0===r&&(r=this._calendar.getToday()),this._calendar.isValid(i)?i:r}getMonth(t){for(let r of this._state.months)if(t.month===r.number&&t.year===r.year)return r;throw new Error(`month ${t.month} of year ${t.year} not found`)}_nextState(t){const r=this._updateState(t);this._patchContexts(r),this._state=r,this._model$.next(this._state)}_patchContexts(t){const{months:r,displayMonths:i,selectedDate:o,focusDate:c,focusVisible:f,disabled:_,outsideDays:b}=t;t.months.forEach(T=>{T.weeks.forEach(M=>{M.days.forEach(F=>{c&&(F.context.focused=c.equals(F.date)&&f),F.tabindex=!_&&c&&F.date.equals(c)&&c.month===T.number?0:-1,!0===_&&(F.context.disabled=!0),void 0!==o&&(F.context.selected=null!==o&&o.equals(F.date)),T.number!==F.date.month&&(F.hidden="hidden"===b||"collapsed"===b||i>1&&F.date.after(r[0].firstDate)&&F.date.before(r[i-1].lastDate))})})})}_updateState(t){const r=Object.assign({},this._state,t);let i=r.firstDate;if(("minDate"in t||"maxDate"in t)&&(function QG(n,e){if(e&&n&&e.before(n))throw new Error(`'maxDate' ${e} should be greater than 'minDate' ${n}`)}(r.minDate,r.maxDate),r.focusDate=JT(r.focusDate,r.minDate,r.maxDate),r.firstDate=JT(r.firstDate,r.minDate,r.maxDate),i=r.focusDate),"disabled"in t&&(r.focusVisible=!1),"selectedDate"in t&&0===this._state.months.length&&(i=r.selectedDate),"focusVisible"in t||"focusDate"in t&&(r.focusDate=JT(r.focusDate,r.minDate,r.maxDate),i=r.focusDate,0!==r.months.length&&r.focusDate&&!r.focusDate.before(r.firstDate)&&!r.focusDate.after(r.lastDate)))return r;if("firstDate"in t&&(r.firstDate=JT(r.firstDate,r.minDate,r.maxDate),i=r.firstDate),i){const c=function r6(n,e,t,r,i){const{displayMonths:o,months:c}=t,f=c.splice(0,c.length);return Array.from({length:o},(b,T)=>{const M=Object.assign(n.getNext(e,"m",T),{day:1});if(c[T]=null,!i){const F=f.findIndex(L=>L.firstDate.equals(M));-1!==F&&(c[T]=f.splice(F,1)[0])}return M}).forEach((b,T)=>{null===c[T]&&(c[T]=function i6(n,e,t,r,i={}){const{dayTemplateData:o,minDate:c,maxDate:f,firstDayOfWeek:_,markDisabled:b,outsideDays:T,weekdayWidth:M,weekdaysVisible:F}=t,L=n.getToday();i.firstDate=null,i.lastDate=null,i.number=e.month,i.year=e.year,i.weeks=i.weeks||[],i.weekdays=i.weekdays||[],e=function s6(n,e,t){const r=n.getDaysPerWeek(),i=new fs(e.year,e.month,1),o=n.getWeekday(i)%r;return n.getPrev(i,"d",(r+o-t)%r)}(n,e,_),F||(i.weekdays.length=0);for(let z=0;z<n.getWeeksPerMonth();z++){let J=i.weeks[z];J||(J=i.weeks[z]={number:0,days:[],collapsed:!0});const ae=J.days;for(let Ae=0;Ae<n.getDaysPerWeek();Ae++){0===z&&F&&(i.weekdays[Ae]=r.getWeekdayLabel(n.getWeekday(e),M));const Ue=new fs(e.year,e.month,e.day),qe=n.getNext(Ue),Ye=r.getDayAriaLabel(Ue);let dt=!!(c&&Ue.before(c)||f&&Ue.after(f));!dt&&b&&(dt=b(Ue,{month:i.number,year:i.year}));let vt=Ue.equals(L),qt=o?o(Ue,{month:i.number,year:i.year}):void 0;null===i.firstDate&&Ue.month===i.number&&(i.firstDate=Ue),Ue.month===i.number&&qe.month!==i.number&&(i.lastDate=Ue);let gn=ae[Ae];gn||(gn=ae[Ae]={}),gn.date=Ue,gn.context=Object.assign(gn.context||{},{$implicit:Ue,date:Ue,data:qt,currentMonth:i.number,currentYear:i.year,disabled:dt,focused:!1,selected:!1,today:vt}),gn.tabindex=-1,gn.ariaLabel=Ye,gn.hidden=!1,e=qe}J.number=n.getWeekNumber(ae.map(Ae=>Ae.date),_),J.collapsed="collapsed"===T&&ae[0].date.month!==i.number&&ae[ae.length-1].date.month!==i.number}return i}(n,b,t,r,f.shift()||{}))}),c}(this._calendar,i,r,this._i18n,"dayTemplateData"in t||"firstDayOfWeek"in t||"markDisabled"in t||"minDate"in t||"maxDate"in t||"disabled"in t||"outsideDays"in t||"weekdaysVisible"in t);r.months=c,r.firstDate=c[0].firstDate,r.lastDate=c[c.length-1].lastDate,"selectedDate"in t&&!ZM(r.selectedDate,r)&&(r.selectedDate=null),"firstDate"in t&&(!r.focusDate||r.focusDate.before(r.firstDate)||r.focusDate.after(r.lastDate))&&(r.focusDate=i);const f=!this._state.firstDate||this._state.firstDate.year!==r.firstDate.year,_=!this._state.firstDate||this._state.firstDate.month!==r.firstDate.month;"select"===r.navigation?(("minDate"in t||"maxDate"in t||0===r.selectBoxes.years.length||f)&&(r.selectBoxes.years=function e6(n,e,t){if(!n)return[];const r=e?Math.max(e.year,n.year-500):n.year-10,o=(t?Math.min(t.year,n.year+500):n.year+10)-r+1,c=Array(o);for(let f=0;f<o;f++)c[f]=r+f;return c}(r.firstDate,r.minDate,r.maxDate)),("minDate"in t||"maxDate"in t||0===r.selectBoxes.months.length||f)&&(r.selectBoxes.months=function XG(n,e,t,r){if(!e)return[];let i=n.getMonths(e.year);if(t&&e.year===t.year){const o=i.findIndex(c=>c===t.month);i=i.slice(o)}if(r&&e.year===r.year){const o=i.findIndex(c=>c===r.month);i=i.slice(0,o+1)}return i}(this._calendar,r.firstDate,r.minDate,r.maxDate))):r.selectBoxes={years:[],months:[]},("arrows"===r.navigation||"select"===r.navigation)&&(_||f||"minDate"in t||"maxDate"in t||"disabled"in t)&&(r.prevDisabled=r.disabled||function n6(n,e,t){const r=Object.assign(n.getPrev(e,"m"),{day:1});return null!=t&&(r.year===t.year&&r.month<t.month||r.year<t.year&&1===t.month)}(this._calendar,r.firstDate,r.minDate),r.nextDisabled=r.disabled||function t6(n,e,t){const r=Object.assign(n.getNext(e,"m"),{day:1});return null!=t&&r.after(t)}(this._calendar,r.lastDate,r.maxDate))}return r}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(XT),l.LFG(Sm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();var Qy=(()=>(function(n){n[n.PREV=0]="PREV",n[n.NEXT=1]="NEXT"}(Qy||(Qy={})),Qy))();let c6=(()=>{class n{constructor(t){this.i18n=t}isMuted(){return!this.selected&&(this.date.month!==this.currentMonth||this.disabled)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbDatepickerDayView",""]],hostAttrs:[1,"btn-light"],hostVars:10,hostBindings:function(t,r){2&t&&l.ekj("bg-primary",r.selected)("text-white",r.selected)("text-muted",r.isMuted())("outside",r.isMuted())("active",r.focused)},inputs:{currentMonth:"currentMonth",date:"date",disabled:"disabled",focused:"focused",selected:"selected"},standalone:!0,features:[l.jDz],attrs:J$,decls:1,vars:1,template:function(t,r){1&t&&l._uU(0),2&t&&l.Oqu(r.i18n.getDayNumerals(r.date))},styles:["[ngbDatepickerDayView]{text-align:center;width:2rem;height:2rem;line-height:2rem;border-radius:.25rem;background:transparent}[ngbDatepickerDayView]:hover:not(.bg-primary),[ngbDatepickerDayView].active:not(.bg-primary){background-color:var(--bs-btn-bg);outline:1px solid var(--bs-border-color)}[ngbDatepickerDayView].outside{opacity:.5}\n"],encapsulation:2,changeDetection:0}),n})(),d6=(()=>{class n{constructor(t,r){this.i18n=t,this._renderer=r,this.select=new l.vpe,this._month=-1,this._year=-1}changeMonth(t){this.select.emit(new fs(this.date.year,so(t),1))}changeYear(t){this.select.emit(new fs(so(t),this.date.month,1))}ngAfterViewChecked(){this.date&&(this.date.month!==this._month&&(this._month=this.date.month,this._renderer.setProperty(this.monthSelect.nativeElement,"value",this._month)),this.date.year!==this._year&&(this._year=this.date.year,this._renderer.setProperty(this.yearSelect.nativeElement,"value",this._year)))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sm),l.Y36(l.Qsj))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation-select"]],viewQuery:function(t,r){if(1&t&&(l.Gf(Q$,7,l.SBq),l.Gf(X$,7,l.SBq)),2&t){let i;l.iGM(i=l.CRH())&&(r.monthSelect=i.first),l.iGM(i=l.CRH())&&(r.yearSelect=i.first)}},inputs:{date:"date",disabled:"disabled",months:"months",years:"years"},outputs:{select:"select"},standalone:!0,features:[l.jDz],decls:6,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.select-month:Select month`,t=$localize`:@@ngb.datepicker.select-month:Select month`,r=$localize`:@@ngb.datepicker.select-year:Select year`,i=$localize`:@@ngb.datepicker.select-year:Select year`,[["aria-label",e,"title",t,1,"form-select",3,"disabled","change"],["month",""],[3,"value",4,"ngFor","ngForOf"],["aria-label",r,"title",i,1,"form-select",3,"disabled","change"],["year",""],[3,"value"]]},template:function(t,r){1&t&&(l.TgZ(0,"select",0,1),l.NdJ("change",function(o){return r.changeMonth(o.target.value)}),l.YNc(2,e3,2,3,"option",2),l.qZA(),l.TgZ(3,"select",3,4),l.NdJ("change",function(o){return r.changeYear(o.target.value)}),l.YNc(5,t3,2,2,"option",2),l.qZA()),2&t&&(l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.months),l.xp6(1),l.Q6J("disabled",r.disabled),l.xp6(2),l.Q6J("ngForOf",r.years))},dependencies:[ui],styles:["ngb-datepicker-navigation-select>.form-select{flex:1 1 auto;padding:0 .5rem;font-size:.875rem;height:1.85rem}ngb-datepicker-navigation-select>.form-select:focus{z-index:1}ngb-datepicker-navigation-select>.form-select::-ms-value{background-color:transparent!important}\n"],encapsulation:2,changeDetection:0}),n})(),h6=(()=>{class n{constructor(t){this.i18n=t,this.navigation=Qy,this.months=[],this.navigate=new l.vpe,this.select=new l.vpe}onClickPrev(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.PREV)}onClickNext(t){t.currentTarget.focus(),this.navigate.emit(this.navigation.NEXT)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sm))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-navigation"]],inputs:{date:"date",disabled:"disabled",months:"months",showSelect:"showSelect",prevDisabled:"prevDisabled",nextDisabled:"nextDisabled",selectBoxes:"selectBoxes"},outputs:{navigate:"navigate",select:"select"},standalone:!0,features:[l.jDz],decls:8,vars:4,consts:function(){let e,t,r,i;return e=$localize`:@@ngb.datepicker.previous-month:Previous month`,t=$localize`:@@ngb.datepicker.previous-month:Previous month`,r=$localize`:@@ngb.datepicker.next-month:Next month`,i=$localize`:@@ngb.datepicker.next-month:Next month`,[[1,"ngb-dp-arrow"],["type","button","aria-label",e,"title",t,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-chevron"],["class","ngb-dp-navigation-select",3,"date","disabled","months","years","select",4,"ngIf"],[4,"ngIf"],[1,"ngb-dp-arrow","right"],["type","button","aria-label",r,"title",i,1,"btn","btn-link","ngb-dp-arrow-btn",3,"disabled","click"],[1,"ngb-dp-navigation-select",3,"date","disabled","months","years","select"],["ngFor","",3,"ngForOf"],["class","ngb-dp-arrow",4,"ngIf"],[1,"ngb-dp-month-name"]]},template:function(t,r){1&t&&(l.TgZ(0,"div",0)(1,"button",1),l.NdJ("click",function(o){return r.onClickPrev(o)}),l._UZ(2,"span",2),l.qZA()(),l.YNc(3,n3,1,4,"ngb-datepicker-navigation-select",3),l.YNc(4,o3,1,1,null,4),l.TgZ(5,"div",5)(6,"button",6),l.NdJ("click",function(o){return r.onClickNext(o)}),l._UZ(7,"span",2),l.qZA()()),2&t&&(l.xp6(1),l.Q6J("disabled",r.prevDisabled),l.xp6(2),l.Q6J("ngIf",r.showSelect),l.xp6(1),l.Q6J("ngIf",!r.showSelect),l.xp6(2),l.Q6J("disabled",r.nextDisabled))},dependencies:[ur,ui,d6],styles:["ngb-datepicker-navigation{display:flex;align-items:center}.ngb-dp-navigation-chevron{border-style:solid;border-width:.2em .2em 0 0;display:inline-block;width:.75em;height:.75em;margin-left:.25em;margin-right:.15em;transform:rotate(-135deg)}.ngb-dp-arrow{display:flex;flex:1 1 auto;padding-right:0;padding-left:0;margin:0;width:2rem;height:2rem}.ngb-dp-arrow.right{justify-content:flex-end}.ngb-dp-arrow.right .ngb-dp-navigation-chevron{transform:rotate(45deg);margin-left:.15em;margin-right:.25em}.ngb-dp-arrow-btn{padding:0 .25rem;margin:0 .5rem;border:none;background-color:transparent;z-index:1}.ngb-dp-arrow-btn:focus{outline-width:1px;outline-style:auto}@media all and (-ms-high-contrast: none),(-ms-high-contrast: active){.ngb-dp-arrow-btn:focus{outline-style:solid}}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center}.ngb-dp-navigation-select{display:flex;flex:1 1 9rem}\n"],encapsulation:2,changeDetection:0}),n})();var Vn=(()=>(function(n){n[n.Tab=9]="Tab",n[n.Enter=13]="Enter",n[n.Escape=27]="Escape",n[n.Space=32]="Space",n[n.PageUp=33]="PageUp",n[n.PageDown=34]="PageDown",n[n.End=35]="End",n[n.Home=36]="Home",n[n.ArrowLeft=37]="ArrowLeft",n[n.ArrowUp=38]="ArrowUp",n[n.ArrowRight=39]="ArrowRight",n[n.ArrowDown=40]="ArrowDown"}(Vn||(Vn={})),Vn))();let f6=(()=>{class n{processKey(t,r){const{state:i,calendar:o}=r;switch(t.which){case Vn.PageUp:r.focusDate(o.getPrev(i.focusedDate,t.shiftKey?"y":"m",1));break;case Vn.PageDown:r.focusDate(o.getNext(i.focusedDate,t.shiftKey?"y":"m",1));break;case Vn.End:r.focusDate(t.shiftKey?i.maxDate:i.lastDate);break;case Vn.Home:r.focusDate(t.shiftKey?i.minDate:i.firstDate);break;case Vn.ArrowLeft:r.focusDate(o.getPrev(i.focusedDate,"d",1));break;case Vn.ArrowUp:r.focusDate(o.getPrev(i.focusedDate,"d",o.getDaysPerWeek()));break;case Vn.ArrowRight:r.focusDate(o.getNext(i.focusedDate,"d",1));break;case Vn.ArrowDown:r.focusDate(o.getNext(i.focusedDate,"d",o.getDaysPerWeek()));break;case Vn.Enter:case Vn.Space:r.focusSelect();break;default:return}t.preventDefault(),t.stopPropagation()}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),JM=(()=>{class n{constructor(){this.displayMonths=1,this.firstDayOfWeek=1,this.navigation="select",this.outsideDays="visible",this.showWeekNumbers=!1,this.weekdays=st.Short}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),QM=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function p6(){return new g6}()},providedIn:"root"}),n})(),g6=(()=>{class n extends QM{fromModel(t){return t&&gi(t.year)&&gi(t.month)&&gi(t.day)?{year:t.year,month:t.month,day:t.day}:null}toModel(t){return t&&gi(t.year)&&gi(t.month)&&gi(t.day)?{year:t.year,month:t.month,day:t.day}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),OF=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbDatepickerContent",""]],standalone:!0}),n})(),XM=(()=>{class n{constructor(t,r,i,o){this.i18n=t,this.datepicker=r,this._keyboardService=i,this._service=o}set month(t){this.viewModel=this._service.getMonth(t)}onKeyDown(t){this._keyboardService.processKey(t,this.datepicker)}doSelect(t){!t.context.disabled&&!t.hidden&&this.datepicker.onDateSelect(t.date)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(Sm),l.Y36((0,l.Gpc)(()=>eI)),l.Y36(f6),l.Y36(YM))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker-month"]],hostAttrs:["role","grid"],hostBindings:function(t,r){1&t&&l.NdJ("keydown",function(o){return r.onKeyDown(o)})},inputs:{month:"month"},standalone:!0,features:[l.jDz],decls:2,vars:2,consts:[["class","ngb-dp-week ngb-dp-weekdays","role","row",4,"ngIf"],["ngFor","",3,"ngForOf"],["role","row",1,"ngb-dp-week","ngb-dp-weekdays"],["class","ngb-dp-weekday ngb-dp-showweek small",4,"ngIf"],["class","ngb-dp-weekday small","role","columnheader",4,"ngFor","ngForOf"],[1,"ngb-dp-weekday","ngb-dp-showweek","small"],["role","columnheader",1,"ngb-dp-weekday","small"],["class","ngb-dp-week","role","row",4,"ngIf"],["role","row",1,"ngb-dp-week"],["class","ngb-dp-week-number small text-muted",4,"ngIf"],["class","ngb-dp-day","role","gridcell",3,"disabled","tabindex","hidden","ngb-dp-today","click",4,"ngFor","ngForOf"],[1,"ngb-dp-week-number","small","text-muted"],["role","gridcell",1,"ngb-dp-day",3,"tabindex","click"],[3,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,u3,3,2,"div",0),l.YNc(1,g3,1,1,"ng-template",1)),2&t&&(l.Q6J("ngIf",r.viewModel.weekdays.length>0),l.xp6(1),l.Q6J("ngForOf",r.viewModel.weeks))},dependencies:[ur,ui,jn],styles:['ngb-datepicker-month{display:block}.ngb-dp-weekday,.ngb-dp-week-number{line-height:2rem;text-align:center;font-style:italic}.ngb-dp-weekday{color:var(--bs-info)}.ngb-dp-week{border-radius:.25rem;display:flex}.ngb-dp-weekdays{border-bottom:1px solid var(--bs-border-color);border-radius:0;background-color:var(--bs-light)}.ngb-dp-day,.ngb-dp-weekday,.ngb-dp-week-number{width:2rem;height:2rem}.ngb-dp-day{cursor:pointer}.ngb-dp-day.disabled,.ngb-dp-day.hidden{cursor:default;pointer-events:none}.ngb-dp-day[tabindex="0"]{z-index:1}\n'],encapsulation:2}),n})(),eI=(()=>{class n{constructor(t,r,i,o,c,f,_,b){this._service=t,this._calendar=r,this.i18n=i,this._elementRef=f,this._ngbDateAdapter=_,this._ngZone=b,this._controlValue=null,this._destroyed$=new Mn.x,this._publicState={},this.navigate=new l.vpe,this.dateSelect=new l.vpe,this.onChange=T=>{},this.onTouched=()=>{},["dayTemplate","dayTemplateData","displayMonths","firstDayOfWeek","footerTemplate","markDisabled","minDate","maxDate","navigation","outsideDays","showWeekNumbers","startDate","weekdays"].forEach(T=>this[T]=o[T]),t.dateSelect$.pipe(Si(this._destroyed$)).subscribe(T=>{this.dateSelect.emit(T)}),t.model$.pipe(Si(this._destroyed$)).subscribe(T=>{const M=T.firstDate,F=this.model?this.model.firstDate:null;this._publicState={maxDate:T.maxDate,minDate:T.minDate,firstDate:T.firstDate,lastDate:T.lastDate,focusedDate:T.focusDate,months:T.months.map(Ae=>Ae.firstDate)};let L=!1;if(!M.equals(F)&&(this.navigate.emit({current:F?{year:F.year,month:F.month}:null,next:{year:M.year,month:M.month},preventDefault:()=>L=!0}),L&&null!==F))return void this._service.open(F);const z=T.selectedDate,J=T.focusDate,ae=this.model?this.model.focusDate:null;this.model=T,Jy(z,this._controlValue)&&(this._controlValue=z,this.onTouched(),this.onChange(this._ngbDateAdapter.toModel(z))),Jy(J,ae)&&ae&&T.focusVisible&&this.focus(),c.markForCheck()})}get state(){return this._publicState}get calendar(){return this._calendar}focusDate(t){this._service.focus(fs.from(t))}focusSelect(){this._service.focusSelect()}focus(){this._ngZone.onStable.asObservable().pipe(Sr(1)).subscribe(()=>{const t=this._elementRef.nativeElement.querySelector('div.ngb-dp-day[tabindex="0"]');t&&t.focus()})}navigateTo(t){this._service.open(fs.from(t?t.day?t:{...t,day:1}:null))}ngAfterViewInit(){this._ngZone.runOutsideAngular(()=>{const t=io(this._contentEl.nativeElement,"focusin"),r=io(this._contentEl.nativeElement,"focusout"),{nativeElement:i}=this._elementRef;(0,Df.T)(t,r).pipe(ir(({target:o,relatedTarget:c})=>!(fF(o,"ngb-dp-day")&&fF(c,"ngb-dp-day")&&i.contains(o)&&i.contains(c))),Si(this._destroyed$)).subscribe(({type:o})=>this._ngZone.run(()=>this._service.set({focusVisible:"focusin"===o})))})}ngOnDestroy(){this._destroyed$.next()}ngOnInit(){if(void 0===this.model){const t={};["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].forEach(r=>t[r]=this[r]),this._service.set(t),this.navigateTo(this.startDate)}this.dayTemplate||(this.dayTemplate=this._defaultDayTemplate)}ngOnChanges(t){const r={};if(["dayTemplateData","displayMonths","markDisabled","firstDayOfWeek","navigation","minDate","maxDate","outsideDays","weekdays"].filter(i=>i in t).forEach(i=>r[i]=this[i]),this._service.set(r),"startDate"in t){const{currentValue:i,previousValue:o}=t.startDate;NF(o,i)&&this.navigateTo(this.startDate)}}onDateSelect(t){this._service.focus(t),this._service.select(t,{emitEvent:!0})}onNavigateDateSelect(t){this._service.open(t)}onNavigateEvent(t){switch(t){case Qy.PREV:this._service.open(this._calendar.getPrev(this.model.firstDate,"m",1));break;case Qy.NEXT:this._service.open(this._calendar.getNext(this.model.firstDate,"m",1))}}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this._service.set({disabled:t})}writeValue(t){this._controlValue=fs.from(this._ngbDateAdapter.fromModel(t)),this._service.select(this._controlValue)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(YM),l.Y36(XT),l.Y36(Sm),l.Y36(JM),l.Y36(l.sBO),l.Y36(l.SBq),l.Y36(QM),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-datepicker"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,OF,7),2&t){let o;l.iGM(o=l.CRH())&&(r.contentTemplate=o.first)}},viewQuery:function(t,r){if(1&t&&(l.Gf(m3,7),l.Gf(_3,7)),2&t){let i;l.iGM(i=l.CRH())&&(r._defaultDayTemplate=i.first),l.iGM(i=l.CRH())&&(r._contentEl=i.first)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("disabled",r.model.disabled)},inputs:{dayTemplate:"dayTemplate",dayTemplateData:"dayTemplateData",displayMonths:"displayMonths",firstDayOfWeek:"firstDayOfWeek",footerTemplate:"footerTemplate",markDisabled:"markDisabled",maxDate:"maxDate",minDate:"minDate",navigation:"navigation",outsideDays:"outsideDays",showWeekNumbers:"showWeekNumbers",startDate:"startDate",weekdays:"weekdays"},outputs:{navigate:"navigate",dateSelect:"dateSelect"},exportAs:["ngbDatepicker"],standalone:!0,features:[l._Bn([{provide:Ea,useExisting:(0,l.Gpc)(()=>n),multi:!0},YM]),l.TTD,l.jDz],decls:10,vars:5,consts:[["defaultDayTemplate",""],["defaultContentTemplate",""],[1,"ngb-dp-header"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select",4,"ngIf"],[1,"ngb-dp-content"],["content",""],[3,"ngTemplateOutlet"],["ngbDatepickerDayView","",3,"date","currentMonth","selected","disabled","focused"],["class","ngb-dp-month",4,"ngFor","ngForOf"],[1,"ngb-dp-month"],["class","ngb-dp-month-name",4,"ngIf"],[3,"month"],[1,"ngb-dp-month-name"],[3,"date","months","disabled","showSelect","prevDisabled","nextDisabled","selectBoxes","navigate","select"]],template:function(t,r){if(1&t&&(l.YNc(0,y3,1,5,"ng-template",null,0,l.W1O),l.YNc(2,w3,1,1,"ng-template",null,1,l.W1O),l.TgZ(4,"div",2),l.YNc(5,E3,1,7,"ngb-datepicker-navigation",3),l.qZA(),l.TgZ(6,"div",4,5),l.YNc(8,D3,0,0,"ng-template",6),l.qZA(),l.YNc(9,T3,0,0,"ng-template",6)),2&t){const i=l.MAs(3);l.xp6(5),l.Q6J("ngIf","none"!==r.navigation),l.xp6(1),l.ekj("ngb-dp-months",!r.contentTemplate),l.xp6(2),l.Q6J("ngTemplateOutlet",(null==r.contentTemplate?null:r.contentTemplate.templateRef)||i),l.xp6(1),l.Q6J("ngTemplateOutlet",r.footerTemplate)}},dependencies:[ur,ui,jn,c6,XM,h6],styles:["ngb-datepicker{border:1px solid var(--bs-border-color);border-radius:.25rem;display:inline-block}ngb-datepicker-month{pointer-events:auto}ngb-datepicker.dropdown-menu{padding:0}ngb-datepicker.disabled .ngb-dp-weekday,ngb-datepicker.disabled .ngb-dp-week-number,ngb-datepicker.disabled .ngb-dp-month-name{color:var(--bs-text-muted)}.ngb-dp-body{z-index:1055}.ngb-dp-header{border-bottom:0;border-radius:.25rem .25rem 0 0;padding-top:.25rem;background-color:var(--bs-light)}.ngb-dp-months{display:flex}.ngb-dp-month{pointer-events:none}.ngb-dp-month-name{font-size:larger;height:2rem;line-height:2rem;text-align:center;background-color:var(--bs-light)}.ngb-dp-month+.ngb-dp-month .ngb-dp-month-name,.ngb-dp-month+.ngb-dp-month .ngb-dp-week{padding-left:1rem}.ngb-dp-month:last-child .ngb-dp-week{padding-right:.25rem}.ngb-dp-month:first-child .ngb-dp-week{padding-left:.25rem}.ngb-dp-month .ngb-dp-week:last-child{padding-bottom:.25rem}\n"],encapsulation:2,changeDetection:0}),n})();typeof navigator<"u"&&navigator.userAgent&&(/iPad|iPhone|iPod/.test(navigator.userAgent)||/Macintosh/.test(navigator.userAgent)&&navigator.maxTouchPoints&&navigator.maxTouchPoints>2||/Android/.test(navigator.userAgent));const PF=["a[href]","button:not([disabled])",'input:not([disabled]):not([type="hidden"])',"select:not([disabled])","textarea:not([disabled])","[contenteditable]",'[tabindex]:not([tabindex="-1"])'].join(", ");function kF(n){const e=Array.from(n.querySelectorAll(PF)).filter(t=>-1!==t.tabIndex);return[e[0],e[e.length-1]]}new Date(1882,10,12),new Date(2174,10,25);let KF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[eI,XM]}),n})(),rO=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["",8,"navbar"]],standalone:!0}),n})(),JF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();class Nm{constructor(e,t,r){this.nodes=e,this.viewRef=t,this.componentRef=r}}let V6=(()=>{class n{constructor(t,r){this._el=t,this._zone=r}ngOnInit(){this._zone.onStable.asObservable().pipe(Sr(1)).subscribe(()=>{hs(this._zone,this._el.nativeElement,(t,r)=>{r&&Yy(t),t.classList.add("show")},{animation:this.animation,runningTransition:"continue"})})}hide(){return hs(this._zone,this._el.nativeElement,({classList:t})=>t.remove("show"),{animation:this.animation,runningTransition:"stop"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-backdrop"]],hostAttrs:[2,"z-index","1055"],hostVars:6,hostBindings:function(t,r){2&t&&(l.Tol("modal-backdrop"+(r.backdropClass?" "+r.backdropClass:"")),l.ekj("show",!r.animation)("fade",r.animation))},inputs:{animation:"animation",backdropClass:"backdropClass"},standalone:!0,features:[l.jDz],decls:0,vars:0,template:function(t,r){},encapsulation:2}),n})();class QF{close(e){}dismiss(e){}}class H6{constructor(e,t,r,i){this._windowCmptRef=e,this._contentRef=t,this._backdropCmptRef=r,this._beforeDismiss=i,this._closed=new Mn.x,this._dismissed=new Mn.x,this._hidden=new Mn.x,e.instance.dismissEvent.subscribe(o=>{this.dismiss(o)}),this.result=new Promise((o,c)=>{this._resolve=o,this._reject=c}),this.result.then(null,()=>{})}get componentInstance(){if(this._contentRef&&this._contentRef.componentRef)return this._contentRef.componentRef.instance}get closed(){return this._closed.asObservable().pipe(Si(this._hidden))}get dismissed(){return this._dismissed.asObservable().pipe(Si(this._hidden))}get hidden(){return this._hidden.asObservable()}get shown(){return this._windowCmptRef.instance.shown.asObservable()}close(e){this._windowCmptRef&&(this._closed.next(e),this._resolve(e),this._removeModalElements())}_dismiss(e){this._dismissed.next(e),this._reject(e),this._removeModalElements()}dismiss(e){if(this._windowCmptRef)if(this._beforeDismiss){const t=this._beforeDismiss();!function hF(n){return n&&n.then}(t)?!1!==t&&this._dismiss(e):t.then(r=>{!1!==r&&this._dismiss(e)},()=>{})}else this._dismiss(e)}_removeModalElements(){const e=this._windowCmptRef.instance.hide(),t=this._backdropCmptRef?this._backdropCmptRef.instance.hide():At(void 0);e.subscribe(()=>{const{nativeElement:r}=this._windowCmptRef.location;r.parentNode.removeChild(r),this._windowCmptRef.destroy(),this._contentRef&&this._contentRef.viewRef&&this._contentRef.viewRef.destroy(),this._windowCmptRef=null,this._contentRef=null}),t.subscribe(()=>{if(this._backdropCmptRef){const{nativeElement:r}=this._backdropCmptRef.location;r.parentNode.removeChild(r),this._backdropCmptRef.destroy(),this._backdropCmptRef=null}}),$T(e,t).subscribe(()=>{this._hidden.next(),this._hidden.complete()})}}var jw=(()=>(function(n){n[n.BACKDROP_CLICK=0]="BACKDROP_CLICK",n[n.ESC=1]="ESC"}(jw||(jw={})),jw))();let j6=(()=>{class n{constructor(t,r,i){this._document=t,this._elRef=r,this._zone=i,this._closed$=new Mn.x,this._elWithFocus=null,this.backdrop=!0,this.keyboard=!0,this.dismissEvent=new l.vpe,this.shown=new Mn.x,this.hidden=new Mn.x}get fullscreenClass(){return!0===this.fullscreen?" modal-fullscreen":Ky(this.fullscreen)?` modal-fullscreen-${this.fullscreen}-down`:""}dismiss(t){this.dismissEvent.emit(t)}ngOnInit(){this._elWithFocus=this._document.activeElement,this._zone.onStable.asObservable().pipe(Sr(1)).subscribe(()=>{this._show()})}ngOnDestroy(){this._disableEventHandling()}hide(){const{nativeElement:t}=this._elRef,r={animation:this.animation,runningTransition:"stop"},c=$T(hs(this._zone,t,()=>t.classList.remove("show"),r),hs(this._zone,this._dialogEl.nativeElement,()=>{},r));return c.subscribe(()=>{this.hidden.next(),this.hidden.complete()}),this._disableEventHandling(),this._restoreFocus(),c}_show(){const t={animation:this.animation,runningTransition:"continue"};$T(hs(this._zone,this._elRef.nativeElement,(o,c)=>{c&&Yy(o),o.classList.add("show")},t),hs(this._zone,this._dialogEl.nativeElement,()=>{},t)).subscribe(()=>{this.shown.next(),this.shown.complete()}),this._enableEventHandling(),this._setFocus()}_enableEventHandling(){const{nativeElement:t}=this._elRef;this._zone.runOutsideAngular(()=>{io(t,"keydown").pipe(Si(this._closed$),ir(i=>i.which===Vn.Escape)).subscribe(i=>{this.keyboard?requestAnimationFrame(()=>{i.defaultPrevented||this._zone.run(()=>this.dismiss(jw.ESC))}):"static"===this.backdrop&&this._bumpBackdrop()});let r=!1;io(this._dialogEl.nativeElement,"mousedown").pipe(Si(this._closed$),(0,Zr.b)(()=>r=!1),Ir(()=>io(t,"mouseup").pipe(Si(this._closed$),Sr(1))),ir(({target:i})=>t===i)).subscribe(()=>{r=!0}),io(t,"click").pipe(Si(this._closed$)).subscribe(({target:i})=>{t===i&&("static"===this.backdrop?this._bumpBackdrop():!0===this.backdrop&&!r&&this._zone.run(()=>this.dismiss(jw.BACKDROP_CLICK))),r=!1})})}_disableEventHandling(){this._closed$.next()}_setFocus(){const{nativeElement:t}=this._elRef;if(!t.contains(document.activeElement)){const r=t.querySelector("[ngbAutofocus]"),i=kF(t)[0];(r||i||t).focus()}}_restoreFocus(){const t=this._document.body,r=this._elWithFocus;let i;i=r&&r.focus&&t.contains(r)?r:t,this._zone.runOutsideAngular(()=>{setTimeout(()=>i.focus()),this._elWithFocus=null})}_bumpBackdrop(){"static"===this.backdrop&&hs(this._zone,this._elRef.nativeElement,({classList:t})=>(t.add("modal-static"),()=>t.remove("modal-static")),{animation:this.animation,runningTransition:"continue"})}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(de),l.Y36(l.SBq),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-modal-window"]],viewQuery:function(t,r){if(1&t&&l.Gf(I3,7),2&t){let i;l.iGM(i=l.CRH())&&(r._dialogEl=i.first)}},hostAttrs:["role","dialog","tabindex","-1"],hostVars:7,hostBindings:function(t,r){2&t&&(l.uIk("aria-modal",!0)("aria-labelledby",r.ariaLabelledBy)("aria-describedby",r.ariaDescribedBy),l.Tol("modal d-block"+(r.windowClass?" "+r.windowClass:"")),l.ekj("fade",r.animation))},inputs:{animation:"animation",ariaLabelledBy:"ariaLabelledBy",ariaDescribedBy:"ariaDescribedBy",backdrop:"backdrop",centered:"centered",fullscreen:"fullscreen",keyboard:"keyboard",scrollable:"scrollable",size:"size",windowClass:"windowClass",modalDialogClass:"modalDialogClass"},outputs:{dismissEvent:"dismiss"},standalone:!0,features:[l.jDz],ngContentSelectors:KT,decls:4,vars:2,consts:[["role","document"],["dialog",""],[1,"modal-content"]],template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div",0,1)(2,"div",2),l.Hsn(3),l.qZA()()),2&t&&l.Tol("modal-dialog"+(r.size?" modal-"+r.size:"")+(r.centered?" modal-dialog-centered":"")+r.fullscreenClass+(r.scrollable?" modal-dialog-scrollable":"")+(r.modalDialogClass?" "+r.modalDialogClass:""))},styles:["ngb-modal-window .component-host-scrollable{display:flex;flex-direction:column;overflow:hidden}\n"],encapsulation:2}),n})(),$6=(()=>{class n{constructor(t){this._document=t}hide(){const t=Math.abs(window.innerWidth-this._document.documentElement.clientWidth),r=this._document.body,i=r.style,{overflow:o,paddingRight:c}=i;if(t>0){const f=parseFloat(window.getComputedStyle(r).paddingRight);i.paddingRight=`${f+t}px`}return i.overflow="hidden",()=>{t>0&&(i.paddingRight=c),i.overflow=o}}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),G6=(()=>{class n{constructor(t,r,i,o,c,f,_){this._applicationRef=t,this._injector=r,this._environmentInjector=i,this._document=o,this._scrollBar=c,this._rendererFactory=f,this._ngZone=_,this._activeWindowCmptHasChanged=new Mn.x,this._ariaHiddenValues=new Map,this._scrollBarRestoreFn=null,this._backdropAttributes=["animation","backdropClass"],this._modalRefs=[],this._windowAttributes=["animation","ariaLabelledBy","ariaDescribedBy","backdrop","centered","fullscreen","keyboard","scrollable","size","windowClass","modalDialogClass"],this._windowCmpts=[],this._activeInstances=new l.vpe,this._activeWindowCmptHasChanged.subscribe(()=>{if(this._windowCmpts.length){const b=this._windowCmpts[this._windowCmpts.length-1];((n,e,t,r=!1)=>{n.runOutsideAngular(()=>{const i=io(e,"focusin").pipe(Si(t),(0,Pt.U)(o=>o.target));io(e,"keydown").pipe(Si(t),ir(o=>o.which===Vn.Tab),xM(i)).subscribe(([o,c])=>{const[f,_]=kF(e);(c===f||c===e)&&o.shiftKey&&(_.focus(),o.preventDefault()),c===_&&!o.shiftKey&&(f.focus(),o.preventDefault())}),r&&io(e,"click").pipe(Si(t),xM(i),(0,Pt.U)(o=>o[1])).subscribe(o=>o.focus())})})(this._ngZone,b.location.nativeElement,this._activeWindowCmptHasChanged),this._revertAriaHidden(),this._setAriaHidden(b.location.nativeElement)}})}_restoreScrollBar(){const t=this._scrollBarRestoreFn;t&&(this._scrollBarRestoreFn=null,t())}_hideScrollBar(){this._scrollBarRestoreFn||(this._scrollBarRestoreFn=this._scrollBar.hide())}open(t,r,i){const o=i.container instanceof HTMLElement?i.container:Em(i.container)?this._document.querySelector(i.container):this._document.body,c=this._rendererFactory.createRenderer(null,null);if(!o)throw new Error(`The specified modal container "${i.container||"body"}" was not found in the DOM.`);this._hideScrollBar();const f=new QF,_=(t=i.injector||t).get(l.lqb,null)||this._environmentInjector,b=this._getContentRef(t,_,r,f,i);let T=!1!==i.backdrop?this._attachBackdrop(o):void 0,M=this._attachWindowComponent(o,b.nodes),F=new H6(M,b,T,i.beforeDismiss);return this._registerModalRef(F),this._registerWindowCmpt(M),F.hidden.pipe(Sr(1)).subscribe(()=>Promise.resolve(!0).then(()=>{this._modalRefs.length||(c.removeClass(this._document.body,"modal-open"),this._restoreScrollBar(),this._revertAriaHidden())})),f.close=L=>{F.close(L)},f.dismiss=L=>{F.dismiss(L)},this._applyWindowOptions(M.instance,i),1===this._modalRefs.length&&c.addClass(this._document.body,"modal-open"),T&&T.instance&&(this._applyBackdropOptions(T.instance,i),T.changeDetectorRef.detectChanges()),M.changeDetectorRef.detectChanges(),F}get activeInstances(){return this._activeInstances}dismissAll(t){this._modalRefs.forEach(r=>r.dismiss(t))}hasOpenModals(){return this._modalRefs.length>0}_attachBackdrop(t){let r=(0,l.LMc)(V6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector});return this._applicationRef.attachView(r.hostView),t.appendChild(r.location.nativeElement),r}_attachWindowComponent(t,r){let i=(0,l.LMc)(j6,{environmentInjector:this._applicationRef.injector,elementInjector:this._injector,projectableNodes:r});return this._applicationRef.attachView(i.hostView),t.appendChild(i.location.nativeElement),i}_applyWindowOptions(t,r){this._windowAttributes.forEach(i=>{Em(r[i])&&(t[i]=r[i])})}_applyBackdropOptions(t,r){this._backdropAttributes.forEach(i=>{Em(r[i])&&(t[i]=r[i])})}_getContentRef(t,r,i,o,c){return i?i instanceof l.Rgc?this._createFromTemplateRef(i,o):Ky(i)?this._createFromString(i):this._createFromComponent(t,r,i,o,c):new Nm([])}_createFromTemplateRef(t,r){const o=t.createEmbeddedView({$implicit:r,close(c){r.close(c)},dismiss(c){r.dismiss(c)}});return this._applicationRef.attachView(o),new Nm([o.rootNodes],o)}_createFromString(t){const r=this._document.createTextNode(`${t}`);return new Nm([[r]])}_createFromComponent(t,r,i,o,c){const f=l.zs3.create({providers:[{provide:QF,useValue:o}],parent:t}),_=(0,l.LMc)(i,{environmentInjector:r,elementInjector:f}),b=_.location.nativeElement;return c.scrollable&&b.classList.add("component-host-scrollable"),this._applicationRef.attachView(_.hostView),new Nm([[b]],_.hostView,_)}_setAriaHidden(t){const r=t.parentElement;r&&t!==this._document.body&&(Array.from(r.children).forEach(i=>{i!==t&&"SCRIPT"!==i.nodeName&&(this._ariaHiddenValues.set(i,i.getAttribute("aria-hidden")),i.setAttribute("aria-hidden","true"))}),this._setAriaHidden(r))}_revertAriaHidden(){this._ariaHiddenValues.forEach((t,r)=>{t?r.setAttribute("aria-hidden",t):r.removeAttribute("aria-hidden")}),this._ariaHiddenValues.clear()}_registerModalRef(t){const r=()=>{const i=this._modalRefs.indexOf(t);i>-1&&(this._modalRefs.splice(i,1),this._activeInstances.emit(this._modalRefs))};this._modalRefs.push(t),this._activeInstances.emit(this._modalRefs),t.result.then(r,r)}_registerWindowCmpt(t){this._windowCmpts.push(t),this._activeWindowCmptHasChanged.next(),t.onDestroy(()=>{const r=this._windowCmpts.indexOf(t);r>-1&&(this._windowCmpts.splice(r,1),this._activeWindowCmptHasChanged.next())})}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.z2F),l.LFG(l.zs3),l.LFG(l.lqb),l.LFG(de),l.LFG($6),l.LFG(l.FYo),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),z6=(()=>{class n{constructor(t){this._ngbConfig=t,this.backdrop=!0,this.fullscreen=!1,this.keyboard=!0}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),q6=(()=>{class n{constructor(t,r,i){this._injector=t,this._modalStack=r,this._config=i}open(t,r={}){const i={...this._config,animation:this._config.animation,...r};return this._modalStack.open(this._injector,t,i)}get activeInstances(){return this._modalStack.activeInstances}dismissAll(t){this._modalStack.dismissAll(t)}hasOpenModals(){return this._modalStack.hasOpenModals()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.zs3),l.LFG(G6),l.LFG(z6))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),XF=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:[q6]}),n})();const Q6=({classList:n})=>(n.remove("show"),()=>n.remove("active")),X6=(n,e)=>{e&&Yy(n),n.classList.add("show")};let iO=(()=>{class n{constructor(t){this.elRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.SBq))},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbNavPane",""]],hostAttrs:[1,"tab-pane"],hostVars:5,hostBindings:function(t,r){2&t&&(l.Ikx("id",r.item.panelDomId),l.uIk("role",r.role?r.role:r.nav.roles?"tabpanel":void 0)("aria-labelledby",r.item.domId),l.ekj("fade",r.nav.animation))},inputs:{item:"item",nav:"nav",role:"role"},standalone:!0}),n})(),n2=(()=>{class n{constructor(t,r){this._cd=t,this._ngZone=r,this._activePane=null}isPanelTransitioning(t){return this._activePane?.item===t}ngAfterViewInit(){this._updateActivePane(),this.nav.navItemChange$.pipe(Si(this.nav.destroy$),go(this._activePane?.item||null),TT(),function xj(n){return ir((e,t)=>n<=t)}(1)).subscribe(t=>{const r={animation:this.nav.animation,runningTransition:"stop"};this._cd.detectChanges(),this._activePane?hs(this._ngZone,this._activePane.elRef.nativeElement,Q6,r).subscribe(()=>{const i=this._activePane?.item;this._activePane=this._getPaneForItem(t),this._cd.markForCheck(),this._activePane&&(this._activePane.elRef.nativeElement.classList.add("active"),hs(this._ngZone,this._activePane.elRef.nativeElement,X6,r).subscribe(()=>{t&&(t.shown.emit(),this.nav.shown.emit(t.id))})),i&&(i.hidden.emit(),this.nav.hidden.emit(i.id))}):this._updateActivePane()})}_updateActivePane(){this._activePane=this._getActivePane(),this._activePane?.elRef.nativeElement.classList.add("show"),this._activePane?.elRef.nativeElement.classList.add("active")}_getPaneForItem(t){return this._panes&&this._panes.find(r=>r.item===t)||null}_getActivePane(){return this._panes&&this._panes.find(t=>t.item.active)||null}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.sBO),l.Y36(l.R0b))},n.\u0275cmp=l.Xpm({type:n,selectors:[["","ngbNavOutlet",""]],viewQuery:function(t,r){if(1&t&&l.Gf(iO,5),2&t){let i;l.iGM(i=l.CRH())&&(r._panes=i)}},hostVars:2,hostBindings:function(t,r){2&t&&l.ekj("tab-content",!0)},inputs:{paneRole:"paneRole",nav:["ngbNavOutlet","nav"]},standalone:!0,features:[l.jDz],attrs:S3,decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],["ngbNavPane","",3,"item","nav","role",4,"ngIf"],["ngbNavPane","",3,"item","nav","role"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&l.YNc(0,M3,1,1,"ng-template",0),2&t&&l.Q6J("ngForOf",r.nav.items)},dependencies:[iO,ui,ur,jn],encapsulation:2,changeDetection:0}),n})(),r2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[n2]}),n})(),ez=(()=>{class n{constructor(){this.disabled=!1,this.boundaryLinks=!1,this.directionLinks=!0,this.ellipses=!0,this.maxSize=0,this.pageSize=10,this.rotate=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),i2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationEllipsis",""]],standalone:!0}),n})(),s2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationFirst",""]],standalone:!0}),n})(),o2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationLast",""]],standalone:!0}),n})(),a2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNext",""]],standalone:!0}),n})(),l2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationNumber",""]],standalone:!0}),n})(),u2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPrevious",""]],standalone:!0}),n})(),c2=(()=>{class n{constructor(t){this.templateRef=t}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(l.Rgc))},n.\u0275dir=l.lG2({type:n,selectors:[["ng-template","ngbPaginationPages",""]],standalone:!0}),n})(),d2=(()=>{class n{constructor(t){this.pageCount=0,this.pages=[],this.page=1,this.pageChange=new l.vpe(!0),this.disabled=t.disabled,this.boundaryLinks=t.boundaryLinks,this.directionLinks=t.directionLinks,this.ellipses=t.ellipses,this.maxSize=t.maxSize,this.pageSize=t.pageSize,this.rotate=t.rotate,this.size=t.size}hasPrevious(){return this.page>1}hasNext(){return this.page<this.pageCount}nextDisabled(){return!this.hasNext()||this.disabled}previousDisabled(){return!this.hasPrevious()||this.disabled}selectPage(t){this._updatePages(t)}ngOnChanges(t){this._updatePages(this.page)}isEllipsis(t){return-1===t}_applyEllipses(t,r){this.ellipses&&(t>0&&(t>2?this.pages.unshift(-1):2===t&&this.pages.unshift(2),this.pages.unshift(1)),r<this.pageCount&&(r<this.pageCount-2?this.pages.push(-1):r===this.pageCount-2&&this.pages.push(this.pageCount-1),this.pages.push(this.pageCount)))}_applyRotation(){let t=0,r=this.pageCount,i=Math.floor(this.maxSize/2);return this.page<=i?r=this.maxSize:this.pageCount-this.page<i?t=this.pageCount-this.maxSize:(t=this.page-i-1,r=this.page+(this.maxSize%2==0?i-1:i)),[t,r]}_applyPagination(){let r=(Math.ceil(this.page/this.maxSize)-1)*this.maxSize;return[r,r+this.maxSize]}_setPageInRange(t){const r=this.page;this.page=ZT(t,this.pageCount,1),this.page!==r&&Ci(this.collectionSize)&&this.pageChange.emit(this.page)}_updatePages(t){this.pageCount=Math.ceil(this.collectionSize/this.pageSize),Ci(this.pageCount)||(this.pageCount=0),this.pages.length=0;for(let r=1;r<=this.pageCount;r++)this.pages.push(r);if(this._setPageInRange(t),this.maxSize>0&&this.pageCount>this.maxSize){let r=0,i=this.pageCount;[r,i]=this.rotate?this._applyRotation():this._applyPagination(),this.pages=this.pages.slice(r,i),this._applyEllipses(r,i)}}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(ez))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-pagination"]],contentQueries:function(t,r,i){if(1&t&&(l.Suo(i,i2,5),l.Suo(i,s2,5),l.Suo(i,o2,5),l.Suo(i,a2,5),l.Suo(i,l2,5),l.Suo(i,u2,5),l.Suo(i,c2,5)),2&t){let o;l.iGM(o=l.CRH())&&(r.tplEllipsis=o.first),l.iGM(o=l.CRH())&&(r.tplFirst=o.first),l.iGM(o=l.CRH())&&(r.tplLast=o.first),l.iGM(o=l.CRH())&&(r.tplNext=o.first),l.iGM(o=l.CRH())&&(r.tplNumber=o.first),l.iGM(o=l.CRH())&&(r.tplPrevious=o.first),l.iGM(o=l.CRH())&&(r.tplPages=o.first)}},hostAttrs:["role","navigation"],inputs:{disabled:"disabled",boundaryLinks:"boundaryLinks",directionLinks:"directionLinks",ellipses:"ellipses",rotate:"rotate",collectionSize:"collectionSize",maxSize:"maxSize",page:"page",pageSize:"pageSize",size:"size"},outputs:{pageChange:"pageChange"},standalone:!0,features:[l.TTD,l.jDz],decls:20,vars:12,consts:function(){let e,t,r,i,o,c,f,_;return e=$localize`:@@ngb.pagination.first:`,t=$localize`:@@ngb.pagination.previous:`,r=$localize`:@@ngb.pagination.next:`,i=$localize`:@@ngb.pagination.last:`,o=$localize`:@@ngb.pagination.first-aria:First`,c=$localize`:@@ngb.pagination.previous-aria:Previous`,f=$localize`:@@ngb.pagination.next-aria:Next`,_=$localize`:@@ngb.pagination.last-aria:Last`,[["first",""],["previous",""],["next",""],["last",""],["ellipsis",""],["defaultNumber",""],["defaultPages",""],["class","page-item",3,"disabled",4,"ngIf"],[3,"ngTemplateOutlet","ngTemplateOutletContext"],["aria-hidden","true"],e,t,r,i,["class","page-item",3,"active","disabled",4,"ngFor","ngForOf"],[1,"page-item"],["class","page-link","tabindex","-1","aria-disabled","true",4,"ngIf"],["class","page-link","href","",3,"click",4,"ngIf"],["tabindex","-1","aria-disabled","true",1,"page-link"],["href","",1,"page-link",3,"click"],["aria-label",o,"href","",1,"page-link",3,"click"],["aria-label",c,"href","",1,"page-link",3,"click"],["aria-label",f,"href","",1,"page-link",3,"click"],["aria-label",_,"href","",1,"page-link",3,"click"]]},template:function(t,r){if(1&t&&(l.YNc(0,O3,2,0,"ng-template",null,0,l.W1O),l.YNc(2,x3,2,0,"ng-template",null,1,l.W1O),l.YNc(4,R3,2,0,"ng-template",null,2,l.W1O),l.YNc(6,P3,2,0,"ng-template",null,3,l.W1O),l.YNc(8,k3,1,0,"ng-template",null,4,l.W1O),l.YNc(10,F3,1,1,"ng-template",null,5,l.W1O),l.YNc(12,G3,1,1,"ng-template",null,6,l.W1O),l.TgZ(14,"ul"),l.YNc(15,q3,3,9,"li",7),l.YNc(16,Z3,3,8,"li",7),l.YNc(17,Y3,0,0,"ng-template",8),l.YNc(18,Q3,3,9,"li",7),l.YNc(19,eG,3,9,"li",7),l.qZA()),2&t){const i=l.MAs(13);l.xp6(14),l.Tol("pagination"+(r.size?" pagination-"+r.size:"")),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngTemplateOutlet",(null==r.tplPages?null:r.tplPages.templateRef)||i)("ngTemplateOutletContext",l.kEZ(8,tG,r.page,r.pages,r.disabled)),l.xp6(1),l.Q6J("ngIf",r.directionLinks),l.xp6(1),l.Q6J("ngIf",r.boundaryLinks)}},dependencies:[ur,ui,jn],encapsulation:2,changeDetection:0}),n})(),h2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[d2]}),n})(),p2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),oz=(()=>{class n{constructor(){this.max=100,this.animated=!1,this.ariaLabel="progress bar",this.striped=!1,this.showValue=!1}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),az=(()=>{class n{constructor(t){this.value=0,this.max=t.max,this.animated=t.animated,this.ariaLabel=t.ariaLabel,this.striped=t.striped,this.textType=t.textType,this.type=t.type,this.showValue=t.showValue,this.height=t.height}set max(t){this._max=!Ci(t)||t<=0?100:t}get max(){return this._max}getValue(){return ZT(this.value,this.max)}getPercentValue(){return 100*this.getValue()/this.max}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(oz))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-progressbar"]],hostAttrs:["role","progressbar","aria-valuemin","0",1,"progress"],hostVars:5,hostBindings:function(t,r){2&t&&(l.uIk("aria-valuenow",r.getValue())("aria-valuemax",r.max)("aria-label",r.ariaLabel),l.Udp("height",r.height))},inputs:{max:"max",animated:"animated",ariaLabel:"ariaLabel",striped:"striped",showValue:"showValue",textType:"textType",type:"type",value:"value",height:"height"},standalone:!0,features:[l.jDz],ngContentSelectors:KT,decls:3,vars:11,consts:function(){let e;return e=$localize`:@@ngb.progressbar.value:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[4,"ngIf"],e]},template:function(t,r){1&t&&(l.F$t(),l.TgZ(0,"div"),l.YNc(1,iG,3,3,"span",0),l.Hsn(2),l.qZA()),2&t&&(l.MT6("progress-bar",r.type?r.textType?" bg-"+r.type:" text-bg-"+r.type:"","",r.textType?" text-"+r.textType:"",""),l.Udp("width",r.getPercentValue(),"%"),l.ekj("progress-bar-animated",r.animated)("progress-bar-striped",r.striped),l.xp6(1),l.Q6J("ngIf",r.showValue))},dependencies:[ur,nu],encapsulation:2,changeDetection:0}),n})(),g2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[az]}),n})(),lz=(()=>{class n{constructor(){this.max=10,this.readonly=!1,this.resettable=!1,this.tabindex=0}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),uz=(()=>{class n{constructor(t,r){this._changeDetectorRef=r,this.contexts=[],this.disabled=!1,this.hover=new l.vpe,this.leave=new l.vpe,this.rateChange=new l.vpe(!0),this.onChange=i=>{},this.onTouched=()=>{},this.max=t.max,this.readonly=t.readonly,this.tabindex=t.tabindex}ariaValueText(t,r){return`${t} out of ${r}`}isInteractive(){return!this.readonly&&!this.disabled}enter(t){this.isInteractive()&&this._updateState(t),this.hover.emit(t)}handleBlur(){this.onTouched()}handleClick(t){this.isInteractive()&&this.update(this.resettable&&this.rate===t?0:t)}handleKeyDown(t){switch(t.which){case Vn.ArrowDown:case Vn.ArrowLeft:this.update(this.rate-1);break;case Vn.ArrowUp:case Vn.ArrowRight:this.update(this.rate+1);break;case Vn.Home:this.update(0);break;case Vn.End:this.update(this.max);break;default:return}t.preventDefault()}ngOnChanges(t){t.rate&&this.update(this.rate),t.max&&this._updateMax()}ngOnInit(){this._setupContexts(),this._updateState(this.rate)}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}reset(){this.leave.emit(this.nextRate),this._updateState(this.rate)}setDisabledState(t){this.disabled=t}update(t,r=!0){const i=ZT(t,this.max,0);this.isInteractive()&&this.rate!==i&&(this.rate=i,this.rateChange.emit(this.rate)),r&&(this.onChange(this.rate),this.onTouched()),this._updateState(this.rate)}writeValue(t){this.update(t,!1),this._changeDetectorRef.markForCheck()}_updateState(t){this.nextRate=t,this.contexts.forEach((r,i)=>r.fill=Math.round(100*ZT(t-i,1,0)))}_updateMax(){this.max>0&&(this._setupContexts(),this.update(this.rate))}_setupContexts(){this.contexts=Array.from({length:this.max},(t,r)=>({fill:0,index:r}))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(lz),l.Y36(l.sBO))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-rating"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,l.Rgc,5),2&t){let o;l.iGM(o=l.CRH())&&(r.starTemplateFromContent=o.first)}},hostAttrs:["role","slider","aria-valuemin","0",1,"d-inline-flex"],hostVars:5,hostBindings:function(t,r){1&t&&l.NdJ("blur",function(){return r.handleBlur()})("keydown",function(o){return r.handleKeyDown(o)})("mouseleave",function(){return r.reset()}),2&t&&(l.Ikx("tabindex",r.disabled?-1:r.tabindex),l.uIk("aria-valuemax",r.max)("aria-valuenow",r.nextRate)("aria-valuetext",r.ariaValueText(r.nextRate,r.max))("aria-disabled",!!r.readonly||null))},inputs:{max:"max",rate:"rate",readonly:"readonly",resettable:"resettable",starTemplate:"starTemplate",tabindex:"tabindex",ariaValueText:"ariaValueText"},outputs:{hover:"hover",leave:"leave",rateChange:"rateChange"},standalone:!0,features:[l._Bn([{provide:Ea,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:3,vars:1,consts:[["t",""],["ngFor","",3,"ngForOf"],[1,"visually-hidden"],[3,"mouseenter","click"],[3,"ngTemplateOutlet","ngTemplateOutletContext"]],template:function(t,r){1&t&&(l.YNc(0,sG,1,1,"ng-template",null,0,l.W1O),l.YNc(2,aG,4,5,"ng-template",1)),2&t&&(l.xp6(2),l.Q6J("ngForOf",r.contexts))},dependencies:[ui,jn],encapsulation:2,changeDetection:0}),n})(),m2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[uz]}),n})();class _2{constructor(e,t,r){this.hour=so(e),this.minute=so(t),this.second=so(r)}changeHour(e=1){this.updateHour((isNaN(this.hour)?0:this.hour)+e)}updateHour(e){this.hour=Ci(e)?(e<0?24+e:e)%24:NaN}changeMinute(e=1){this.updateMinute((isNaN(this.minute)?0:this.minute)+e)}updateMinute(e){Ci(e)?(this.minute=e%60<0?60+e%60:e%60,this.changeHour(Math.floor(e/60))):this.minute=NaN}changeSecond(e=1){this.updateSecond((isNaN(this.second)?0:this.second)+e)}updateSecond(e){Ci(e)?(this.second=e<0?60+e%60:e%60,this.changeMinute(Math.floor(e/60))):this.second=NaN}isValid(e=!0){return Ci(this.hour)&&Ci(this.minute)&&(!e||Ci(this.second))}toString(){return`${this.hour||0}:${this.minute||0}:${this.second||0}`}}let cz=(()=>{class n{constructor(){this.meridian=!1,this.spinners=!0,this.seconds=!1,this.hourStep=1,this.minuteStep=1,this.secondStep=1,this.disabled=!1,this.readonlyInputs=!1,this.size="medium"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),y2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(){return function dz(){return new hz}()},providedIn:"root"}),n})(),hz=(()=>{class n extends y2{fromModel(t){return t&&gi(t.hour)&&gi(t.minute)?{hour:t.hour,minute:t.minute,second:gi(t.second)?t.second:null}:null}toModel(t){return t&&gi(t.hour)&&gi(t.minute)?{hour:t.hour,minute:t.minute,second:gi(t.second)?t.second:null}:null}}return n.\u0275fac=function(){let e;return function(r){return(e||(e=l.n5z(n)))(r||n)}}(),n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),v2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function fz(n){return new pz(n)}(l.LFG(l.soG)),r},providedIn:"root"}),n})(),pz=(()=>{class n extends v2{constructor(t){super(),this._periods=ke(t,Mt.Standalone,st.Narrow)}getMorningPeriod(){return this._periods[0]}getAfternoonPeriod(){return this._periods[1]}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.soG))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const gz=/[^0-9]/g;let mz=(()=>{class n{constructor(t,r,i,o){this._config=t,this._ngbTimeAdapter=r,this._cd=i,this.i18n=o,this.onChange=c=>{},this.onTouched=()=>{},this.meridian=t.meridian,this.spinners=t.spinners,this.seconds=t.seconds,this.hourStep=t.hourStep,this.minuteStep=t.minuteStep,this.secondStep=t.secondStep,this.disabled=t.disabled,this.readonlyInputs=t.readonlyInputs,this.size=t.size}set hourStep(t){this._hourStep=gi(t)?t:this._config.hourStep}get hourStep(){return this._hourStep}set minuteStep(t){this._minuteStep=gi(t)?t:this._config.minuteStep}get minuteStep(){return this._minuteStep}set secondStep(t){this._secondStep=gi(t)?t:this._config.secondStep}get secondStep(){return this._secondStep}writeValue(t){const r=this._ngbTimeAdapter.fromModel(t);this.model=r?new _2(r.hour,r.minute,r.second):new _2,!this.seconds&&(!r||!Ci(r.second))&&(this.model.second=0),this._cd.markForCheck()}registerOnChange(t){this.onChange=t}registerOnTouched(t){this.onTouched=t}setDisabledState(t){this.disabled=t}changeHour(t){this.model?.changeHour(t),this.propagateModelChange()}changeMinute(t){this.model?.changeMinute(t),this.propagateModelChange()}changeSecond(t){this.model?.changeSecond(t),this.propagateModelChange()}updateHour(t){const r=!!this.model&&this.model.hour>=12,i=so(t);this.model?.updateHour(this.meridian&&(r&&i<12||!r&&12===i)?i+12:i),this.propagateModelChange()}updateMinute(t){this.model?.updateMinute(so(t)),this.propagateModelChange()}updateSecond(t){this.model?.updateSecond(so(t)),this.propagateModelChange()}toggleMeridian(){this.meridian&&this.changeHour(12)}formatInput(t){t.value=t.value.replace(gz,"")}formatHour(t){return Ci(t)?Zy(this.meridian?t%12==0?12:t%12:t%24):Zy(NaN)}formatMinSec(t){return Zy(Ci(t)?t:NaN)}handleBlur(){this.onTouched()}get isSmallSize(){return"small"===this.size}get isLargeSize(){return"large"===this.size}ngOnChanges(t){t.seconds&&!this.seconds&&this.model&&!Ci(this.model.second)&&(this.model.second=0,this.propagateModelChange(!1))}propagateModelChange(t=!0){t&&this.onTouched(),this.model?.isValid(this.seconds)?this.onChange(this._ngbTimeAdapter.toModel({hour:this.model.hour,minute:this.model.minute,second:this.model.second})):this.onChange(this._ngbTimeAdapter.toModel(null))}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(cz),l.Y36(y2),l.Y36(l.sBO),l.Y36(v2))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-timepicker"]],inputs:{meridian:"meridian",spinners:"spinners",seconds:"seconds",hourStep:"hourStep",minuteStep:"minuteStep",secondStep:"secondStep",readonlyInputs:"readonlyInputs",size:"size"},exportAs:["ngbTimepicker"],standalone:!0,features:[l._Bn([{provide:Ea,useExisting:(0,l.Gpc)(()=>n),multi:!0}]),l.TTD,l.jDz],decls:16,vars:25,consts:function(){let e,t,r,i,o,c,f,_,b,T,M,F,L,z;return e=$localize`:@@ngb.timepicker.HH:HH`,t=$localize`:@@ngb.timepicker.hours:Hours`,r=$localize`:@@ngb.timepicker.MM:MM`,i=$localize`:@@ngb.timepicker.minutes:Minutes`,o=$localize`:@@ngb.timepicker.increment-hours:Increment hours`,c=$localize`:@@ngb.timepicker.decrement-hours:Decrement hours`,f=$localize`:@@ngb.timepicker.increment-minutes:Increment minutes`,_=$localize`:@@ngb.timepicker.decrement-minutes:Decrement minutes`,b=$localize`:@@ngb.timepicker.SS:SS`,T=$localize`:@@ngb.timepicker.seconds:Seconds`,M=$localize`:@@ngb.timepicker.increment-seconds:Increment seconds`,F=$localize`:@@ngb.timepicker.decrement-seconds:Decrement seconds`,L=$localize`:@@ngb.timepicker.PM:${"\ufffd0\ufffd"}:INTERPOLATION:`,z=$localize`:@@ngb.timepicker.AM:${"\ufffd0\ufffd"}:INTERPOLATION:`,[[3,"disabled"],[1,"ngb-tp"],[1,"ngb-tp-input-container","ngb-tp-hour"],["tabindex","-1","type","button","class","btn btn-link",3,"btn-sm","btn-lg","disabled","click",4,"ngIf"],["type","text","maxlength","2","inputmode","numeric","placeholder",e,"aria-label",t,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],[1,"ngb-tp-spacer"],[1,"ngb-tp-input-container","ngb-tp-minute"],["type","text","maxlength","2","inputmode","numeric","placeholder",r,"aria-label",i,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],["class","ngb-tp-spacer",4,"ngIf"],["class","ngb-tp-input-container ngb-tp-second",4,"ngIf"],["class","ngb-tp-meridian",4,"ngIf"],["tabindex","-1","type","button",1,"btn","btn-link",3,"disabled","click"],[1,"chevron","ngb-tp-chevron"],[1,"visually-hidden"],o,[1,"chevron","ngb-tp-chevron","bottom"],c,f,_,[1,"ngb-tp-input-container","ngb-tp-second"],["type","text","maxlength","2","inputmode","numeric","placeholder",b,"aria-label",T,1,"ngb-tp-input","form-control",3,"value","readOnly","disabled","change","blur","input","keydown.ArrowUp","keydown.ArrowDown"],M,F,[1,"ngb-tp-meridian"],["type","button",1,"btn","btn-outline-primary",3,"disabled","click"],[4,"ngIf","ngIfElse"],["am",""],L,z]},template:function(t,r){1&t&&(l.TgZ(0,"fieldset",0)(1,"div",1)(2,"div",2),l.YNc(3,lG,4,7,"button",3),l.TgZ(4,"input",4),l.NdJ("change",function(o){return r.updateHour(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeHour(r.hourStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeHour(-r.hourStep),o.preventDefault()}),l.qZA(),l.YNc(5,uG,4,7,"button",3),l.qZA(),l.TgZ(6,"div",5),l._uU(7,":"),l.qZA(),l.TgZ(8,"div",6),l.YNc(9,cG,4,7,"button",3),l.TgZ(10,"input",7),l.NdJ("change",function(o){return r.updateMinute(o.target.value)})("blur",function(){return r.handleBlur()})("input",function(o){return r.formatInput(o.target)})("keydown.ArrowUp",function(o){return r.changeMinute(r.minuteStep),o.preventDefault()})("keydown.ArrowDown",function(o){return r.changeMinute(-r.minuteStep),o.preventDefault()}),l.qZA(),l.YNc(11,dG,4,7,"button",3),l.qZA(),l.YNc(12,hG,2,0,"div",8),l.YNc(13,gG,4,9,"div",9),l.YNc(14,mG,1,0,"div",8),l.YNc(15,vG,5,9,"div",10),l.qZA()()),2&t&&(l.ekj("disabled",r.disabled),l.Q6J("disabled",r.disabled),l.xp6(3),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatHour(null==r.model?null:r.model.hour))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(4),l.Q6J("ngIf",r.spinners),l.xp6(1),l.ekj("form-control-sm",r.isSmallSize)("form-control-lg",r.isLargeSize),l.Q6J("value",r.formatMinSec(null==r.model?null:r.model.minute))("readOnly",r.readonlyInputs)("disabled",r.disabled),l.xp6(1),l.Q6J("ngIf",r.spinners),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.seconds),l.xp6(1),l.Q6J("ngIf",r.meridian),l.xp6(1),l.Q6J("ngIf",r.meridian))},dependencies:[ur],styles:['ngb-timepicker{font-size:1rem}.ngb-tp{display:flex;align-items:center}.ngb-tp-input-container{width:4em}.ngb-tp-chevron:before{border-style:solid;border-width:.29em .29em 0 0;content:"";display:inline-block;height:.69em;left:.05em;position:relative;top:.15em;transform:rotate(-45deg);vertical-align:middle;width:.69em}.ngb-tp-chevron.bottom:before{top:-.3em;transform:rotate(135deg)}.ngb-tp-input{text-align:center}.ngb-tp-hour,.ngb-tp-minute,.ngb-tp-second,.ngb-tp-meridian{display:flex;flex-direction:column;align-items:center;justify-content:space-around}.ngb-tp-spacer{width:1em;text-align:center}\n'],encapsulation:2}),n})(),b2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[mz]}),n})();const _z=(n,e)=>{const{classList:t}=n;if(e)return t.add("fade"),Yy(n),t.add("show","showing"),()=>{t.remove("showing")};t.add("show")},yz=({classList:n})=>(n.add("showing"),()=>{n.remove("show","showing")});let vz=(()=>{class n{constructor(t){this._ngbConfig=t,this.autohide=!0,this.delay=5e3,this.ariaLive="polite"}get animation(){return void 0===this._animation?this._ngbConfig.animation:this._animation}set animation(t){this._animation=t}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(Dm))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),bz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=l.lG2({type:n,selectors:[["","ngbToastHeader",""]],standalone:!0}),n})(),wz=(()=>{class n{constructor(t,r,i,o){this.ariaLive=t,this._zone=i,this._element=o,this.contentHeaderTpl=null,this.shown=new l.vpe,this.hidden=new l.vpe,null==this.ariaLive&&(this.ariaLive=r.ariaLive),this.delay=r.delay,this.autohide=r.autohide,this.animation=r.animation}ngAfterContentInit(){this._zone.onStable.asObservable().pipe(Sr(1)).subscribe(()=>{this._init(),this.show()})}ngOnChanges(t){"autohide"in t&&(this._clearTimeout(),this._init())}hide(){this._clearTimeout();const t=hs(this._zone,this._element.nativeElement,yz,{animation:this.animation,runningTransition:"stop"});return t.subscribe(()=>{this.hidden.emit()}),t}show(){const t=hs(this._zone,this._element.nativeElement,_z,{animation:this.animation,runningTransition:"continue"});return t.subscribe(()=>{this.shown.emit()}),t}_init(){this.autohide&&!this._timeoutID&&(this._timeoutID=setTimeout(()=>this.hide(),this.delay))}_clearTimeout(){this._timeoutID&&(clearTimeout(this._timeoutID),this._timeoutID=null)}}return n.\u0275fac=function(t){return new(t||n)(l.$8M("aria-live"),l.Y36(vz),l.Y36(l.R0b),l.Y36(l.SBq))},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-toast"]],contentQueries:function(t,r,i){if(1&t&&l.Suo(i,bz,7,l.Rgc),2&t){let o;l.iGM(o=l.CRH())&&(r.contentHeaderTpl=o.first)}},hostAttrs:["role","alert","aria-atomic","true",1,"toast"],hostVars:3,hostBindings:function(t,r){2&t&&(l.uIk("aria-live",r.ariaLive),l.ekj("fade",r.animation))},inputs:{animation:"animation",delay:"delay",autohide:"autohide",header:"header"},outputs:{shown:"shown",hidden:"hidden"},exportAs:["ngbToast"],standalone:!0,features:[l.TTD,l.jDz],ngContentSelectors:KT,decls:5,vars:1,consts:function(){let e;return e=$localize`:@@ngb.toast.close-aria:Close`,[["headerTpl",""],[3,"ngIf"],[1,"toast-body"],[1,"me-auto"],[1,"toast-header"],[3,"ngTemplateOutlet"],["type","button","aria-label",e,1,"btn-close",3,"click"]]},template:function(t,r){1&t&&(l.F$t(),l.YNc(0,bG,2,1,"ng-template",null,0,l.W1O),l.YNc(2,EG,3,1,"ng-template",1),l.TgZ(3,"div",2),l.Hsn(4),l.qZA()),2&t&&(l.xp6(2),l.Q6J("ngIf",r.contentHeaderTpl||r.header))},dependencies:[ur,jn],styles:["ngb-toast{display:block}ngb-toast .toast-header .close{margin-left:auto;margin-bottom:.25rem}\n"],encapsulation:2}),n})(),w2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[wz]}),n})(),E2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})(),Ez=(()=>{class n{constructor(){this.highlightClass="ngb-highlight",this.accentSensitive=!0}ngOnChanges(t){!this.accentSensitive&&!String.prototype.normalize&&(console.warn("The `accentSensitive` input in `ngb-highlight` cannot be set to `false` in a browser that does not implement the `String.normalize` function. You will have to include a polyfill in your application to use this feature in the current browser."),this.accentSensitive=!0);const r=dF(this.result),i=Array.isArray(this.term)?this.term:[this.term],o=b=>this.accentSensitive?b:pF(b),c=i.map(b=>function AG(n){return n.replace(/[-[\]{}()*+?.,\\^$|#\s]/g,"\\$&")}(o(dF(b)))).filter(b=>b),f=this.accentSensitive?r:pF(r),_=c.length?f.split(new RegExp(`(${c.join("|")})`,"gmi")):[r];if(this.accentSensitive)this.parts=_;else{let b=0;this.parts=_.map(T=>r.substring(b,b+=T.length))}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["ngb-highlight"]],inputs:{highlightClass:"highlightClass",result:"result",term:"term",accentSensitive:"accentSensitive"},standalone:!0,features:[l.TTD,l.jDz],decls:1,vars:1,consts:[["ngFor","",3,"ngForOf"],[3,"class",4,"ngIf","ngIfElse"],["even",""]],template:function(t,r){1&t&&l.YNc(0,IG,3,2,"ng-template",0),2&t&&l.Q6J("ngForOf",r.parts)},dependencies:[ur,ui],styles:[".ngb-highlight{font-weight:700}\n"],encapsulation:2,changeDetection:0}),n})();new l.OlP("live announcer delay",{providedIn:"root",factory:function Dz(){return 100}});let D2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Ez]}),n})(),T2=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({}),n})();const Tz=[TF,IF,CF,AF,KF,JF,XF,r2,T2,h2,p2,g2,m2,b2,w2,E2,D2];let Iz=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({imports:[Tz,TF,IF,CF,AF,KF,JF,XF,r2,T2,h2,p2,g2,m2,b2,w2,E2,D2]}),n})();function Sz(n,e){1&n&&(l.TgZ(0,"li",14)(1,"a",20),l._uU(2,"Jueguitos"),l.qZA()())}function Cz(n,e){1&n&&(l.TgZ(0,"li",14)(1,"a",20),l._uU(2,"Listados"),l.qZA()())}function Az(n,e){if(1&n){const t=l.EpF();l.TgZ(0,"div")(1,"button",21),l.NdJ("click",function(){l.CHM(t);const i=l.oxw();return l.KtG(i.logout())}),l._uU(2),l._UZ(3,"img",22),l.qZA()()}if(2&n){const t=e.ngIf,r=l.oxw();l.xp6(2),l.hij("",r.getNombre(t.email)," ")}}function Nz(n,e){1&n&&(l.TgZ(0,"button",23),l._uU(1,"Login"),l.qZA(),l.TgZ(2,"button",24),l._uU(3,"Registro"),l.qZA())}const I2=".bd-placeholder-img[_ngcontent-%COMP%]{font-size:1.125rem;text-anchor:middle;-webkit-user-select:none;user-select:none}@media (min-width: 768px){.bd-placeholder-img-lg[_ngcontent-%COMP%]{font-size:3.5rem}}";let Mz=(()=>{class n{constructor(t,r){this.auth=t,this.storage=r,this.logueado=this.auth.getAuth()}ngOnInit(){}logout(){this.auth.logout()}getNombre(t){return console.log(this.storage.getNombre(t)),this.storage.getNombre(t)}}return n.\u0275fac=function(t){return new(t||n)(l.Y36(CT),l.Y36(bP))},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-navbar"]],decls:28,vars:10,consts:[["lang","es"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/navbar-fixed/"],[1,"navbar","navbar-expand-md","navbar-dark","fixed-top","bg-dark"],[1,"container-fluid"],["width","40","height","32","src","../assets/corazon.png","alt","","routerLink","/home",1,"bi","me-2"],["type","button","data-bs-toggle","collapse","data-bs-target","#navbarCollapse","aria-controls","navbarCollapse","aria-expanded","false","aria-label","Toggle navigation",1,"navbar-toggler"],[1,"navbar-toggler-icon"],["id","navbarCollapse",1,"collapse","navbar-collapse"],[1,"navbar-nav","me-auto","mb-2","mb-md-0"],[1,"nav-item"],["routerLink","/quien-soy",1,"nav-link","active"],["class","nav-item",4,"ngIf"],[1,"col-md-3","text-end"],[4,"ngIf","ngIfElse"],["then_content",""],["routerLink","/home",1,"nav-link","active"],["type","button",1,"btn","btn-outline-light","me-2",3,"click"],["width","32","height","32","src","../assets/signOut.png","alt","","routerLink","/home",1,"bi","me-2"],["type","button","routerLink","/login",1,"btn","btn-outline-light","me-2"],["type","button","routerLink","/registro",1,"btn","btn-light"]],template:function(t,r){if(1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5)(7,"link",6),l.qZA(),l.TgZ(8,"body")(9,"nav",7)(10,"div",8),l._UZ(11,"img",9),l.TgZ(12,"button",10),l._UZ(13,"span",11),l.qZA(),l.TgZ(14,"div",12)(15,"ul",13)(16,"li",14)(17,"a",15),l._uU(18,"Qui\xe9n soy"),l.qZA()(),l.YNc(19,Sz,3,0,"li",16),l.ALo(20,"async"),l.YNc(21,Cz,3,0,"li",16),l.ALo(22,"async"),l.qZA(),l.TgZ(23,"div",17),l.YNc(24,Az,4,1,"div",18),l.ALo(25,"async"),l.YNc(26,Nz,4,0,"ng-template",null,19,l.W1O),l.qZA()()()()()()),2&t){const i=l.MAs(27);l.xp6(19),l.Q6J("ngIf",l.lcZ(20,4,r.logueado)),l.xp6(2),l.Q6J("ngIf",l.lcZ(22,6,r.logueado)),l.xp6(3),l.Q6J("ngIf",l.lcZ(25,8,r.logueado))("ngIfElse",i)}},dependencies:[ur,ag,rO,lo],styles:[I2,I2]}),n})();const S2=".container[_ngcontent-%COMP%]{width:auto;max-width:680px;padding:0 15px}";let Oz=(()=>{class n{constructor(){}ngOnInit(){}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-footer"]],decls:13,vars:0,consts:[["lang","es",1,"h-100"],["charset","utf-8"],["name","viewport","content","width=device-width, initial-scale=1"],["name","description","content",""],["name","author","content","Mark Otto, Jacob Thornton, and Bootstrap contributors"],["name","generator","content","Hugo 0.84.0"],["rel","canonical","href","https://getbootstrap.com/docs/5.0/examples/sticky-footer/"],[1,"d-flex","flex-column","h-100"],[1,"footer","mt-auto","py-3","bg-light"],[1,"container"],[1,"text-muted"]],template:function(t,r){1&t&&(l.TgZ(0,"html",0)(1,"head"),l._UZ(2,"meta",1)(3,"meta",2)(4,"meta",3)(5,"meta",4)(6,"meta",5)(7,"link",6),l.qZA(),l.TgZ(8,"body",7)(9,"footer",8)(10,"div",9)(11,"span",10),l._uU(12,"Silvia Rus Mata \xa9 2023."),l.qZA()()()()())},styles:[S2,S2]}),n})(),xz=(()=>{class n{constructor(){this.title="LABOIV_TP_Jueguitos"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=l.Xpm({type:n,selectors:[["app-root"]],decls:3,vars:0,template:function(t,r){1&t&&l._UZ(0,"app-navbar")(1,"router-outlet")(2,"app-footer")},dependencies:[ie,Mz,Oz]}),n})();class C2{}class Rz{}const Fh="*";function A2(n,e=null){return{type:2,steps:n,options:e}}function N2(n){return{type:6,styles:n,offset:null}}function M2(n){Promise.resolve().then(n)}class Gw{constructor(e=0,t=0){this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._originalOnDoneFns=[],this._originalOnStartFns=[],this._started=!1,this._destroyed=!1,this._finished=!1,this._position=0,this.parentPlayer=null,this.totalTime=e+t}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}init(){}play(){this.hasStarted()||(this._onStart(),this.triggerMicrotask()),this._started=!0}triggerMicrotask(){M2(()=>this._onFinish())}_onStart(){this._onStartFns.forEach(e=>e()),this._onStartFns=[]}pause(){}restart(){}finish(){this._onFinish()}destroy(){this._destroyed||(this._destroyed=!0,this.hasStarted()||this._onStart(),this.finish(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this._started=!1,this._finished=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}setPosition(e){this._position=this.totalTime?e*this.totalTime:1}getPosition(){return this.totalTime?this._position/this.totalTime:1}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class O2{constructor(e){this._onDoneFns=[],this._onStartFns=[],this._finished=!1,this._started=!1,this._destroyed=!1,this._onDestroyFns=[],this.parentPlayer=null,this.totalTime=0,this.players=e;let t=0,r=0,i=0;const o=this.players.length;0==o?M2(()=>this._onFinish()):this.players.forEach(c=>{c.onDone(()=>{++t==o&&this._onFinish()}),c.onDestroy(()=>{++r==o&&this._onDestroy()}),c.onStart(()=>{++i==o&&this._onStart()})}),this.totalTime=this.players.reduce((c,f)=>Math.max(c,f.totalTime),0)}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this.players.forEach(e=>e.init())}onStart(e){this._onStartFns.push(e)}_onStart(){this.hasStarted()||(this._started=!0,this._onStartFns.forEach(e=>e()),this._onStartFns=[])}onDone(e){this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}hasStarted(){return this._started}play(){this.parentPlayer||this.init(),this._onStart(),this.players.forEach(e=>e.play())}pause(){this.players.forEach(e=>e.pause())}restart(){this.players.forEach(e=>e.restart())}finish(){this._onFinish(),this.players.forEach(e=>e.finish())}destroy(){this._onDestroy()}_onDestroy(){this._destroyed||(this._destroyed=!0,this._onFinish(),this.players.forEach(e=>e.destroy()),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}reset(){this.players.forEach(e=>e.reset()),this._destroyed=!1,this._finished=!1,this._started=!1}setPosition(e){const t=e*this.totalTime;this.players.forEach(r=>{const i=r.totalTime?Math.min(1,t/r.totalTime):1;r.setPosition(i)})}getPosition(){const e=this.players.reduce((t,r)=>null===t||r.totalTime>t.totalTime?r:t,null);return null!=e?e.getPosition():0}beforeDestroy(){this.players.forEach(e=>{e.beforeDestroy&&e.beforeDestroy()})}triggerCallback(e){const t="start"==e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}const sO="!";function x2(n){return new l.vHH(3e3,!1)}function p4(){return typeof window<"u"&&typeof window.document<"u"}function oO(){return typeof process<"u"&&"[object process]"==={}.toString.call(process)}function Dp(n){switch(n.length){case 0:return new Gw;case 1:return n[0];default:return new O2(n)}}function R2(n,e,t,r,i=new Map,o=new Map){const c=[],f=[];let _=-1,b=null;if(r.forEach(T=>{const M=T.get("offset"),F=M==_,L=F&&b||new Map;T.forEach((z,J)=>{let ae=J,Ae=z;if("offset"!==J)switch(ae=e.normalizePropertyName(ae,c),Ae){case sO:Ae=i.get(J);break;case Fh:Ae=o.get(J);break;default:Ae=e.normalizeStyleValue(J,ae,Ae,c)}L.set(ae,Ae)}),F||f.push(L),b=L,_=M}),c.length)throw function n4(n){return new l.vHH(3502,!1)}();return f}function aO(n,e,t,r){switch(e){case"start":n.onStart(()=>r(t&&lO(t,"start",n)));break;case"done":n.onDone(()=>r(t&&lO(t,"done",n)));break;case"destroy":n.onDestroy(()=>r(t&&lO(t,"destroy",n)))}}function lO(n,e,t){const o=uO(n.element,n.triggerName,n.fromState,n.toState,e||n.phaseName,t.totalTime??n.totalTime,!!t.disabled),c=n._data;return null!=c&&(o._data=c),o}function uO(n,e,t,r,i="",o=0,c){return{element:n,triggerName:e,fromState:t,toState:r,phaseName:i,totalTime:o,disabled:!!c}}function hl(n,e,t){let r=n.get(e);return r||n.set(e,r=t),r}function P2(n){const e=n.indexOf(":");return[n.substring(1,e),n.slice(e+1)]}let cO=(n,e)=>!1,k2=(n,e,t)=>[],F2=null;function dO(n){const e=n.parentNode||n.host;return e===F2?null:e}(oO()||typeof Element<"u")&&(p4()?(F2=(()=>document.documentElement)(),cO=(n,e)=>{for(;e;){if(e===n)return!0;e=dO(e)}return!1}):cO=(n,e)=>n.contains(e),k2=(n,e,t)=>{if(t)return Array.from(n.querySelectorAll(e));const r=n.querySelector(e);return r?[r]:[]});let Mm=null,L2=!1;const B2=cO,U2=k2;let V2=(()=>{class n{validateStyleProperty(t){return function m4(n){Mm||(Mm=function _4(){return typeof document<"u"?document.body:null}()||{},L2=!!Mm.style&&"WebkitAppearance"in Mm.style);let e=!0;return Mm.style&&!function g4(n){return"ebkit"==n.substring(1,6)}(n)&&(e=n in Mm.style,!e&&L2&&(e="Webkit"+n.charAt(0).toUpperCase()+n.slice(1)in Mm.style)),e}(t)}matchesElement(t,r){return!1}containsElement(t,r){return B2(t,r)}getParentElement(t){return dO(t)}query(t,r,i){return U2(t,r,i)}computeStyle(t,r,i){return i||""}animate(t,r,i,o,c,f=[],_){return new Gw(i,o)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})(),hO=(()=>{class n{}return n.NOOP=new V2,n})();const y4=1e3,fO="ng-enter",lI="ng-leave",uI="ng-trigger",cI=".ng-trigger",j2="ng-animating",pO=".ng-animating";function Lh(n){if("number"==typeof n)return n;const e=n.match(/^(-?[\.\d]+)(m?s)/);return!e||e.length<2?0:gO(parseFloat(e[1]),e[2])}function gO(n,e){return"s"===e?n*y4:n}function dI(n,e,t){return n.hasOwnProperty("duration")?n:function b4(n,e,t){let i,o=0,c="";if("string"==typeof n){const f=n.match(/^(-?[\.\d]+)(m?s)(?:\s+(-?[\.\d]+)(m?s))?(?:\s+([-a-z]+(?:\(.+?\))?))?$/i);if(null===f)return e.push(x2()),{duration:0,delay:0,easing:""};i=gO(parseFloat(f[1]),f[2]);const _=f[3];null!=_&&(o=gO(parseFloat(_),f[4]));const b=f[5];b&&(c=b)}else i=n;if(!t){let f=!1,_=e.length;i<0&&(e.push(function Pz(){return new l.vHH(3100,!1)}()),f=!0),o<0&&(e.push(function kz(){return new l.vHH(3101,!1)}()),f=!0),f&&e.splice(_,0,x2())}return{duration:i,delay:o,easing:c}}(n,e,t)}function zw(n,e={}){return Object.keys(n).forEach(t=>{e[t]=n[t]}),e}function $2(n){const e=new Map;return Object.keys(n).forEach(t=>{e.set(t,n[t])}),e}function Tp(n,e=new Map,t){if(t)for(let[r,i]of t)e.set(r,i);for(let[r,i]of n)e.set(r,i);return e}function z2(n,e,t){return t?e+":"+t+";":""}function q2(n){let e="";for(let t=0;t<n.style.length;t++){const r=n.style.item(t);e+=z2(0,r,n.style.getPropertyValue(r))}for(const t in n.style)n.style.hasOwnProperty(t)&&!t.startsWith("_")&&(e+=z2(0,T4(t),n.style[t]));n.setAttribute("style",e)}function dd(n,e,t){n.style&&(e.forEach((r,i)=>{const o=_O(i);t&&!t.has(i)&&t.set(i,n.style[o]),n.style[o]=r}),oO()&&q2(n))}function Om(n,e){n.style&&(e.forEach((t,r)=>{const i=_O(r);n.style[i]=""}),oO()&&q2(n))}function qw(n){return Array.isArray(n)?1==n.length?n[0]:A2(n):n}const mO=new RegExp("{{\\s*(.+?)\\s*}}","g");function W2(n){let e=[];if("string"==typeof n){let t;for(;t=mO.exec(n);)e.push(t[1]);mO.lastIndex=0}return e}function Ww(n,e,t){const r=n.toString(),i=r.replace(mO,(o,c)=>{let f=e[c];return null==f&&(t.push(function Lz(n){return new l.vHH(3003,!1)}()),f=""),f.toString()});return i==r?n:i}function hI(n){const e=[];let t=n.next();for(;!t.done;)e.push(t.value),t=n.next();return e}const D4=/-+([a-z0-9])/g;function _O(n){return n.replace(D4,(...e)=>e[1].toUpperCase())}function T4(n){return n.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase()}function fl(n,e,t){switch(e.type){case 7:return n.visitTrigger(e,t);case 0:return n.visitState(e,t);case 1:return n.visitTransition(e,t);case 2:return n.visitSequence(e,t);case 3:return n.visitGroup(e,t);case 4:return n.visitAnimate(e,t);case 5:return n.visitKeyframes(e,t);case 6:return n.visitStyle(e,t);case 8:return n.visitReference(e,t);case 9:return n.visitAnimateChild(e,t);case 10:return n.visitAnimateRef(e,t);case 11:return n.visitQuery(e,t);case 12:return n.visitStagger(e,t);default:throw function Bz(n){return new l.vHH(3004,!1)}()}}function K2(n,e){return window.getComputedStyle(n)[e]}const gI="*";function M4(n,e){const t=[];return"string"==typeof n?n.split(/\s*,\s*/).forEach(r=>function O4(n,e,t){if(":"==n[0]){const _=function x4(n,e){switch(n){case":enter":return"void => *";case":leave":return"* => void";case":increment":return(t,r)=>parseFloat(r)>parseFloat(t);case":decrement":return(t,r)=>parseFloat(r)<parseFloat(t);default:return e.push(function Qz(n){return new l.vHH(3016,!1)}()),"* => *"}}(n,t);if("function"==typeof _)return void e.push(_);n=_}const r=n.match(/^(\*|[-\w]+)\s*(<?[=-]>)\s*(\*|[-\w]+)$/);if(null==r||r.length<4)return t.push(function Jz(n){return new l.vHH(3015,!1)}()),e;const i=r[1],o=r[2],c=r[3];e.push(Z2(i,c));"<"==o[0]&&!(i==gI&&c==gI)&&e.push(Z2(c,i))}(r,t,e)):t.push(n),t}const mI=new Set(["true","1"]),_I=new Set(["false","0"]);function Z2(n,e){const t=mI.has(n)||_I.has(n),r=mI.has(e)||_I.has(e);return(i,o)=>{let c=n==gI||n==i,f=e==gI||e==o;return!c&&t&&"boolean"==typeof i&&(c=i?mI.has(n):_I.has(n)),!f&&r&&"boolean"==typeof o&&(f=o?mI.has(e):_I.has(e)),c&&f}}const R4=new RegExp("s*:selfs*,?","g");function yO(n,e,t,r){return new P4(n).build(e,t,r)}class P4{constructor(e){this._driver=e}build(e,t,r){const i=new L4(t);return this._resetContextStyleTimingState(i),fl(this,qw(e),i)}_resetContextStyleTimingState(e){e.currentQuerySelector="",e.collectedStyles=new Map,e.collectedStyles.set("",new Map),e.currentTime=0}visitTrigger(e,t){let r=t.queryCount=0,i=t.depCount=0;const o=[],c=[];return"@"==e.name.charAt(0)&&t.errors.push(function Vz(){return new l.vHH(3006,!1)}()),e.definitions.forEach(f=>{if(this._resetContextStyleTimingState(t),0==f.type){const _=f,b=_.name;b.toString().split(/\s*,\s*/).forEach(T=>{_.name=T,o.push(this.visitState(_,t))}),_.name=b}else if(1==f.type){const _=this.visitTransition(f,t);r+=_.queryCount,i+=_.depCount,c.push(_)}else t.errors.push(function Hz(){return new l.vHH(3007,!1)}())}),{type:7,name:e.name,states:o,transitions:c,queryCount:r,depCount:i,options:null}}visitState(e,t){const r=this.visitStyle(e.styles,t),i=e.options&&e.options.params||null;if(r.containsDynamicStyles){const o=new Set,c=i||{};r.styles.forEach(f=>{f instanceof Map&&f.forEach(_=>{W2(_).forEach(b=>{c.hasOwnProperty(b)||o.add(b)})})}),o.size&&(hI(o.values()),t.errors.push(function jz(n,e){return new l.vHH(3008,!1)}()))}return{type:0,name:e.name,style:r,options:i?{params:i}:null}}visitTransition(e,t){t.queryCount=0,t.depCount=0;const r=fl(this,qw(e.animation),t);return{type:1,matchers:M4(e.expr,t.errors),animation:r,queryCount:t.queryCount,depCount:t.depCount,options:xm(e.options)}}visitSequence(e,t){return{type:2,steps:e.steps.map(r=>fl(this,r,t)),options:xm(e.options)}}visitGroup(e,t){const r=t.currentTime;let i=0;const o=e.steps.map(c=>{t.currentTime=r;const f=fl(this,c,t);return i=Math.max(i,t.currentTime),f});return t.currentTime=i,{type:3,steps:o,options:xm(e.options)}}visitAnimate(e,t){const r=function U4(n,e){if(n.hasOwnProperty("duration"))return n;if("number"==typeof n)return vO(dI(n,e).duration,0,"");const t=n;if(t.split(/\s+/).some(o=>"{"==o.charAt(0)&&"{"==o.charAt(1))){const o=vO(0,0,"");return o.dynamic=!0,o.strValue=t,o}const i=dI(t,e);return vO(i.duration,i.delay,i.easing)}(e.timings,t.errors);t.currentAnimateTimings=r;let i,o=e.styles?e.styles:N2({});if(5==o.type)i=this.visitKeyframes(o,t);else{let c=e.styles,f=!1;if(!c){f=!0;const b={};r.easing&&(b.easing=r.easing),c=N2(b)}t.currentTime+=r.duration+r.delay;const _=this.visitStyle(c,t);_.isEmptyStep=f,i=_}return t.currentAnimateTimings=null,{type:4,timings:r,style:i,options:null}}visitStyle(e,t){const r=this._makeStyleAst(e,t);return this._validateStyleAst(r,t),r}_makeStyleAst(e,t){const r=[],i=Array.isArray(e.styles)?e.styles:[e.styles];for(let f of i)"string"==typeof f?f===Fh?r.push(f):t.errors.push(new l.vHH(3002,!1)):r.push($2(f));let o=!1,c=null;return r.forEach(f=>{if(f instanceof Map&&(f.has("easing")&&(c=f.get("easing"),f.delete("easing")),!o))for(let _ of f.values())if(_.toString().indexOf("{{")>=0){o=!0;break}}),{type:6,styles:r,easing:c,offset:e.offset,containsDynamicStyles:o,options:null}}_validateStyleAst(e,t){const r=t.currentAnimateTimings;let i=t.currentTime,o=t.currentTime;r&&o>0&&(o-=r.duration+r.delay),e.styles.forEach(c=>{"string"!=typeof c&&c.forEach((f,_)=>{const b=t.collectedStyles.get(t.currentQuerySelector),T=b.get(_);let M=!0;T&&(o!=i&&o>=T.startTime&&i<=T.endTime&&(t.errors.push(function Gz(n,e,t,r,i){return new l.vHH(3010,!1)}()),M=!1),o=T.startTime),M&&b.set(_,{startTime:o,endTime:i}),t.options&&function E4(n,e,t){const r=e.params||{},i=W2(n);i.length&&i.forEach(o=>{r.hasOwnProperty(o)||t.push(function Fz(n){return new l.vHH(3001,!1)}())})}(f,t.options,t.errors)})})}visitKeyframes(e,t){const r={type:5,styles:[],options:null};if(!t.currentAnimateTimings)return t.errors.push(function zz(){return new l.vHH(3011,!1)}()),r;let o=0;const c=[];let f=!1,_=!1,b=0;const T=e.steps.map(Ae=>{const Ue=this._makeStyleAst(Ae,t);let qe=null!=Ue.offset?Ue.offset:function B4(n){if("string"==typeof n)return null;let e=null;if(Array.isArray(n))n.forEach(t=>{if(t instanceof Map&&t.has("offset")){const r=t;e=parseFloat(r.get("offset")),r.delete("offset")}});else if(n instanceof Map&&n.has("offset")){const t=n;e=parseFloat(t.get("offset")),t.delete("offset")}return e}(Ue.styles),Ye=0;return null!=qe&&(o++,Ye=Ue.offset=qe),_=_||Ye<0||Ye>1,f=f||Ye<b,b=Ye,c.push(Ye),Ue});_&&t.errors.push(function qz(){return new l.vHH(3012,!1)}()),f&&t.errors.push(function Wz(){return new l.vHH(3200,!1)}());const M=e.steps.length;let F=0;o>0&&o<M?t.errors.push(function Kz(){return new l.vHH(3202,!1)}()):0==o&&(F=1/(M-1));const L=M-1,z=t.currentTime,J=t.currentAnimateTimings,ae=J.duration;return T.forEach((Ae,Ue)=>{const qe=F>0?Ue==L?1:F*Ue:c[Ue],Ye=qe*ae;t.currentTime=z+J.delay+Ye,J.duration=Ye,this._validateStyleAst(Ae,t),Ae.offset=qe,r.styles.push(Ae)}),r}visitReference(e,t){return{type:8,animation:fl(this,qw(e.animation),t),options:xm(e.options)}}visitAnimateChild(e,t){return t.depCount++,{type:9,options:xm(e.options)}}visitAnimateRef(e,t){return{type:10,animation:this.visitReference(e.animation,t),options:xm(e.options)}}visitQuery(e,t){const r=t.currentQuerySelector,i=e.options||{};t.queryCount++,t.currentQuery=e;const[o,c]=function k4(n){const e=!!n.split(/\s*,\s*/).find(t=>":self"==t);return e&&(n=n.replace(R4,"")),n=n.replace(/@\*/g,cI).replace(/@\w+/g,t=>cI+"-"+t.slice(1)).replace(/:animating/g,pO),[n,e]}(e.selector);t.currentQuerySelector=r.length?r+" "+o:o,hl(t.collectedStyles,t.currentQuerySelector,new Map);const f=fl(this,qw(e.animation),t);return t.currentQuery=null,t.currentQuerySelector=r,{type:11,selector:o,limit:i.limit||0,optional:!!i.optional,includeSelf:c,animation:f,originalSelector:e.selector,options:xm(e.options)}}visitStagger(e,t){t.currentQuery||t.errors.push(function Zz(){return new l.vHH(3013,!1)}());const r="full"===e.timings?{duration:0,delay:0,easing:"full"}:dI(e.timings,t.errors,!0);return{type:12,animation:fl(this,qw(e.animation),t),timings:r,options:null}}}class L4{constructor(e){this.errors=e,this.queryCount=0,this.depCount=0,this.currentTransition=null,this.currentQuery=null,this.currentQuerySelector=null,this.currentAnimateTimings=null,this.currentTime=0,this.collectedStyles=new Map,this.options=null,this.unsupportedCSSPropertiesFound=new Set}}function xm(n){return n?(n=zw(n)).params&&(n.params=function F4(n){return n?zw(n):null}(n.params)):n={},n}function vO(n,e,t){return{duration:n,delay:e,easing:t}}function bO(n,e,t,r,i,o,c=null,f=!1){return{type:1,element:n,keyframes:e,preStyleProps:t,postStyleProps:r,duration:i,delay:o,totalTime:i+o,easing:c,subTimeline:f}}class yI{constructor(){this._map=new Map}get(e){return this._map.get(e)||[]}append(e,t){let r=this._map.get(e);r||this._map.set(e,r=[]),r.push(...t)}has(e){return this._map.has(e)}clear(){this._map.clear()}}const j4=new RegExp(":enter","g"),G4=new RegExp(":leave","g");function wO(n,e,t,r,i,o=new Map,c=new Map,f,_,b=[]){return(new z4).buildKeyframes(n,e,t,r,i,o,c,f,_,b)}class z4{buildKeyframes(e,t,r,i,o,c,f,_,b,T=[]){b=b||new yI;const M=new EO(e,t,b,i,o,T,[]);M.options=_;const F=_.delay?Lh(_.delay):0;M.currentTimeline.delayNextStep(F),M.currentTimeline.setStyles([c],null,M.errors,_),fl(this,r,M);const L=M.timelines.filter(z=>z.containsAnimation());if(L.length&&f.size){let z;for(let J=L.length-1;J>=0;J--){const ae=L[J];if(ae.element===t){z=ae;break}}z&&!z.allowOnlyTimelineStyles()&&z.setStyles([f],null,M.errors,_)}return L.length?L.map(z=>z.buildKeyframes()):[bO(t,[],[],[],0,F,"",!1)]}visitTrigger(e,t){}visitState(e,t){}visitTransition(e,t){}visitAnimateChild(e,t){const r=t.subInstructions.get(t.element);if(r){const i=t.createSubContext(e.options),o=t.currentTimeline.currentTime,c=this._visitSubInstructions(r,i,i.options);o!=c&&t.transformIntoNewTimeline(c)}t.previousNode=e}visitAnimateRef(e,t){const r=t.createSubContext(e.options);r.transformIntoNewTimeline(),this._applyAnimationRefDelays([e.options,e.animation.options],t,r),this.visitReference(e.animation,r),t.transformIntoNewTimeline(r.currentTimeline.currentTime),t.previousNode=e}_applyAnimationRefDelays(e,t,r){for(const i of e){const o=i?.delay;if(o){const c="number"==typeof o?o:Lh(Ww(o,i?.params??{},t.errors));r.delayNextStep(c)}}}_visitSubInstructions(e,t,r){let o=t.currentTimeline.currentTime;const c=null!=r.duration?Lh(r.duration):null,f=null!=r.delay?Lh(r.delay):null;return 0!==c&&e.forEach(_=>{const b=t.appendInstructionToTimeline(_,c,f);o=Math.max(o,b.duration+b.delay)}),o}visitReference(e,t){t.updateOptions(e.options,!0),fl(this,e.animation,t),t.previousNode=e}visitSequence(e,t){const r=t.subContextCount;let i=t;const o=e.options;if(o&&(o.params||o.delay)&&(i=t.createSubContext(o),i.transformIntoNewTimeline(),null!=o.delay)){6==i.previousNode.type&&(i.currentTimeline.snapshotCurrentStyles(),i.previousNode=vI);const c=Lh(o.delay);i.delayNextStep(c)}e.steps.length&&(e.steps.forEach(c=>fl(this,c,i)),i.currentTimeline.applyStylesToKeyframe(),i.subContextCount>r&&i.transformIntoNewTimeline()),t.previousNode=e}visitGroup(e,t){const r=[];let i=t.currentTimeline.currentTime;const o=e.options&&e.options.delay?Lh(e.options.delay):0;e.steps.forEach(c=>{const f=t.createSubContext(e.options);o&&f.delayNextStep(o),fl(this,c,f),i=Math.max(i,f.currentTimeline.currentTime),r.push(f.currentTimeline)}),r.forEach(c=>t.currentTimeline.mergeTimelineCollectedStyles(c)),t.transformIntoNewTimeline(i),t.previousNode=e}_visitTiming(e,t){if(e.dynamic){const r=e.strValue;return dI(t.params?Ww(r,t.params,t.errors):r,t.errors)}return{duration:e.duration,delay:e.delay,easing:e.easing}}visitAnimate(e,t){const r=t.currentAnimateTimings=this._visitTiming(e.timings,t),i=t.currentTimeline;r.delay&&(t.incrementTime(r.delay),i.snapshotCurrentStyles());const o=e.style;5==o.type?this.visitKeyframes(o,t):(t.incrementTime(r.duration),this.visitStyle(o,t),i.applyStylesToKeyframe()),t.currentAnimateTimings=null,t.previousNode=e}visitStyle(e,t){const r=t.currentTimeline,i=t.currentAnimateTimings;!i&&r.hasCurrentStyleProperties()&&r.forwardFrame();const o=i&&i.easing||e.easing;e.isEmptyStep?r.applyEmptyStep(o):r.setStyles(e.styles,o,t.errors,t.options),t.previousNode=e}visitKeyframes(e,t){const r=t.currentAnimateTimings,i=t.currentTimeline.duration,o=r.duration,f=t.createSubContext().currentTimeline;f.easing=r.easing,e.styles.forEach(_=>{f.forwardTime((_.offset||0)*o),f.setStyles(_.styles,_.easing,t.errors,t.options),f.applyStylesToKeyframe()}),t.currentTimeline.mergeTimelineCollectedStyles(f),t.transformIntoNewTimeline(i+o),t.previousNode=e}visitQuery(e,t){const r=t.currentTimeline.currentTime,i=e.options||{},o=i.delay?Lh(i.delay):0;o&&(6===t.previousNode.type||0==r&&t.currentTimeline.hasCurrentStyleProperties())&&(t.currentTimeline.snapshotCurrentStyles(),t.previousNode=vI);let c=r;const f=t.invokeQuery(e.selector,e.originalSelector,e.limit,e.includeSelf,!!i.optional,t.errors);t.currentQueryTotal=f.length;let _=null;f.forEach((b,T)=>{t.currentQueryIndex=T;const M=t.createSubContext(e.options,b);o&&M.delayNextStep(o),b===t.element&&(_=M.currentTimeline),fl(this,e.animation,M),M.currentTimeline.applyStylesToKeyframe(),c=Math.max(c,M.currentTimeline.currentTime)}),t.currentQueryIndex=0,t.currentQueryTotal=0,t.transformIntoNewTimeline(c),_&&(t.currentTimeline.mergeTimelineCollectedStyles(_),t.currentTimeline.snapshotCurrentStyles()),t.previousNode=e}visitStagger(e,t){const r=t.parentContext,i=t.currentTimeline,o=e.timings,c=Math.abs(o.duration),f=c*(t.currentQueryTotal-1);let _=c*t.currentQueryIndex;switch(o.duration<0?"reverse":o.easing){case"reverse":_=f-_;break;case"full":_=r.currentStaggerTime}const T=t.currentTimeline;_&&T.delayNextStep(_);const M=T.currentTime;fl(this,e.animation,t),t.previousNode=e,r.currentStaggerTime=i.currentTime-M+(i.startTime-r.currentTimeline.startTime)}}const vI={};class EO{constructor(e,t,r,i,o,c,f,_){this._driver=e,this.element=t,this.subInstructions=r,this._enterClassName=i,this._leaveClassName=o,this.errors=c,this.timelines=f,this.parentContext=null,this.currentAnimateTimings=null,this.previousNode=vI,this.subContextCount=0,this.options={},this.currentQueryIndex=0,this.currentQueryTotal=0,this.currentStaggerTime=0,this.currentTimeline=_||new bI(this._driver,t,0),f.push(this.currentTimeline)}get params(){return this.options.params}updateOptions(e,t){if(!e)return;const r=e;let i=this.options;null!=r.duration&&(i.duration=Lh(r.duration)),null!=r.delay&&(i.delay=Lh(r.delay));const o=r.params;if(o){let c=i.params;c||(c=this.options.params={}),Object.keys(o).forEach(f=>{(!t||!c.hasOwnProperty(f))&&(c[f]=Ww(o[f],c,this.errors))})}}_copyOptions(){const e={};if(this.options){const t=this.options.params;if(t){const r=e.params={};Object.keys(t).forEach(i=>{r[i]=t[i]})}}return e}createSubContext(e=null,t,r){const i=t||this.element,o=new EO(this._driver,i,this.subInstructions,this._enterClassName,this._leaveClassName,this.errors,this.timelines,this.currentTimeline.fork(i,r||0));return o.previousNode=this.previousNode,o.currentAnimateTimings=this.currentAnimateTimings,o.options=this._copyOptions(),o.updateOptions(e),o.currentQueryIndex=this.currentQueryIndex,o.currentQueryTotal=this.currentQueryTotal,o.parentContext=this,this.subContextCount++,o}transformIntoNewTimeline(e){return this.previousNode=vI,this.currentTimeline=this.currentTimeline.fork(this.element,e),this.timelines.push(this.currentTimeline),this.currentTimeline}appendInstructionToTimeline(e,t,r){const i={duration:t??e.duration,delay:this.currentTimeline.currentTime+(r??0)+e.delay,easing:""},o=new q4(this._driver,e.element,e.keyframes,e.preStyleProps,e.postStyleProps,i,e.stretchStartingKeyframe);return this.timelines.push(o),i}incrementTime(e){this.currentTimeline.forwardTime(this.currentTimeline.duration+e)}delayNextStep(e){e>0&&this.currentTimeline.delayNextStep(e)}invokeQuery(e,t,r,i,o,c){let f=[];if(i&&f.push(this.element),e.length>0){e=(e=e.replace(j4,"."+this._enterClassName)).replace(G4,"."+this._leaveClassName);let b=this._driver.query(this.element,e,1!=r);0!==r&&(b=r<0?b.slice(b.length+r,b.length):b.slice(0,r)),f.push(...b)}return!o&&0==f.length&&c.push(function Yz(n){return new l.vHH(3014,!1)}()),f}}class bI{constructor(e,t,r,i){this._driver=e,this.element=t,this.startTime=r,this._elementTimelineStylesLookup=i,this.duration=0,this.easing=null,this._previousKeyframe=new Map,this._currentKeyframe=new Map,this._keyframes=new Map,this._styleSummary=new Map,this._localTimelineStyles=new Map,this._pendingStyles=new Map,this._backFill=new Map,this._currentEmptyStepKeyframe=null,this._elementTimelineStylesLookup||(this._elementTimelineStylesLookup=new Map),this._globalTimelineStyles=this._elementTimelineStylesLookup.get(t),this._globalTimelineStyles||(this._globalTimelineStyles=this._localTimelineStyles,this._elementTimelineStylesLookup.set(t,this._localTimelineStyles)),this._loadKeyframe()}containsAnimation(){switch(this._keyframes.size){case 0:return!1;case 1:return this.hasCurrentStyleProperties();default:return!0}}hasCurrentStyleProperties(){return this._currentKeyframe.size>0}get currentTime(){return this.startTime+this.duration}delayNextStep(e){const t=1===this._keyframes.size&&this._pendingStyles.size;this.duration||t?(this.forwardTime(this.currentTime+e),t&&this.snapshotCurrentStyles()):this.startTime+=e}fork(e,t){return this.applyStylesToKeyframe(),new bI(this._driver,e,t||this.currentTime,this._elementTimelineStylesLookup)}_loadKeyframe(){this._currentKeyframe&&(this._previousKeyframe=this._currentKeyframe),this._currentKeyframe=this._keyframes.get(this.duration),this._currentKeyframe||(this._currentKeyframe=new Map,this._keyframes.set(this.duration,this._currentKeyframe))}forwardFrame(){this.duration+=1,this._loadKeyframe()}forwardTime(e){this.applyStylesToKeyframe(),this.duration=e,this._loadKeyframe()}_updateStyle(e,t){this._localTimelineStyles.set(e,t),this._globalTimelineStyles.set(e,t),this._styleSummary.set(e,{time:this.currentTime,value:t})}allowOnlyTimelineStyles(){return this._currentEmptyStepKeyframe!==this._currentKeyframe}applyEmptyStep(e){e&&this._previousKeyframe.set("easing",e);for(let[t,r]of this._globalTimelineStyles)this._backFill.set(t,r||Fh),this._currentKeyframe.set(t,Fh);this._currentEmptyStepKeyframe=this._currentKeyframe}setStyles(e,t,r,i){t&&this._previousKeyframe.set("easing",t);const o=i&&i.params||{},c=function W4(n,e){const t=new Map;let r;return n.forEach(i=>{if("*"===i){r=r||e.keys();for(let o of r)t.set(o,Fh)}else Tp(i,t)}),t}(e,this._globalTimelineStyles);for(let[f,_]of c){const b=Ww(_,o,r);this._pendingStyles.set(f,b),this._localTimelineStyles.has(f)||this._backFill.set(f,this._globalTimelineStyles.get(f)??Fh),this._updateStyle(f,b)}}applyStylesToKeyframe(){0!=this._pendingStyles.size&&(this._pendingStyles.forEach((e,t)=>{this._currentKeyframe.set(t,e)}),this._pendingStyles.clear(),this._localTimelineStyles.forEach((e,t)=>{this._currentKeyframe.has(t)||this._currentKeyframe.set(t,e)}))}snapshotCurrentStyles(){for(let[e,t]of this._localTimelineStyles)this._pendingStyles.set(e,t),this._updateStyle(e,t)}getFinalKeyframe(){return this._keyframes.get(this.duration)}get properties(){const e=[];for(let t in this._currentKeyframe)e.push(t);return e}mergeTimelineCollectedStyles(e){e._styleSummary.forEach((t,r)=>{const i=this._styleSummary.get(r);(!i||t.time>i.time)&&this._updateStyle(r,t.value)})}buildKeyframes(){this.applyStylesToKeyframe();const e=new Set,t=new Set,r=1===this._keyframes.size&&0===this.duration;let i=[];this._keyframes.forEach((f,_)=>{const b=Tp(f,new Map,this._backFill);b.forEach((T,M)=>{T===sO?e.add(M):T===Fh&&t.add(M)}),r||b.set("offset",_/this.duration),i.push(b)});const o=e.size?hI(e.values()):[],c=t.size?hI(t.values()):[];if(r){const f=i[0],_=new Map(f);f.set("offset",0),_.set("offset",1),i=[f,_]}return bO(this.element,i,o,c,this.duration,this.startTime,this.easing,!1)}}class q4 extends bI{constructor(e,t,r,i,o,c,f=!1){super(e,t,c.delay),this.keyframes=r,this.preStyleProps=i,this.postStyleProps=o,this._stretchStartingKeyframe=f,this.timings={duration:c.duration,delay:c.delay,easing:c.easing}}containsAnimation(){return this.keyframes.length>1}buildKeyframes(){let e=this.keyframes,{delay:t,duration:r,easing:i}=this.timings;if(this._stretchStartingKeyframe&&t){const o=[],c=r+t,f=t/c,_=Tp(e[0]);_.set("offset",0),o.push(_);const b=Tp(e[0]);b.set("offset",Q2(f)),o.push(b);const T=e.length-1;for(let M=1;M<=T;M++){let F=Tp(e[M]);const L=F.get("offset");F.set("offset",Q2((t+L*r)/c)),o.push(F)}r=c,t=0,i="",e=o}return bO(this.element,e,this.preStyleProps,this.postStyleProps,r,t,i,!0)}}function Q2(n,e=3){const t=Math.pow(10,e-1);return Math.round(n*t)/t}class DO{}const K4=new Set(["width","height","minWidth","minHeight","maxWidth","maxHeight","left","top","bottom","right","fontSize","outlineWidth","outlineOffset","paddingTop","paddingLeft","paddingBottom","paddingRight","marginTop","marginLeft","marginBottom","marginRight","borderRadius","borderWidth","borderTopWidth","borderLeftWidth","borderRightWidth","borderBottomWidth","textIndent","perspective"]);class Z4 extends DO{normalizePropertyName(e,t){return _O(e)}normalizeStyleValue(e,t,r,i){let o="";const c=r.toString().trim();if(K4.has(t)&&0!==r&&"0"!==r)if("number"==typeof r)o="px";else{const f=r.match(/^[+-]?[\d\.]+([a-z]*)$/);f&&0==f[1].length&&i.push(function Uz(n,e){return new l.vHH(3005,!1)}())}return c+o}}function X2(n,e,t,r,i,o,c,f,_,b,T,M,F){return{type:0,element:n,triggerName:e,isRemovalTransition:i,fromState:t,fromStyles:o,toState:r,toStyles:c,timelines:f,queriedElements:_,preStyleProps:b,postStyleProps:T,totalTime:M,errors:F}}const TO={};class eL{constructor(e,t,r){this._triggerName=e,this.ast=t,this._stateStyles=r}match(e,t,r,i){return function Y4(n,e,t,r,i){return n.some(o=>o(e,t,r,i))}(this.ast.matchers,e,t,r,i)}buildStyles(e,t,r){let i=this._stateStyles.get("*");return void 0!==e&&(i=this._stateStyles.get(e?.toString())||i),i?i.buildStyles(t,r):new Map}build(e,t,r,i,o,c,f,_,b,T){const M=[],F=this.ast.options&&this.ast.options.params||TO,z=this.buildStyles(r,f&&f.params||TO,M),J=_&&_.params||TO,ae=this.buildStyles(i,J,M),Ae=new Set,Ue=new Map,qe=new Map,Ye="void"===i,dt={params:J4(J,F),delay:this.ast.options?.delay},vt=T?[]:wO(e,t,this.ast.animation,o,c,z,ae,dt,b,M);let qt=0;if(vt.forEach(fr=>{qt=Math.max(fr.duration+fr.delay,qt)}),M.length)return X2(t,this._triggerName,r,i,Ye,z,ae,[],[],Ue,qe,qt,M);vt.forEach(fr=>{const pr=fr.element,oi=hl(Ue,pr,new Set);fr.preStyleProps.forEach(mi=>oi.add(mi));const oo=hl(qe,pr,new Set);fr.postStyleProps.forEach(mi=>oo.add(mi)),pr!==t&&Ae.add(pr)});const gn=hI(Ae.values());return X2(t,this._triggerName,r,i,Ye,z,ae,vt,gn,Ue,qe,qt)}}function J4(n,e){const t=zw(e);for(const r in n)n.hasOwnProperty(r)&&null!=n[r]&&(t[r]=n[r]);return t}class Q4{constructor(e,t,r){this.styles=e,this.defaultParams=t,this.normalizer=r}buildStyles(e,t){const r=new Map,i=zw(this.defaultParams);return Object.keys(e).forEach(o=>{const c=e[o];null!==c&&(i[o]=c)}),this.styles.styles.forEach(o=>{"string"!=typeof o&&o.forEach((c,f)=>{c&&(c=Ww(c,i,t));const _=this.normalizer.normalizePropertyName(f,t);c=this.normalizer.normalizeStyleValue(f,_,c,t),r.set(f,c)})}),r}}class e5{constructor(e,t,r){this.name=e,this.ast=t,this._normalizer=r,this.transitionFactories=[],this.states=new Map,t.states.forEach(i=>{this.states.set(i.name,new Q4(i.style,i.options&&i.options.params||{},r))}),tL(this.states,"true","1"),tL(this.states,"false","0"),t.transitions.forEach(i=>{this.transitionFactories.push(new eL(e,i,this.states))}),this.fallbackTransition=function t5(n,e,t){return new eL(n,{type:1,animation:{type:2,steps:[],options:null},matchers:[(c,f)=>!0],options:null,queryCount:0,depCount:0},e)}(e,this.states)}get containsQueries(){return this.ast.queryCount>0}matchTransition(e,t,r,i){return this.transitionFactories.find(c=>c.match(e,t,r,i))||null}matchStyles(e,t,r){return this.fallbackTransition.buildStyles(e,t,r)}}function tL(n,e,t){n.has(e)?n.has(t)||n.set(t,n.get(e)):n.has(t)&&n.set(e,n.get(t))}const n5=new yI;class r5{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._animations=new Map,this._playersById=new Map,this.players=[]}register(e,t){const r=[],i=[],o=yO(this._driver,t,r,i);if(r.length)throw function r4(n){return new l.vHH(3503,!1)}();this._animations.set(e,o)}_buildPlayer(e,t,r){const i=e.element,o=R2(0,this._normalizer,0,e.keyframes,t,r);return this._driver.animate(i,o,e.duration,e.delay,e.easing,[],!0)}create(e,t,r={}){const i=[],o=this._animations.get(e);let c;const f=new Map;if(o?(c=wO(this._driver,t,o,fO,lI,new Map,new Map,r,n5,i),c.forEach(T=>{const M=hl(f,T.element,new Map);T.postStyleProps.forEach(F=>M.set(F,null))})):(i.push(function i4(){return new l.vHH(3300,!1)}()),c=[]),i.length)throw function s4(n){return new l.vHH(3504,!1)}();f.forEach((T,M)=>{T.forEach((F,L)=>{T.set(L,this._driver.computeStyle(M,L,Fh))})});const b=Dp(c.map(T=>{const M=f.get(T.element);return this._buildPlayer(T,new Map,M)}));return this._playersById.set(e,b),b.onDestroy(()=>this.destroy(e)),this.players.push(b),b}destroy(e){const t=this._getPlayer(e);t.destroy(),this._playersById.delete(e);const r=this.players.indexOf(t);r>=0&&this.players.splice(r,1)}_getPlayer(e){const t=this._playersById.get(e);if(!t)throw function o4(n){return new l.vHH(3301,!1)}();return t}listen(e,t,r,i){const o=uO(t,"","","");return aO(this._getPlayer(e),r,o,i),()=>{}}command(e,t,r,i){if("register"==r)return void this.register(e,i[0]);if("create"==r)return void this.create(e,t,i[0]||{});const o=this._getPlayer(e);switch(r){case"play":o.play();break;case"pause":o.pause();break;case"reset":o.reset();break;case"restart":o.restart();break;case"finish":o.finish();break;case"init":o.init();break;case"setPosition":o.setPosition(parseFloat(i[0]));break;case"destroy":this.destroy(e)}}}const nL="ng-animate-queued",IO="ng-animate-disabled",l5=[],rL={namespaceId:"",setForRemoval:!1,setForMove:!1,hasAnimation:!1,removedBeforeQueried:!1},u5={namespaceId:"",setForMove:!1,setForRemoval:!1,hasAnimation:!1,removedBeforeQueried:!0},Jl="__ng_removed";class SO{get params(){return this.options.params}constructor(e,t=""){this.namespaceId=t;const r=e&&e.hasOwnProperty("value");if(this.value=function f5(n){return n??null}(r?e.value:e),r){const o=zw(e);delete o.value,this.options=o}else this.options={};this.options.params||(this.options.params={})}absorbOptions(e){const t=e.params;if(t){const r=this.options.params;Object.keys(t).forEach(i=>{null==r[i]&&(r[i]=t[i])})}}}const Kw="void",CO=new SO(Kw);class c5{constructor(e,t,r){this.id=e,this.hostElement=t,this._engine=r,this.players=[],this._triggers=new Map,this._queue=[],this._elementListeners=new Map,this._hostClassName="ng-tns-"+e,Ql(t,this._hostClassName)}listen(e,t,r,i){if(!this._triggers.has(t))throw function a4(n,e){return new l.vHH(3302,!1)}();if(null==r||0==r.length)throw function l4(n){return new l.vHH(3303,!1)}();if(!function p5(n){return"start"==n||"done"==n}(r))throw function u4(n,e){return new l.vHH(3400,!1)}();const o=hl(this._elementListeners,e,[]),c={name:t,phase:r,callback:i};o.push(c);const f=hl(this._engine.statesByElement,e,new Map);return f.has(t)||(Ql(e,uI),Ql(e,uI+"-"+t),f.set(t,CO)),()=>{this._engine.afterFlush(()=>{const _=o.indexOf(c);_>=0&&o.splice(_,1),this._triggers.has(t)||f.delete(t)})}}register(e,t){return!this._triggers.has(e)&&(this._triggers.set(e,t),!0)}_getTrigger(e){const t=this._triggers.get(e);if(!t)throw function c4(n){return new l.vHH(3401,!1)}();return t}trigger(e,t,r,i=!0){const o=this._getTrigger(t),c=new AO(this.id,t,e);let f=this._engine.statesByElement.get(e);f||(Ql(e,uI),Ql(e,uI+"-"+t),this._engine.statesByElement.set(e,f=new Map));let _=f.get(t);const b=new SO(r,this.id);if(!(r&&r.hasOwnProperty("value"))&&_&&b.absorbOptions(_.options),f.set(t,b),_||(_=CO),b.value!==Kw&&_.value===b.value){if(!function _5(n,e){const t=Object.keys(n),r=Object.keys(e);if(t.length!=r.length)return!1;for(let i=0;i<t.length;i++){const o=t[i];if(!e.hasOwnProperty(o)||n[o]!==e[o])return!1}return!0}(_.params,b.params)){const J=[],ae=o.matchStyles(_.value,_.params,J),Ae=o.matchStyles(b.value,b.params,J);J.length?this._engine.reportError(J):this._engine.afterFlush(()=>{Om(e,ae),dd(e,Ae)})}return}const F=hl(this._engine.playersByElement,e,[]);F.forEach(J=>{J.namespaceId==this.id&&J.triggerName==t&&J.queued&&J.destroy()});let L=o.matchTransition(_.value,b.value,e,b.params),z=!1;if(!L){if(!i)return;L=o.fallbackTransition,z=!0}return this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:t,transition:L,fromState:_,toState:b,player:c,isFallbackTransition:z}),z||(Ql(e,nL),c.onStart(()=>{tv(e,nL)})),c.onDone(()=>{let J=this.players.indexOf(c);J>=0&&this.players.splice(J,1);const ae=this._engine.playersByElement.get(e);if(ae){let Ae=ae.indexOf(c);Ae>=0&&ae.splice(Ae,1)}}),this.players.push(c),F.push(c),c}deregister(e){this._triggers.delete(e),this._engine.statesByElement.forEach(t=>t.delete(e)),this._elementListeners.forEach((t,r)=>{this._elementListeners.set(r,t.filter(i=>i.name!=e))})}clearElementCache(e){this._engine.statesByElement.delete(e),this._elementListeners.delete(e);const t=this._engine.playersByElement.get(e);t&&(t.forEach(r=>r.destroy()),this._engine.playersByElement.delete(e))}_signalRemovalForInnerTriggers(e,t){const r=this._engine.driver.query(e,cI,!0);r.forEach(i=>{if(i[Jl])return;const o=this._engine.fetchNamespacesByElement(i);o.size?o.forEach(c=>c.triggerLeaveAnimation(i,t,!1,!0)):this.clearElementCache(i)}),this._engine.afterFlushAnimationsDone(()=>r.forEach(i=>this.clearElementCache(i)))}triggerLeaveAnimation(e,t,r,i){const o=this._engine.statesByElement.get(e),c=new Map;if(o){const f=[];if(o.forEach((_,b)=>{if(c.set(b,_.value),this._triggers.has(b)){const T=this.trigger(e,b,Kw,i);T&&f.push(T)}}),f.length)return this._engine.markElementAsRemoved(this.id,e,!0,t,c),r&&Dp(f).onDone(()=>this._engine.processLeaveNode(e)),!0}return!1}prepareLeaveAnimationListeners(e){const t=this._elementListeners.get(e),r=this._engine.statesByElement.get(e);if(t&&r){const i=new Set;t.forEach(o=>{const c=o.name;if(i.has(c))return;i.add(c);const _=this._triggers.get(c).fallbackTransition,b=r.get(c)||CO,T=new SO(Kw),M=new AO(this.id,c,e);this._engine.totalQueuedPlayers++,this._queue.push({element:e,triggerName:c,transition:_,fromState:b,toState:T,player:M,isFallbackTransition:!0})})}}removeNode(e,t){const r=this._engine;if(e.childElementCount&&this._signalRemovalForInnerTriggers(e,t),this.triggerLeaveAnimation(e,t,!0))return;let i=!1;if(r.totalAnimations){const o=r.players.length?r.playersByQueriedElement.get(e):[];if(o&&o.length)i=!0;else{let c=e;for(;c=c.parentNode;)if(r.statesByElement.get(c)){i=!0;break}}}if(this.prepareLeaveAnimationListeners(e),i)r.markElementAsRemoved(this.id,e,!1,t);else{const o=e[Jl];(!o||o===rL)&&(r.afterFlush(()=>this.clearElementCache(e)),r.destroyInnerAnimations(e),r._onRemovalComplete(e,t))}}insertNode(e,t){Ql(e,this._hostClassName)}drainQueuedTransitions(e){const t=[];return this._queue.forEach(r=>{const i=r.player;if(i.destroyed)return;const o=r.element,c=this._elementListeners.get(o);c&&c.forEach(f=>{if(f.name==r.triggerName){const _=uO(o,r.triggerName,r.fromState.value,r.toState.value);_._data=e,aO(r.player,f.phase,_,f.callback)}}),i.markedForDestroy?this._engine.afterFlush(()=>{i.destroy()}):t.push(r)}),this._queue=[],t.sort((r,i)=>{const o=r.transition.ast.depCount,c=i.transition.ast.depCount;return 0==o||0==c?o-c:this._engine.driver.containsElement(r.element,i.element)?1:-1})}destroy(e){this.players.forEach(t=>t.destroy()),this._signalRemovalForInnerTriggers(this.hostElement,e)}elementContainsData(e){let t=!1;return this._elementListeners.has(e)&&(t=!0),t=!!this._queue.find(r=>r.element===e)||t,t}}class d5{_onRemovalComplete(e,t){this.onRemovalComplete(e,t)}constructor(e,t,r){this.bodyNode=e,this.driver=t,this._normalizer=r,this.players=[],this.newHostElements=new Map,this.playersByElement=new Map,this.playersByQueriedElement=new Map,this.statesByElement=new Map,this.disabledNodes=new Set,this.totalAnimations=0,this.totalQueuedPlayers=0,this._namespaceLookup={},this._namespaceList=[],this._flushFns=[],this._whenQuietFns=[],this.namespacesByHostElement=new Map,this.collectedEnterElements=[],this.collectedLeaveElements=[],this.onRemovalComplete=(i,o)=>{}}get queuedPlayers(){const e=[];return this._namespaceList.forEach(t=>{t.players.forEach(r=>{r.queued&&e.push(r)})}),e}createNamespace(e,t){const r=new c5(e,t,this);return this.bodyNode&&this.driver.containsElement(this.bodyNode,t)?this._balanceNamespaceList(r,t):(this.newHostElements.set(t,r),this.collectEnterElement(t)),this._namespaceLookup[e]=r}_balanceNamespaceList(e,t){const r=this._namespaceList,i=this.namespacesByHostElement;if(r.length-1>=0){let c=!1,f=this.driver.getParentElement(t);for(;f;){const _=i.get(f);if(_){const b=r.indexOf(_);r.splice(b+1,0,e),c=!0;break}f=this.driver.getParentElement(f)}c||r.unshift(e)}else r.push(e);return i.set(t,e),e}register(e,t){let r=this._namespaceLookup[e];return r||(r=this.createNamespace(e,t)),r}registerTrigger(e,t,r){let i=this._namespaceLookup[e];i&&i.register(t,r)&&this.totalAnimations++}destroy(e,t){if(!e)return;const r=this._fetchNamespace(e);this.afterFlush(()=>{this.namespacesByHostElement.delete(r.hostElement),delete this._namespaceLookup[e];const i=this._namespaceList.indexOf(r);i>=0&&this._namespaceList.splice(i,1)}),this.afterFlushAnimationsDone(()=>r.destroy(t))}_fetchNamespace(e){return this._namespaceLookup[e]}fetchNamespacesByElement(e){const t=new Set,r=this.statesByElement.get(e);if(r)for(let i of r.values())if(i.namespaceId){const o=this._fetchNamespace(i.namespaceId);o&&t.add(o)}return t}trigger(e,t,r,i){if(wI(t)){const o=this._fetchNamespace(e);if(o)return o.trigger(t,r,i),!0}return!1}insertNode(e,t,r,i){if(!wI(t))return;const o=t[Jl];if(o&&o.setForRemoval){o.setForRemoval=!1,o.setForMove=!0;const c=this.collectedLeaveElements.indexOf(t);c>=0&&this.collectedLeaveElements.splice(c,1)}if(e){const c=this._fetchNamespace(e);c&&c.insertNode(t,r)}i&&this.collectEnterElement(t)}collectEnterElement(e){this.collectedEnterElements.push(e)}markElementAsDisabled(e,t){t?this.disabledNodes.has(e)||(this.disabledNodes.add(e),Ql(e,IO)):this.disabledNodes.has(e)&&(this.disabledNodes.delete(e),tv(e,IO))}removeNode(e,t,r,i){if(wI(t)){const o=e?this._fetchNamespace(e):null;if(o?o.removeNode(t,i):this.markElementAsRemoved(e,t,!1,i),r){const c=this.namespacesByHostElement.get(t);c&&c.id!==e&&c.removeNode(t,i)}}else this._onRemovalComplete(t,i)}markElementAsRemoved(e,t,r,i,o){this.collectedLeaveElements.push(t),t[Jl]={namespaceId:e,setForRemoval:i,hasAnimation:r,removedBeforeQueried:!1,previousTriggersValues:o}}listen(e,t,r,i,o){return wI(t)?this._fetchNamespace(e).listen(t,r,i,o):()=>{}}_buildInstruction(e,t,r,i,o){return e.transition.build(this.driver,e.element,e.fromState.value,e.toState.value,r,i,e.fromState.options,e.toState.options,t,o)}destroyInnerAnimations(e){let t=this.driver.query(e,cI,!0);t.forEach(r=>this.destroyActiveAnimationsForElement(r)),0!=this.playersByQueriedElement.size&&(t=this.driver.query(e,pO,!0),t.forEach(r=>this.finishActiveQueriedAnimationOnElement(r)))}destroyActiveAnimationsForElement(e){const t=this.playersByElement.get(e);t&&t.forEach(r=>{r.queued?r.markedForDestroy=!0:r.destroy()})}finishActiveQueriedAnimationOnElement(e){const t=this.playersByQueriedElement.get(e);t&&t.forEach(r=>r.finish())}whenRenderingDone(){return new Promise(e=>{if(this.players.length)return Dp(this.players).onDone(()=>e());e()})}processLeaveNode(e){const t=e[Jl];if(t&&t.setForRemoval){if(e[Jl]=rL,t.namespaceId){this.destroyInnerAnimations(e);const r=this._fetchNamespace(t.namespaceId);r&&r.clearElementCache(e)}this._onRemovalComplete(e,t.setForRemoval)}e.classList?.contains(IO)&&this.markElementAsDisabled(e,!1),this.driver.query(e,".ng-animate-disabled",!0).forEach(r=>{this.markElementAsDisabled(r,!1)})}flush(e=-1){let t=[];if(this.newHostElements.size&&(this.newHostElements.forEach((r,i)=>this._balanceNamespaceList(r,i)),this.newHostElements.clear()),this.totalAnimations&&this.collectedEnterElements.length)for(let r=0;r<this.collectedEnterElements.length;r++)Ql(this.collectedEnterElements[r],"ng-star-inserted");if(this._namespaceList.length&&(this.totalQueuedPlayers||this.collectedLeaveElements.length)){const r=[];try{t=this._flushAnimations(r,e)}finally{for(let i=0;i<r.length;i++)r[i]()}}else for(let r=0;r<this.collectedLeaveElements.length;r++)this.processLeaveNode(this.collectedLeaveElements[r]);if(this.totalQueuedPlayers=0,this.collectedEnterElements.length=0,this.collectedLeaveElements.length=0,this._flushFns.forEach(r=>r()),this._flushFns=[],this._whenQuietFns.length){const r=this._whenQuietFns;this._whenQuietFns=[],t.length?Dp(t).onDone(()=>{r.forEach(i=>i())}):r.forEach(i=>i())}}reportError(e){throw function d4(n){return new l.vHH(3402,!1)}()}_flushAnimations(e,t){const r=new yI,i=[],o=new Map,c=[],f=new Map,_=new Map,b=new Map,T=new Set;this.disabledNodes.forEach(Et=>{T.add(Et);const Ut=this.driver.query(Et,".ng-animate-queued",!0);for(let Qt=0;Qt<Ut.length;Qt++)T.add(Ut[Qt])});const M=this.bodyNode,F=Array.from(this.statesByElement.keys()),L=oL(F,this.collectedEnterElements),z=new Map;let J=0;L.forEach((Et,Ut)=>{const Qt=fO+J++;z.set(Ut,Qt),Et.forEach(Sn=>Ql(Sn,Qt))});const ae=[],Ae=new Set,Ue=new Set;for(let Et=0;Et<this.collectedLeaveElements.length;Et++){const Ut=this.collectedLeaveElements[Et],Qt=Ut[Jl];Qt&&Qt.setForRemoval&&(ae.push(Ut),Ae.add(Ut),Qt.hasAnimation?this.driver.query(Ut,".ng-star-inserted",!0).forEach(Sn=>Ae.add(Sn)):Ue.add(Ut))}const qe=new Map,Ye=oL(F,Array.from(Ae));Ye.forEach((Et,Ut)=>{const Qt=lI+J++;qe.set(Ut,Qt),Et.forEach(Sn=>Ql(Sn,Qt))}),e.push(()=>{L.forEach((Et,Ut)=>{const Qt=z.get(Ut);Et.forEach(Sn=>tv(Sn,Qt))}),Ye.forEach((Et,Ut)=>{const Qt=qe.get(Ut);Et.forEach(Sn=>tv(Sn,Qt))}),ae.forEach(Et=>{this.processLeaveNode(Et)})});const dt=[],vt=[];for(let Et=this._namespaceList.length-1;Et>=0;Et--)this._namespaceList[Et].drainQueuedTransitions(t).forEach(Qt=>{const Sn=Qt.player,_i=Qt.element;if(dt.push(Sn),this.collectedEnterElements.length){const $i=_i[Jl];if($i&&$i.setForMove){if($i.previousTriggersValues&&$i.previousTriggersValues.has(Qt.triggerName)){const Ko=$i.previousTriggersValues.get(Qt.triggerName),Do=this.statesByElement.get(Qt.element);if(Do&&Do.has(Qt.triggerName)){const nv=Do.get(Qt.triggerName);nv.value=Ko,Do.set(Qt.triggerName,nv)}}return void Sn.destroy()}}const Da=!M||!this.driver.containsElement(M,_i),ps=qe.get(_i),pl=z.get(_i),sr=this._buildInstruction(Qt,r,pl,ps,Da);if(sr.errors&&sr.errors.length)return void vt.push(sr);if(Da)return Sn.onStart(()=>Om(_i,sr.fromStyles)),Sn.onDestroy(()=>dd(_i,sr.toStyles)),void i.push(Sn);if(Qt.isFallbackTransition)return Sn.onStart(()=>Om(_i,sr.fromStyles)),Sn.onDestroy(()=>dd(_i,sr.toStyles)),void i.push(Sn);const Yu=[];sr.timelines.forEach($i=>{$i.stretchStartingKeyframe=!0,this.disabledNodes.has($i.element)||Yu.push($i)}),sr.timelines=Yu,r.append(_i,sr.timelines),c.push({instruction:sr,player:Sn,element:_i}),sr.queriedElements.forEach($i=>hl(f,$i,[]).push(Sn)),sr.preStyleProps.forEach(($i,Ko)=>{if($i.size){let Do=_.get(Ko);Do||_.set(Ko,Do=new Set),$i.forEach((nv,Pm)=>Do.add(Pm))}}),sr.postStyleProps.forEach(($i,Ko)=>{let Do=b.get(Ko);Do||b.set(Ko,Do=new Set),$i.forEach((nv,Pm)=>Do.add(Pm))})});if(vt.length){const Et=[];vt.forEach(Ut=>{Et.push(function h4(n,e){return new l.vHH(3505,!1)}())}),dt.forEach(Ut=>Ut.destroy()),this.reportError(Et)}const qt=new Map,gn=new Map;c.forEach(Et=>{const Ut=Et.element;r.has(Ut)&&(gn.set(Ut,Ut),this._beforeAnimationBuild(Et.player.namespaceId,Et.instruction,qt))}),i.forEach(Et=>{const Ut=Et.element;this._getPreviousPlayers(Ut,!1,Et.namespaceId,Et.triggerName,null).forEach(Sn=>{hl(qt,Ut,[]).push(Sn),Sn.destroy()})});const fr=ae.filter(Et=>lL(Et,_,b)),pr=new Map;sL(pr,this.driver,Ue,b,Fh).forEach(Et=>{lL(Et,_,b)&&fr.push(Et)});const oo=new Map;L.forEach((Et,Ut)=>{sL(oo,this.driver,new Set(Et),_,sO)}),fr.forEach(Et=>{const Ut=pr.get(Et),Qt=oo.get(Et);pr.set(Et,new Map([...Array.from(Ut?.entries()??[]),...Array.from(Qt?.entries()??[])]))});const mi=[],hd=[],fd={};c.forEach(Et=>{const{element:Ut,player:Qt,instruction:Sn}=Et;if(r.has(Ut)){if(T.has(Ut))return Qt.onDestroy(()=>dd(Ut,Sn.toStyles)),Qt.disabled=!0,Qt.overrideTotalTime(Sn.totalTime),void i.push(Qt);let _i=fd;if(gn.size>1){let ps=Ut;const pl=[];for(;ps=ps.parentNode;){const sr=gn.get(ps);if(sr){_i=sr;break}pl.push(ps)}pl.forEach(sr=>gn.set(sr,_i))}const Da=this._buildAnimation(Qt.namespaceId,Sn,qt,o,oo,pr);if(Qt.setRealPlayer(Da),_i===fd)mi.push(Qt);else{const ps=this.playersByElement.get(_i);ps&&ps.length&&(Qt.parentPlayer=Dp(ps)),i.push(Qt)}}else Om(Ut,Sn.fromStyles),Qt.onDestroy(()=>dd(Ut,Sn.toStyles)),hd.push(Qt),T.has(Ut)&&i.push(Qt)}),hd.forEach(Et=>{const Ut=o.get(Et.element);if(Ut&&Ut.length){const Qt=Dp(Ut);Et.setRealPlayer(Qt)}}),i.forEach(Et=>{Et.parentPlayer?Et.syncPlayerEvents(Et.parentPlayer):Et.destroy()});for(let Et=0;Et<ae.length;Et++){const Ut=ae[Et],Qt=Ut[Jl];if(tv(Ut,lI),Qt&&Qt.hasAnimation)continue;let Sn=[];if(f.size){let Da=f.get(Ut);Da&&Da.length&&Sn.push(...Da);let ps=this.driver.query(Ut,pO,!0);for(let pl=0;pl<ps.length;pl++){let sr=f.get(ps[pl]);sr&&sr.length&&Sn.push(...sr)}}const _i=Sn.filter(Da=>!Da.destroyed);_i.length?g5(this,Ut,_i):this.processLeaveNode(Ut)}return ae.length=0,mi.forEach(Et=>{this.players.push(Et),Et.onDone(()=>{Et.destroy();const Ut=this.players.indexOf(Et);this.players.splice(Ut,1)}),Et.play()}),mi}elementContainsData(e,t){let r=!1;const i=t[Jl];return i&&i.setForRemoval&&(r=!0),this.playersByElement.has(t)&&(r=!0),this.playersByQueriedElement.has(t)&&(r=!0),this.statesByElement.has(t)&&(r=!0),this._fetchNamespace(e).elementContainsData(t)||r}afterFlush(e){this._flushFns.push(e)}afterFlushAnimationsDone(e){this._whenQuietFns.push(e)}_getPreviousPlayers(e,t,r,i,o){let c=[];if(t){const f=this.playersByQueriedElement.get(e);f&&(c=f)}else{const f=this.playersByElement.get(e);if(f){const _=!o||o==Kw;f.forEach(b=>{b.queued||!_&&b.triggerName!=i||c.push(b)})}}return(r||i)&&(c=c.filter(f=>!(r&&r!=f.namespaceId||i&&i!=f.triggerName))),c}_beforeAnimationBuild(e,t,r){const o=t.element,c=t.isRemovalTransition?void 0:e,f=t.isRemovalTransition?void 0:t.triggerName;for(const _ of t.timelines){const b=_.element,T=b!==o,M=hl(r,b,[]);this._getPreviousPlayers(b,T,c,f,t.toState).forEach(L=>{const z=L.getRealPlayer();z.beforeDestroy&&z.beforeDestroy(),L.destroy(),M.push(L)})}Om(o,t.fromStyles)}_buildAnimation(e,t,r,i,o,c){const f=t.triggerName,_=t.element,b=[],T=new Set,M=new Set,F=t.timelines.map(z=>{const J=z.element;T.add(J);const ae=J[Jl];if(ae&&ae.removedBeforeQueried)return new Gw(z.duration,z.delay);const Ae=J!==_,Ue=function m5(n){const e=[];return aL(n,e),e}((r.get(J)||l5).map(qt=>qt.getRealPlayer())).filter(qt=>!!qt.element&&qt.element===J),qe=o.get(J),Ye=c.get(J),dt=R2(0,this._normalizer,0,z.keyframes,qe,Ye),vt=this._buildPlayer(z,dt,Ue);if(z.subTimeline&&i&&M.add(J),Ae){const qt=new AO(e,f,J);qt.setRealPlayer(vt),b.push(qt)}return vt});b.forEach(z=>{hl(this.playersByQueriedElement,z.element,[]).push(z),z.onDone(()=>function h5(n,e,t){let r=n.get(e);if(r){if(r.length){const i=r.indexOf(t);r.splice(i,1)}0==r.length&&n.delete(e)}return r}(this.playersByQueriedElement,z.element,z))}),T.forEach(z=>Ql(z,j2));const L=Dp(F);return L.onDestroy(()=>{T.forEach(z=>tv(z,j2)),dd(_,t.toStyles)}),M.forEach(z=>{hl(i,z,[]).push(L)}),L}_buildPlayer(e,t,r){return t.length>0?this.driver.animate(e.element,t,e.duration,e.delay,e.easing,r):new Gw(e.duration,e.delay)}}class AO{constructor(e,t,r){this.namespaceId=e,this.triggerName=t,this.element=r,this._player=new Gw,this._containsRealPlayer=!1,this._queuedCallbacks=new Map,this.destroyed=!1,this.parentPlayer=null,this.markedForDestroy=!1,this.disabled=!1,this.queued=!0,this.totalTime=0}setRealPlayer(e){this._containsRealPlayer||(this._player=e,this._queuedCallbacks.forEach((t,r)=>{t.forEach(i=>aO(e,r,void 0,i))}),this._queuedCallbacks.clear(),this._containsRealPlayer=!0,this.overrideTotalTime(e.totalTime),this.queued=!1)}getRealPlayer(){return this._player}overrideTotalTime(e){this.totalTime=e}syncPlayerEvents(e){const t=this._player;t.triggerCallback&&e.onStart(()=>t.triggerCallback("start")),e.onDone(()=>this.finish()),e.onDestroy(()=>this.destroy())}_queueEvent(e,t){hl(this._queuedCallbacks,e,[]).push(t)}onDone(e){this.queued&&this._queueEvent("done",e),this._player.onDone(e)}onStart(e){this.queued&&this._queueEvent("start",e),this._player.onStart(e)}onDestroy(e){this.queued&&this._queueEvent("destroy",e),this._player.onDestroy(e)}init(){this._player.init()}hasStarted(){return!this.queued&&this._player.hasStarted()}play(){!this.queued&&this._player.play()}pause(){!this.queued&&this._player.pause()}restart(){!this.queued&&this._player.restart()}finish(){this._player.finish()}destroy(){this.destroyed=!0,this._player.destroy()}reset(){!this.queued&&this._player.reset()}setPosition(e){this.queued||this._player.setPosition(e)}getPosition(){return this.queued?0:this._player.getPosition()}triggerCallback(e){const t=this._player;t.triggerCallback&&t.triggerCallback(e)}}function wI(n){return n&&1===n.nodeType}function iL(n,e){const t=n.style.display;return n.style.display=e??"none",t}function sL(n,e,t,r,i){const o=[];t.forEach(_=>o.push(iL(_)));const c=[];r.forEach((_,b)=>{const T=new Map;_.forEach(M=>{const F=e.computeStyle(b,M,i);T.set(M,F),(!F||0==F.length)&&(b[Jl]=u5,c.push(b))}),n.set(b,T)});let f=0;return t.forEach(_=>iL(_,o[f++])),c}function oL(n,e){const t=new Map;if(n.forEach(f=>t.set(f,[])),0==e.length)return t;const r=1,i=new Set(e),o=new Map;function c(f){if(!f)return r;let _=o.get(f);if(_)return _;const b=f.parentNode;return _=t.has(b)?b:i.has(b)?r:c(b),o.set(f,_),_}return e.forEach(f=>{const _=c(f);_!==r&&t.get(_).push(f)}),t}function Ql(n,e){n.classList?.add(e)}function tv(n,e){n.classList?.remove(e)}function g5(n,e,t){Dp(t).onDone(()=>n.processLeaveNode(e))}function aL(n,e){for(let t=0;t<n.length;t++){const r=n[t];r instanceof O2?aL(r.players,e):e.push(r)}}function lL(n,e,t){const r=t.get(n);if(!r)return!1;let i=e.get(n);return i?r.forEach(o=>i.add(o)):e.set(n,r),t.delete(n),!0}class EI{constructor(e,t,r){this.bodyNode=e,this._driver=t,this._normalizer=r,this._triggerCache={},this.onRemovalComplete=(i,o)=>{},this._transitionEngine=new d5(e,t,r),this._timelineEngine=new r5(e,t,r),this._transitionEngine.onRemovalComplete=(i,o)=>this.onRemovalComplete(i,o)}registerTrigger(e,t,r,i,o){const c=e+"-"+i;let f=this._triggerCache[c];if(!f){const _=[],b=[],T=yO(this._driver,o,_,b);if(_.length)throw function t4(n,e){return new l.vHH(3404,!1)}();f=function X4(n,e,t){return new e5(n,e,t)}(i,T,this._normalizer),this._triggerCache[c]=f}this._transitionEngine.registerTrigger(t,i,f)}register(e,t){this._transitionEngine.register(e,t)}destroy(e,t){this._transitionEngine.destroy(e,t)}onInsert(e,t,r,i){this._transitionEngine.insertNode(e,t,r,i)}onRemove(e,t,r,i){this._transitionEngine.removeNode(e,t,i||!1,r)}disableAnimations(e,t){this._transitionEngine.markElementAsDisabled(e,t)}process(e,t,r,i){if("@"==r.charAt(0)){const[o,c]=P2(r);this._timelineEngine.command(o,t,c,i)}else this._transitionEngine.trigger(e,t,r,i)}listen(e,t,r,i,o){if("@"==r.charAt(0)){const[c,f]=P2(r);return this._timelineEngine.listen(c,t,f,o)}return this._transitionEngine.listen(e,t,r,i,o)}flush(e=-1){this._transitionEngine.flush(e)}get players(){return this._transitionEngine.players.concat(this._timelineEngine.players)}whenRenderingDone(){return this._transitionEngine.whenRenderingDone()}}let v5=(()=>{class n{constructor(t,r,i){this._element=t,this._startStyles=r,this._endStyles=i,this._state=0;let o=n.initialStylesByElement.get(t);o||n.initialStylesByElement.set(t,o=new Map),this._initialStyles=o}start(){this._state<1&&(this._startStyles&&dd(this._element,this._startStyles,this._initialStyles),this._state=1)}finish(){this.start(),this._state<2&&(dd(this._element,this._initialStyles),this._endStyles&&(dd(this._element,this._endStyles),this._endStyles=null),this._state=1)}destroy(){this.finish(),this._state<3&&(n.initialStylesByElement.delete(this._element),this._startStyles&&(Om(this._element,this._startStyles),this._endStyles=null),this._endStyles&&(Om(this._element,this._endStyles),this._endStyles=null),dd(this._element,this._initialStyles),this._state=3)}}return n.initialStylesByElement=new WeakMap,n})();function NO(n){let e=null;return n.forEach((t,r)=>{(function b5(n){return"display"===n||"position"===n})(r)&&(e=e||new Map,e.set(r,t))}),e}class uL{constructor(e,t,r,i){this.element=e,this.keyframes=t,this.options=r,this._specialStyles=i,this._onDoneFns=[],this._onStartFns=[],this._onDestroyFns=[],this._initialized=!1,this._finished=!1,this._started=!1,this._destroyed=!1,this._originalOnDoneFns=[],this._originalOnStartFns=[],this.time=0,this.parentPlayer=null,this.currentSnapshot=new Map,this._duration=r.duration,this._delay=r.delay||0,this.time=this._duration+this._delay}_onFinish(){this._finished||(this._finished=!0,this._onDoneFns.forEach(e=>e()),this._onDoneFns=[])}init(){this._buildPlayer(),this._preparePlayerBeforeStart()}_buildPlayer(){if(this._initialized)return;this._initialized=!0;const e=this.keyframes;this.domPlayer=this._triggerWebAnimation(this.element,e,this.options),this._finalKeyframe=e.length?e[e.length-1]:new Map,this.domPlayer.addEventListener("finish",()=>this._onFinish())}_preparePlayerBeforeStart(){this._delay?this._resetDomPlayerState():this.domPlayer.pause()}_convertKeyframesToObject(e){const t=[];return e.forEach(r=>{t.push(Object.fromEntries(r))}),t}_triggerWebAnimation(e,t,r){return e.animate(this._convertKeyframesToObject(t),r)}onStart(e){this._originalOnStartFns.push(e),this._onStartFns.push(e)}onDone(e){this._originalOnDoneFns.push(e),this._onDoneFns.push(e)}onDestroy(e){this._onDestroyFns.push(e)}play(){this._buildPlayer(),this.hasStarted()||(this._onStartFns.forEach(e=>e()),this._onStartFns=[],this._started=!0,this._specialStyles&&this._specialStyles.start()),this.domPlayer.play()}pause(){this.init(),this.domPlayer.pause()}finish(){this.init(),this._specialStyles&&this._specialStyles.finish(),this._onFinish(),this.domPlayer.finish()}reset(){this._resetDomPlayerState(),this._destroyed=!1,this._finished=!1,this._started=!1,this._onStartFns=this._originalOnStartFns,this._onDoneFns=this._originalOnDoneFns}_resetDomPlayerState(){this.domPlayer&&this.domPlayer.cancel()}restart(){this.reset(),this.play()}hasStarted(){return this._started}destroy(){this._destroyed||(this._destroyed=!0,this._resetDomPlayerState(),this._onFinish(),this._specialStyles&&this._specialStyles.destroy(),this._onDestroyFns.forEach(e=>e()),this._onDestroyFns=[])}setPosition(e){void 0===this.domPlayer&&this.init(),this.domPlayer.currentTime=e*this.time}getPosition(){return this.domPlayer.currentTime/this.time}get totalTime(){return this._delay+this._duration}beforeDestroy(){const e=new Map;this.hasStarted()&&this._finalKeyframe.forEach((r,i)=>{"offset"!==i&&e.set(i,this._finished?r:K2(this.element,i))}),this.currentSnapshot=e}triggerCallback(e){const t="start"===e?this._onStartFns:this._onDoneFns;t.forEach(r=>r()),t.length=0}}class w5{validateStyleProperty(e){return!0}validateAnimatableStyleProperty(e){return!0}matchesElement(e,t){return!1}containsElement(e,t){return B2(e,t)}getParentElement(e){return dO(e)}query(e,t,r){return U2(e,t,r)}computeStyle(e,t,r){return window.getComputedStyle(e)[t]}animate(e,t,r,i,o,c=[]){const _={duration:r,delay:i,fill:0==i?"both":"forwards"};o&&(_.easing=o);const b=new Map,T=c.filter(L=>L instanceof uL);(function I4(n,e){return 0===n||0===e})(r,i)&&T.forEach(L=>{L.currentSnapshot.forEach((z,J)=>b.set(J,z))});let M=function w4(n){return n.length?n[0]instanceof Map?n:n.map(e=>$2(e)):[]}(t).map(L=>Tp(L));M=function S4(n,e,t){if(t.size&&e.length){let r=e[0],i=[];if(t.forEach((o,c)=>{r.has(c)||i.push(c),r.set(c,o)}),i.length)for(let o=1;o<e.length;o++){let c=e[o];i.forEach(f=>c.set(f,K2(n,f)))}}return e}(e,M,b);const F=function y5(n,e){let t=null,r=null;return Array.isArray(e)&&e.length?(t=NO(e[0]),e.length>1&&(r=NO(e[e.length-1]))):e instanceof Map&&(t=NO(e)),t||r?new v5(n,t,r):null}(e,M);return new uL(e,M,_,F)}}let E5=(()=>{class n extends C2{constructor(t,r){super(),this._nextAnimationId=0,this._renderer=t.createRenderer(r.body,{id:"0",encapsulation:l.ifc.None,styles:[],data:{animation:[]}})}build(t){const r=this._nextAnimationId.toString();this._nextAnimationId++;const i=Array.isArray(t)?A2(t):t;return cL(this._renderer,null,r,"register",[i]),new D5(r,this._renderer)}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(de))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class D5 extends Rz{constructor(e,t){super(),this._id=e,this._renderer=t}create(e,t){return new T5(this._id,e,t||{},this._renderer)}}class T5{constructor(e,t,r,i){this.id=e,this.element=t,this._renderer=i,this.parentPlayer=null,this._started=!1,this.totalTime=0,this._command("create",r)}_listen(e,t){return this._renderer.listen(this.element,`@@${this.id}:${e}`,t)}_command(e,...t){return cL(this._renderer,this.element,this.id,e,t)}onDone(e){this._listen("done",e)}onStart(e){this._listen("start",e)}onDestroy(e){this._listen("destroy",e)}init(){this._command("init")}hasStarted(){return this._started}play(){this._command("play"),this._started=!0}pause(){this._command("pause")}restart(){this._command("restart")}finish(){this._command("finish")}destroy(){this._command("destroy")}reset(){this._command("reset"),this._started=!1}setPosition(e){this._command("setPosition",e)}getPosition(){return this._renderer.engine.players[+this.id]?.getPosition()??0}}function cL(n,e,t,r,i){return n.setProperty(e,`@@${t}:${r}`,i)}const dL="@.disabled";let I5=(()=>{class n{constructor(t,r,i){this.delegate=t,this.engine=r,this._zone=i,this._currentId=0,this._microtaskId=1,this._animationCallbacksBuffer=[],this._rendererCache=new Map,this._cdRecurDepth=0,this.promise=Promise.resolve(0),r.onRemovalComplete=(o,c)=>{const f=c?.parentNode(o);f&&c.removeChild(f,o)}}createRenderer(t,r){const o=this.delegate.createRenderer(t,r);if(!(t&&r&&r.data&&r.data.animation)){let T=this._rendererCache.get(o);return T||(T=new hL("",o,this.engine,()=>this._rendererCache.delete(o)),this._rendererCache.set(o,T)),T}const c=r.id,f=r.id+"-"+this._currentId;this._currentId++,this.engine.register(f,t);const _=T=>{Array.isArray(T)?T.forEach(_):this.engine.registerTrigger(c,f,t,T.name,T)};return r.data.animation.forEach(_),new S5(this,f,o,this.engine)}begin(){this._cdRecurDepth++,this.delegate.begin&&this.delegate.begin()}_scheduleCountTask(){this.promise.then(()=>{this._microtaskId++})}scheduleListenerCallback(t,r,i){t>=0&&t<this._microtaskId?this._zone.run(()=>r(i)):(0==this._animationCallbacksBuffer.length&&Promise.resolve(null).then(()=>{this._zone.run(()=>{this._animationCallbacksBuffer.forEach(o=>{const[c,f]=o;c(f)}),this._animationCallbacksBuffer=[]})}),this._animationCallbacksBuffer.push([r,i]))}end(){this._cdRecurDepth--,0==this._cdRecurDepth&&this._zone.runOutsideAngular(()=>{this._scheduleCountTask(),this.engine.flush(this._microtaskId)}),this.delegate.end&&this.delegate.end()}whenRenderingDone(){return this.engine.whenRenderingDone()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(l.FYo),l.LFG(EI),l.LFG(l.R0b))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();class hL{constructor(e,t,r,i){this.namespaceId=e,this.delegate=t,this.engine=r,this._onDestroy=i,this.destroyNode=this.delegate.destroyNode?o=>t.destroyNode(o):null}get data(){return this.delegate.data}destroy(){this.engine.destroy(this.namespaceId,this.delegate),this.delegate.destroy(),this._onDestroy?.()}createElement(e,t){return this.delegate.createElement(e,t)}createComment(e){return this.delegate.createComment(e)}createText(e){return this.delegate.createText(e)}appendChild(e,t){this.delegate.appendChild(e,t),this.engine.onInsert(this.namespaceId,t,e,!1)}insertBefore(e,t,r,i=!0){this.delegate.insertBefore(e,t,r),this.engine.onInsert(this.namespaceId,t,e,i)}removeChild(e,t,r){this.engine.onRemove(this.namespaceId,t,this.delegate,r)}selectRootElement(e,t){return this.delegate.selectRootElement(e,t)}parentNode(e){return this.delegate.parentNode(e)}nextSibling(e){return this.delegate.nextSibling(e)}setAttribute(e,t,r,i){this.delegate.setAttribute(e,t,r,i)}removeAttribute(e,t,r){this.delegate.removeAttribute(e,t,r)}addClass(e,t){this.delegate.addClass(e,t)}removeClass(e,t){this.delegate.removeClass(e,t)}setStyle(e,t,r,i){this.delegate.setStyle(e,t,r,i)}removeStyle(e,t,r){this.delegate.removeStyle(e,t,r)}setProperty(e,t,r){"@"==t.charAt(0)&&t==dL?this.disableAnimations(e,!!r):this.delegate.setProperty(e,t,r)}setValue(e,t){this.delegate.setValue(e,t)}listen(e,t,r){return this.delegate.listen(e,t,r)}disableAnimations(e,t){this.engine.disableAnimations(e,t)}}class S5 extends hL{constructor(e,t,r,i,o){super(t,r,i,o),this.factory=e,this.namespaceId=t}setProperty(e,t,r){"@"==t.charAt(0)?"."==t.charAt(1)&&t==dL?this.disableAnimations(e,r=void 0===r||!!r):this.engine.process(this.namespaceId,e,t.slice(1),r):this.delegate.setProperty(e,t,r)}listen(e,t,r){if("@"==t.charAt(0)){const i=function C5(n){switch(n){case"body":return document.body;case"document":return document;case"window":return window;default:return n}}(e);let o=t.slice(1),c="";return"@"!=o.charAt(0)&&([o,c]=function A5(n){const e=n.indexOf(".");return[n.substring(0,e),n.slice(e+1)]}(o)),this.engine.listen(this.namespaceId,i,o,c,f=>{this.factory.scheduleListenerCallback(f._data||-1,r,f)})}return this.delegate.listen(e,t,r)}}let N5=(()=>{class n extends EI{constructor(t,r,i,o){super(t.body,r,i)}ngOnDestroy(){this.flush()}}return n.\u0275fac=function(t){return new(t||n)(l.LFG(de),l.LFG(hO),l.LFG(DO),l.LFG(l.z2F))},n.\u0275prov=l.Yz7({token:n,factory:n.\u0275fac}),n})();const fL=[{provide:C2,useClass:E5},{provide:DO,useFactory:function M5(){return new Z4}},{provide:EI,useClass:N5},{provide:l.FYo,useFactory:function O5(n,e,t){return new I5(n,e,t)},deps:[Es,EI,l.R0b]}],MO=[{provide:hO,useFactory:()=>new w5},{provide:l.QbO,useValue:"BrowserAnimations"},...fL],pL=[{provide:hO,useClass:V2},{provide:l.QbO,useValue:"NoopAnimations"},...fL];let x5=(()=>{class n{static withConfig(t){return{ngModule:n,providers:t.disableAnimations?pL:MO}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n}),n.\u0275inj=l.cJS({providers:MO,imports:[ja]}),n})();const R5={apiKey:"AIzaSyCdb_2sjAeTxACUYIitJ_EC_1ntf_M7qdM",authDomain:"jueguitoslabo.firebaseapp.com",projectId:"jueguitoslabo",storageBucket:"jueguitoslabo.appspot.com",messagingSenderId:"196505332567",appId:"1:196505332567:web:38e50982e100f157736c12",measurementId:"G-BET4WZW5HD"};let P5=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=l.oAB({type:n,bootstrap:[xz]}),n.\u0275inj=l.cJS({imports:[ja,_j,pj,Iz,nl.hO.initializeApp(R5),$H,GH,x5]}),n})();Dd().bootstrapModule(P5).catch(n=>console.error(n))},9751:(xt,ge,U)=>{"use strict";U.d(ge,{y:()=>Me});var l=U(930),B=U(727),V=U(8822),_e=U(9635),fe=U(2416),de=U(576),be=U(2806);let Me=(()=>{class te{constructor(Fe){Fe&&(this._subscribe=Fe)}lift(Fe){const it=new te;return it.source=this,it.operator=Fe,it}subscribe(Fe,it,ht){const we=function K(te){return te&&te instanceof l.Lv||function Z(te){return te&&(0,de.m)(te.next)&&(0,de.m)(te.error)&&(0,de.m)(te.complete)}(te)&&(0,B.Nn)(te)}(Fe)?Fe:new l.Hp(Fe,it,ht);return(0,be.x)(()=>{const{operator:Le,source:Se}=this;we.add(Le?Le.call(we,Se):Se?this._subscribe(we):this._trySubscribe(we))}),we}_trySubscribe(Fe){try{return this._subscribe(Fe)}catch(it){Fe.error(it)}}forEach(Fe,it){return new(it=Te(it))((ht,we)=>{const Le=new l.Hp({next:Se=>{try{Fe(Se)}catch(Ze){we(Ze),Le.unsubscribe()}},error:we,complete:ht});this.subscribe(Le)})}_subscribe(Fe){var it;return null===(it=this.source)||void 0===it?void 0:it.subscribe(Fe)}[V.L](){return this}pipe(...Fe){return(0,_e.U)(Fe)(this)}toPromise(Fe){return new(Fe=Te(Fe))((it,ht)=>{let we;this.subscribe(Le=>we=Le,Le=>ht(Le),()=>it(we))})}}return te.create=et=>new te(et),te})();function Te(te){var et;return null!==(et=te??fe.v.Promise)&&void 0!==et?et:Promise}},7579:(xt,ge,U)=>{"use strict";U.d(ge,{x:()=>be});var l=U(9751),B=U(727);const _e=(0,U(3888).d)(Te=>function(){Te(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var fe=U(8737),de=U(2806);let be=(()=>{class Te extends l.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(K){const te=new Me(this,this);return te.operator=K,te}_throwIfClosed(){if(this.closed)throw new _e}next(K){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const te of this.currentObservers)te.next(K)}})}error(K){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=K;const{observers:te}=this;for(;te.length;)te.shift().error(K)}})}complete(){(0,de.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:K}=this;for(;K.length;)K.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var K;return(null===(K=this.observers)||void 0===K?void 0:K.length)>0}_trySubscribe(K){return this._throwIfClosed(),super._trySubscribe(K)}_subscribe(K){return this._throwIfClosed(),this._checkFinalizedStatuses(K),this._innerSubscribe(K)}_innerSubscribe(K){const{hasError:te,isStopped:et,observers:Fe}=this;return te||et?B.Lc:(this.currentObservers=null,Fe.push(K),new B.w0(()=>{this.currentObservers=null,(0,fe.P)(Fe,K)}))}_checkFinalizedStatuses(K){const{hasError:te,thrownError:et,isStopped:Fe}=this;te?K.error(et):Fe&&K.complete()}asObservable(){const K=new l.y;return K.source=this,K}}return Te.create=(Z,K)=>new Me(Z,K),Te})();class Me extends be{constructor(Z,K){super(),this.destination=Z,this.source=K}next(Z){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.next)||void 0===te||te.call(K,Z)}error(Z){var K,te;null===(te=null===(K=this.destination)||void 0===K?void 0:K.error)||void 0===te||te.call(K,Z)}complete(){var Z,K;null===(K=null===(Z=this.destination)||void 0===Z?void 0:Z.complete)||void 0===K||K.call(Z)}_subscribe(Z){var K,te;return null!==(te=null===(K=this.source)||void 0===K?void 0:K.subscribe(Z))&&void 0!==te?te:B.Lc}}},930:(xt,ge,U)=>{"use strict";U.d(ge,{Hp:()=>ht,Lv:()=>te});var l=U(576),B=U(727),V=U(2416),_e=U(7849),fe=U(5032);const de=Te("C",void 0,void 0);function Te($e,Ne,Pe){return{kind:$e,value:Ne,error:Pe}}var Z=U(3410),K=U(2806);class te extends B.w0{constructor(Ne){super(),this.isStopped=!1,Ne?(this.destination=Ne,(0,B.Nn)(Ne)&&Ne.add(this)):this.destination=Ze}static create(Ne,Pe,rt){return new ht(Ne,Pe,rt)}next(Ne){this.isStopped?Se(function Me($e){return Te("N",$e,void 0)}(Ne),this):this._next(Ne)}error(Ne){this.isStopped?Se(function be($e){return Te("E",void 0,$e)}(Ne),this):(this.isStopped=!0,this._error(Ne))}complete(){this.isStopped?Se(de,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ne){this.destination.next(Ne)}_error(Ne){try{this.destination.error(Ne)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const et=Function.prototype.bind;function Fe($e,Ne){return et.call($e,Ne)}class it{constructor(Ne){this.partialObserver=Ne}next(Ne){const{partialObserver:Pe}=this;if(Pe.next)try{Pe.next(Ne)}catch(rt){we(rt)}}error(Ne){const{partialObserver:Pe}=this;if(Pe.error)try{Pe.error(Ne)}catch(rt){we(rt)}else we(Ne)}complete(){const{partialObserver:Ne}=this;if(Ne.complete)try{Ne.complete()}catch(Pe){we(Pe)}}}class ht extends te{constructor(Ne,Pe,rt){let Ve;if(super(),(0,l.m)(Ne)||!Ne)Ve={next:Ne??void 0,error:Pe??void 0,complete:rt??void 0};else{let yt;this&&V.v.useDeprecatedNextContext?(yt=Object.create(Ne),yt.unsubscribe=()=>this.unsubscribe(),Ve={next:Ne.next&&Fe(Ne.next,yt),error:Ne.error&&Fe(Ne.error,yt),complete:Ne.complete&&Fe(Ne.complete,yt)}):Ve=Ne}this.destination=new it(Ve)}}function we($e){V.v.useDeprecatedSynchronousErrorHandling?(0,K.O)($e):(0,_e.h)($e)}function Se($e,Ne){const{onStoppedNotification:Pe}=V.v;Pe&&Z.z.setTimeout(()=>Pe($e,Ne))}const Ze={closed:!0,next:fe.Z,error:function Le($e){throw $e},complete:fe.Z}},727:(xt,ge,U)=>{"use strict";U.d(ge,{Lc:()=>de,w0:()=>fe,Nn:()=>be});var l=U(576);const V=(0,U(3888).d)(Te=>function(K){Te(this),this.message=K?`${K.length} errors occurred during unsubscription:\n${K.map((te,et)=>`${et+1}) ${te.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=K});var _e=U(8737);class fe{constructor(Z){this.initialTeardown=Z,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let Z;if(!this.closed){this.closed=!0;const{_parentage:K}=this;if(K)if(this._parentage=null,Array.isArray(K))for(const Fe of K)Fe.remove(this);else K.remove(this);const{initialTeardown:te}=this;if((0,l.m)(te))try{te()}catch(Fe){Z=Fe instanceof V?Fe.errors:[Fe]}const{_finalizers:et}=this;if(et){this._finalizers=null;for(const Fe of et)try{Me(Fe)}catch(it){Z=Z??[],it instanceof V?Z=[...Z,...it.errors]:Z.push(it)}}if(Z)throw new V(Z)}}add(Z){var K;if(Z&&Z!==this)if(this.closed)Me(Z);else{if(Z instanceof fe){if(Z.closed||Z._hasParent(this))return;Z._addParent(this)}(this._finalizers=null!==(K=this._finalizers)&&void 0!==K?K:[]).push(Z)}}_hasParent(Z){const{_parentage:K}=this;return K===Z||Array.isArray(K)&&K.includes(Z)}_addParent(Z){const{_parentage:K}=this;this._parentage=Array.isArray(K)?(K.push(Z),K):K?[K,Z]:Z}_removeParent(Z){const{_parentage:K}=this;K===Z?this._parentage=null:Array.isArray(K)&&(0,_e.P)(K,Z)}remove(Z){const{_finalizers:K}=this;K&&(0,_e.P)(K,Z),Z instanceof fe&&Z._removeParent(this)}}fe.EMPTY=(()=>{const Te=new fe;return Te.closed=!0,Te})();const de=fe.EMPTY;function be(Te){return Te instanceof fe||Te&&"closed"in Te&&(0,l.m)(Te.remove)&&(0,l.m)(Te.add)&&(0,l.m)(Te.unsubscribe)}function Me(Te){(0,l.m)(Te)?Te():Te.unsubscribe()}},2416:(xt,ge,U)=>{"use strict";U.d(ge,{v:()=>l});const l={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},515:(xt,ge,U)=>{"use strict";U.d(ge,{E:()=>B});const B=new(U(9751).y)(fe=>fe.complete())},8996:(xt,ge,U)=>{"use strict";U.d(ge,{D:()=>Ne});var l=U(8421),B=U(5363),V=U(9468),de=U(9751),Me=U(2202),Te=U(576),Z=U(9672);function te(Pe,rt){if(!Pe)throw new Error("Iterable cannot be null");return new de.y(Ve=>{(0,Z.f)(Ve,rt,()=>{const yt=Pe[Symbol.asyncIterator]();(0,Z.f)(Ve,rt,()=>{yt.next().then(le=>{le.done?Ve.complete():Ve.next(le.value)})},0,!0)})})}var et=U(3670),Fe=U(8239),it=U(1144),ht=U(6495),we=U(2206),Le=U(4532),Se=U(3260);function Ne(Pe,rt){return rt?function $e(Pe,rt){if(null!=Pe){if((0,et.c)(Pe))return function _e(Pe,rt){return(0,l.Xf)(Pe).pipe((0,V.R)(rt),(0,B.Q)(rt))}(Pe,rt);if((0,it.z)(Pe))return function be(Pe,rt){return new de.y(Ve=>{let yt=0;return rt.schedule(function(){yt===Pe.length?Ve.complete():(Ve.next(Pe[yt++]),Ve.closed||this.schedule())})})}(Pe,rt);if((0,Fe.t)(Pe))return function fe(Pe,rt){return(0,l.Xf)(Pe).pipe((0,V.R)(rt),(0,B.Q)(rt))}(Pe,rt);if((0,we.D)(Pe))return te(Pe,rt);if((0,ht.T)(Pe))return function K(Pe,rt){return new de.y(Ve=>{let yt;return(0,Z.f)(Ve,rt,()=>{yt=Pe[Me.h](),(0,Z.f)(Ve,rt,()=>{let le,Mt;try{({value:le,done:Mt}=yt.next())}catch(st){return void Ve.error(st)}Mt?Ve.complete():Ve.next(le)},0,!0)}),()=>(0,Te.m)(yt?.return)&&yt.return()})}(Pe,rt);if((0,Se.L)(Pe))return function Ze(Pe,rt){return te((0,Se.Q)(Pe),rt)}(Pe,rt)}throw(0,Le.z)(Pe)}(Pe,rt):(0,l.Xf)(Pe)}},8421:(xt,ge,U)=>{"use strict";U.d(ge,{Xf:()=>et});var l=U(655),B=U(1144),V=U(8239),_e=U(9751),fe=U(3670),de=U(2206),be=U(4532),Me=U(6495),Te=U(3260),Z=U(576),K=U(7849),te=U(8822);function et($e){if($e instanceof _e.y)return $e;if(null!=$e){if((0,fe.c)($e))return function Fe($e){return new _e.y(Ne=>{const Pe=$e[te.L]();if((0,Z.m)(Pe.subscribe))return Pe.subscribe(Ne);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}($e);if((0,B.z)($e))return function it($e){return new _e.y(Ne=>{for(let Pe=0;Pe<$e.length&&!Ne.closed;Pe++)Ne.next($e[Pe]);Ne.complete()})}($e);if((0,V.t)($e))return function ht($e){return new _e.y(Ne=>{$e.then(Pe=>{Ne.closed||(Ne.next(Pe),Ne.complete())},Pe=>Ne.error(Pe)).then(null,K.h)})}($e);if((0,de.D)($e))return Le($e);if((0,Me.T)($e))return function we($e){return new _e.y(Ne=>{for(const Pe of $e)if(Ne.next(Pe),Ne.closed)return;Ne.complete()})}($e);if((0,Te.L)($e))return function Se($e){return Le((0,Te.Q)($e))}($e)}throw(0,be.z)($e)}function Le($e){return new _e.y(Ne=>{(function Ze($e,Ne){var Pe,rt,Ve,yt;return(0,l.mG)(this,void 0,void 0,function*(){try{for(Pe=(0,l.KL)($e);!(rt=yield Pe.next()).done;)if(Ne.next(rt.value),Ne.closed)return}catch(le){Ve={error:le}}finally{try{rt&&!rt.done&&(yt=Pe.return)&&(yield yt.call(Pe))}finally{if(Ve)throw Ve.error}}Ne.complete()})})($e,Ne).catch(Pe=>Ne.error(Pe))})}},6451:(xt,ge,U)=>{"use strict";U.d(ge,{T:()=>de});var l=U(8189),B=U(8421),V=U(515),_e=U(3269),fe=U(8996);function de(...be){const Me=(0,_e.yG)(be),Te=(0,_e._6)(be,1/0),Z=be;return Z.length?1===Z.length?(0,B.Xf)(Z[0]):(0,l.J)(Te)((0,fe.D)(Z,Me)):V.E}},5403:(xt,ge,U)=>{"use strict";U.d(ge,{x:()=>B});var l=U(930);function B(_e,fe,de,be,Me){return new V(_e,fe,de,be,Me)}class V extends l.Lv{constructor(fe,de,be,Me,Te,Z){super(fe),this.onFinalize=Te,this.shouldUnsubscribe=Z,this._next=de?function(K){try{de(K)}catch(te){fe.error(te)}}:super._next,this._error=Me?function(K){try{Me(K)}catch(te){fe.error(te)}finally{this.unsubscribe()}}:super._error,this._complete=be?function(){try{be()}catch(K){fe.error(K)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var fe;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:de}=this;super.unsubscribe(),!de&&(null===(fe=this.onFinalize)||void 0===fe||fe.call(this))}}}},4004:(xt,ge,U)=>{"use strict";U.d(ge,{U:()=>V});var l=U(4482),B=U(5403);function V(_e,fe){return(0,l.e)((de,be)=>{let Me=0;de.subscribe((0,B.x)(be,Te=>{be.next(_e.call(fe,Te,Me++))}))})}},8189:(xt,ge,U)=>{"use strict";U.d(ge,{J:()=>V});var l=U(5577),B=U(4671);function V(_e=1/0){return(0,l.z)(B.y,_e)}},5577:(xt,ge,U)=>{"use strict";U.d(ge,{z:()=>Me});var l=U(4004),B=U(8421),V=U(4482),_e=U(9672),fe=U(5403),be=U(576);function Me(Te,Z,K=1/0){return(0,be.m)(Z)?Me((te,et)=>(0,l.U)((Fe,it)=>Z(te,Fe,et,it))((0,B.Xf)(Te(te,et))),K):("number"==typeof Z&&(K=Z),(0,V.e)((te,et)=>function de(Te,Z,K,te,et,Fe,it,ht){const we=[];let Le=0,Se=0,Ze=!1;const $e=()=>{Ze&&!we.length&&!Le&&Z.complete()},Ne=rt=>Le<te?Pe(rt):we.push(rt),Pe=rt=>{Fe&&Z.next(rt),Le++;let Ve=!1;(0,B.Xf)(K(rt,Se++)).subscribe((0,fe.x)(Z,yt=>{et?.(yt),Fe?Ne(yt):Z.next(yt)},()=>{Ve=!0},void 0,()=>{if(Ve)try{for(Le--;we.length&&Le<te;){const yt=we.shift();it?(0,_e.f)(Z,it,()=>Pe(yt)):Pe(yt)}$e()}catch(yt){Z.error(yt)}}))};return Te.subscribe((0,fe.x)(Z,Ne,()=>{Ze=!0,$e()})),()=>{ht?.()}}(te,et,Te,K)))}},5363:(xt,ge,U)=>{"use strict";U.d(ge,{Q:()=>_e});var l=U(9672),B=U(4482),V=U(5403);function _e(fe,de=0){return(0,B.e)((be,Me)=>{be.subscribe((0,V.x)(Me,Te=>(0,l.f)(Me,fe,()=>Me.next(Te),de),()=>(0,l.f)(Me,fe,()=>Me.complete(),de),Te=>(0,l.f)(Me,fe,()=>Me.error(Te),de)))})}},3099:(xt,ge,U)=>{"use strict";U.d(ge,{B:()=>fe});var l=U(8421),B=U(7579),V=U(930),_e=U(4482);function fe(be={}){const{connector:Me=(()=>new B.x),resetOnError:Te=!0,resetOnComplete:Z=!0,resetOnRefCountZero:K=!0}=be;return te=>{let et,Fe,it,ht=0,we=!1,Le=!1;const Se=()=>{Fe?.unsubscribe(),Fe=void 0},Ze=()=>{Se(),et=it=void 0,we=Le=!1},$e=()=>{const Ne=et;Ze(),Ne?.unsubscribe()};return(0,_e.e)((Ne,Pe)=>{ht++,!Le&&!we&&Se();const rt=it=it??Me();Pe.add(()=>{ht--,0===ht&&!Le&&!we&&(Fe=de($e,K))}),rt.subscribe(Pe),!et&&ht>0&&(et=new V.Hp({next:Ve=>rt.next(Ve),error:Ve=>{Le=!0,Se(),Fe=de(Ze,Te,Ve),rt.error(Ve)},complete:()=>{we=!0,Se(),Fe=de(Ze,Z),rt.complete()}}),(0,l.Xf)(Ne).subscribe(et))})(te)}}function de(be,Me,...Te){if(!0===Me)return void be();if(!1===Me)return;const Z=new V.Hp({next:()=>{Z.unsubscribe(),be()}});return(0,l.Xf)(Me(...Te)).subscribe(Z)}},9468:(xt,ge,U)=>{"use strict";U.d(ge,{R:()=>B});var l=U(4482);function B(V,_e=0){return(0,l.e)((fe,de)=>{de.add(V.schedule(()=>fe.subscribe(de),_e))})}},8505:(xt,ge,U)=>{"use strict";U.d(ge,{b:()=>fe});var l=U(576),B=U(4482),V=U(5403),_e=U(4671);function fe(de,be,Me){const Te=(0,l.m)(de)||be||Me?{next:de,error:be,complete:Me}:de;return Te?(0,B.e)((Z,K)=>{var te;null===(te=Te.subscribe)||void 0===te||te.call(Te);let et=!0;Z.subscribe((0,V.x)(K,Fe=>{var it;null===(it=Te.next)||void 0===it||it.call(Te,Fe),K.next(Fe)},()=>{var Fe;et=!1,null===(Fe=Te.complete)||void 0===Fe||Fe.call(Te),K.complete()},Fe=>{var it;et=!1,null===(it=Te.error)||void 0===it||it.call(Te,Fe),K.error(Fe)},()=>{var Fe,it;et&&(null===(Fe=Te.unsubscribe)||void 0===Fe||Fe.call(Te)),null===(it=Te.finalize)||void 0===it||it.call(Te)}))}):_e.y}},4408:(xt,ge,U)=>{"use strict";U.d(ge,{o:()=>fe});var l=U(727);class B extends l.w0{constructor(be,Me){super()}schedule(be,Me=0){return this}}const V={setInterval(de,be,...Me){const{delegate:Te}=V;return Te?.setInterval?Te.setInterval(de,be,...Me):setInterval(de,be,...Me)},clearInterval(de){const{delegate:be}=V;return(be?.clearInterval||clearInterval)(de)},delegate:void 0};var _e=U(8737);class fe extends B{constructor(be,Me){super(be,Me),this.scheduler=be,this.work=Me,this.pending=!1}schedule(be,Me=0){var Te;if(this.closed)return this;this.state=be;const Z=this.id,K=this.scheduler;return null!=Z&&(this.id=this.recycleAsyncId(K,Z,Me)),this.pending=!0,this.delay=Me,this.id=null!==(Te=this.id)&&void 0!==Te?Te:this.requestAsyncId(K,this.id,Me),this}requestAsyncId(be,Me,Te=0){return V.setInterval(be.flush.bind(be,this),Te)}recycleAsyncId(be,Me,Te=0){if(null!=Te&&this.delay===Te&&!1===this.pending)return Me;null!=Me&&V.clearInterval(Me)}execute(be,Me){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const Te=this._execute(be,Me);if(Te)return Te;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(be,Me){let Z,Te=!1;try{this.work(be)}catch(K){Te=!0,Z=K||new Error("Scheduled action threw falsy error")}if(Te)return this.unsubscribe(),Z}unsubscribe(){if(!this.closed){const{id:be,scheduler:Me}=this,{actions:Te}=Me;this.work=this.state=this.scheduler=null,this.pending=!1,(0,_e.P)(Te,this),null!=be&&(this.id=this.recycleAsyncId(Me,be,null)),this.delay=null,super.unsubscribe()}}}},7565:(xt,ge,U)=>{"use strict";U.d(ge,{v:()=>V});var l=U(6063);class B{constructor(fe,de=B.now){this.schedulerActionCtor=fe,this.now=de}schedule(fe,de=0,be){return new this.schedulerActionCtor(this,fe).schedule(be,de)}}B.now=l.l.now;class V extends B{constructor(fe,de=B.now){super(fe,de),this.actions=[],this._active=!1}flush(fe){const{actions:de}=this;if(this._active)return void de.push(fe);let be;this._active=!0;do{if(be=fe.execute(fe.state,fe.delay))break}while(fe=de.shift());if(this._active=!1,be){for(;fe=de.shift();)fe.unsubscribe();throw be}}}},4986:(xt,ge,U)=>{"use strict";U.d(ge,{P:()=>_e,z:()=>V});var l=U(4408);const V=new(U(7565).v)(l.o),_e=V},6063:(xt,ge,U)=>{"use strict";U.d(ge,{l:()=>l});const l={now:()=>(l.delegate||Date).now(),delegate:void 0}},3410:(xt,ge,U)=>{"use strict";U.d(ge,{z:()=>l});const l={setTimeout(B,V,..._e){const{delegate:fe}=l;return fe?.setTimeout?fe.setTimeout(B,V,..._e):setTimeout(B,V,..._e)},clearTimeout(B){const{delegate:V}=l;return(V?.clearTimeout||clearTimeout)(B)},delegate:void 0}},2202:(xt,ge,U)=>{"use strict";U.d(ge,{h:()=>B});const B=function l(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},8822:(xt,ge,U)=>{"use strict";U.d(ge,{L:()=>l});const l="function"==typeof Symbol&&Symbol.observable||"@@observable"},3269:(xt,ge,U)=>{"use strict";U.d(ge,{_6:()=>de,jO:()=>_e,yG:()=>fe});var l=U(576),B=U(3532);function V(be){return be[be.length-1]}function _e(be){return(0,l.m)(V(be))?be.pop():void 0}function fe(be){return(0,B.K)(V(be))?be.pop():void 0}function de(be,Me){return"number"==typeof V(be)?be.pop():Me}},8737:(xt,ge,U)=>{"use strict";function l(B,V){if(B){const _e=B.indexOf(V);0<=_e&&B.splice(_e,1)}}U.d(ge,{P:()=>l})},3888:(xt,ge,U)=>{"use strict";function l(B){const _e=B(fe=>{Error.call(fe),fe.stack=(new Error).stack});return _e.prototype=Object.create(Error.prototype),_e.prototype.constructor=_e,_e}U.d(ge,{d:()=>l})},2806:(xt,ge,U)=>{"use strict";U.d(ge,{O:()=>_e,x:()=>V});var l=U(2416);let B=null;function V(fe){if(l.v.useDeprecatedSynchronousErrorHandling){const de=!B;if(de&&(B={errorThrown:!1,error:null}),fe(),de){const{errorThrown:be,error:Me}=B;if(B=null,be)throw Me}}else fe()}function _e(fe){l.v.useDeprecatedSynchronousErrorHandling&&B&&(B.errorThrown=!0,B.error=fe)}},9672:(xt,ge,U)=>{"use strict";function l(B,V,_e,fe=0,de=!1){const be=V.schedule(function(){_e(),de?B.add(this.schedule(null,fe)):this.unsubscribe()},fe);if(B.add(be),!de)return be}U.d(ge,{f:()=>l})},4671:(xt,ge,U)=>{"use strict";function l(B){return B}U.d(ge,{y:()=>l})},1144:(xt,ge,U)=>{"use strict";U.d(ge,{z:()=>l});const l=B=>B&&"number"==typeof B.length&&"function"!=typeof B},2206:(xt,ge,U)=>{"use strict";U.d(ge,{D:()=>B});var l=U(576);function B(V){return Symbol.asyncIterator&&(0,l.m)(V?.[Symbol.asyncIterator])}},576:(xt,ge,U)=>{"use strict";function l(B){return"function"==typeof B}U.d(ge,{m:()=>l})},3670:(xt,ge,U)=>{"use strict";U.d(ge,{c:()=>V});var l=U(8822),B=U(576);function V(_e){return(0,B.m)(_e[l.L])}},6495:(xt,ge,U)=>{"use strict";U.d(ge,{T:()=>V});var l=U(2202),B=U(576);function V(_e){return(0,B.m)(_e?.[l.h])}},8239:(xt,ge,U)=>{"use strict";U.d(ge,{t:()=>B});var l=U(576);function B(V){return(0,l.m)(V?.then)}},3260:(xt,ge,U)=>{"use strict";U.d(ge,{L:()=>_e,Q:()=>V});var l=U(655),B=U(576);function V(fe){return(0,l.FC)(this,arguments,function*(){const be=fe.getReader();try{for(;;){const{value:Me,done:Te}=yield(0,l.qq)(be.read());if(Te)return yield(0,l.qq)(void 0);yield yield(0,l.qq)(Me)}}finally{be.releaseLock()}})}function _e(fe){return(0,B.m)(fe?.getReader)}},3532:(xt,ge,U)=>{"use strict";U.d(ge,{K:()=>B});var l=U(576);function B(V){return V&&(0,l.m)(V.schedule)}},4482:(xt,ge,U)=>{"use strict";U.d(ge,{A:()=>B,e:()=>V});var l=U(576);function B(_e){return(0,l.m)(_e?.lift)}function V(_e){return fe=>{if(B(fe))return fe.lift(function(de){try{return _e(de,this)}catch(be){this.error(be)}});throw new TypeError("Unable to lift unknown Observable type")}}},5032:(xt,ge,U)=>{"use strict";function l(){}U.d(ge,{Z:()=>l})},9635:(xt,ge,U)=>{"use strict";U.d(ge,{U:()=>V,z:()=>B});var l=U(4671);function B(..._e){return V(_e)}function V(_e){return 0===_e.length?l.y:1===_e.length?_e[0]:function(de){return _e.reduce((be,Me)=>Me(be),de)}}},7849:(xt,ge,U)=>{"use strict";U.d(ge,{h:()=>V});var l=U(2416),B=U(3410);function V(_e){B.z.setTimeout(()=>{const{onUnhandledError:fe}=l.v;if(!fe)throw _e;fe(_e)})}},4532:(xt,ge,U)=>{"use strict";function l(B){return new TypeError(`You provided ${null!==B&&"object"==typeof B?"an invalid object":`'${B}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}U.d(ge,{z:()=>l})},5226:function(xt){xt.exports=function(){"use strict";var ge={awaitingPromise:new WeakMap,promise:new WeakMap,innerParams:new WeakMap,domCache:new WeakMap};const l=I=>{const C={};for(const R in I)C[I[R]]="swal2-"+I[R];return C},B=l(["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"]),V=l(["success","warning","info","question","error"]),_e="SweetAlert2:",de=I=>I.charAt(0).toUpperCase()+I.slice(1),be=I=>{console.warn(`${_e} ${"object"==typeof I?I.join(" "):I}`)},Me=I=>{console.error(`${_e} ${I}`)},Te=[],K=(I,C)=>{(I=>{Te.includes(I)||(Te.push(I),be(I))})(`"${I}" is deprecated and will be removed in the next major release. Please use "${C}" instead.`)},te=I=>"function"==typeof I?I():I,et=I=>I&&"function"==typeof I.toPromise,Fe=I=>et(I)?I.toPromise():Promise.resolve(I),it=I=>I&&Promise.resolve(I)===I,ht=()=>document.body.querySelector(`.${B.container}`),we=I=>{const C=ht();return C?C.querySelector(I):null},Le=I=>we(`.${I}`),Se=()=>Le(B.popup),Ze=()=>Le(B.icon),Ne=()=>Le(B.title),Pe=()=>Le(B["html-container"]),rt=()=>Le(B.image),Ve=()=>Le(B["progress-steps"]),yt=()=>Le(B["validation-message"]),le=()=>we(`.${B.actions} .${B.confirm}`),Mt=()=>we(`.${B.actions} .${B.cancel}`),st=()=>we(`.${B.actions} .${B.deny}`),bt=()=>we(`.${B.loader}`),Ee=()=>Le(B.actions),Ce=()=>Le(B.footer),ke=()=>Le(B["timer-progress-bar"]),Be=()=>Le(B.close),Qe=()=>{const I=Array.from(Se().querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])')).sort((R,G)=>{const De=parseInt(R.getAttribute("tabindex")),Ft=parseInt(G.getAttribute("tabindex"));return De>Ft?1:De<Ft?-1:0}),C=Array.from(Se().querySelectorAll('\n  a[href],\n  area[href],\n  input:not([disabled]),\n  select:not([disabled]),\n  textarea:not([disabled]),\n  button:not([disabled]),\n  iframe,\n  object,\n  embed,\n  [tabindex="0"],\n  [contenteditable],\n  audio[controls],\n  video[controls],\n  summary\n')).filter(R=>"-1"!==R.getAttribute("tabindex"));return(I=>{const C=[];for(let R=0;R<I.length;R++)-1===C.indexOf(I[R])&&C.push(I[R]);return C})(I.concat(C)).filter(R=>ct(R))},Ct=()=>Rt(document.body,B.shown)&&!Rt(document.body,B["toast-shown"])&&!Rt(document.body,B["no-backdrop"]),Tt=()=>Se()&&Rt(Se(),B.toast),ut={previousBodyPadding:null},Ht=(I,C)=>{if(I.textContent="",C){const G=(new DOMParser).parseFromString(C,"text/html");Array.from(G.querySelector("head").childNodes).forEach(De=>{I.appendChild(De)}),Array.from(G.querySelector("body").childNodes).forEach(De=>{De instanceof HTMLVideoElement||De instanceof HTMLAudioElement?I.appendChild(De.cloneNode(!0)):I.appendChild(De)})}},Rt=(I,C)=>{if(!C)return!1;const R=C.split(/\s+/);for(let G=0;G<R.length;G++)if(!I.classList.contains(R[G]))return!1;return!0},mn=(I,C,R)=>{if(((I,C)=>{Array.from(I.classList).forEach(R=>{!Object.values(B).includes(R)&&!Object.values(V).includes(R)&&!Object.values(C.showClass).includes(R)&&I.classList.remove(R)})})(I,C),C.customClass&&C.customClass[R]){if("string"!=typeof C.customClass[R]&&!C.customClass[R].forEach)return void be(`Invalid type of customClass.${R}! Expected string or iterable object, got "${typeof C.customClass[R]}"`);jt(I,C.customClass[R])}},Hn=(I,C)=>{if(!C)return null;switch(C){case"select":case"textarea":case"file":return I.querySelector(`.${B.popup} > .${B[C]}`);case"checkbox":return I.querySelector(`.${B.popup} > .${B.checkbox} input`);case"radio":return I.querySelector(`.${B.popup} > .${B.radio} input:checked`)||I.querySelector(`.${B.popup} > .${B.radio} input:first-child`);case"range":return I.querySelector(`.${B.popup} > .${B.range} input`);default:return I.querySelector(`.${B.popup} > .${B.input}`)}},Mr=I=>{if(I.focus(),"file"!==I.type){const C=I.value;I.value="",I.value=C}},jr=(I,C,R)=>{!I||!C||("string"==typeof C&&(C=C.split(/\s+/).filter(Boolean)),C.forEach(G=>{Array.isArray(I)?I.forEach(De=>{R?De.classList.add(G):De.classList.remove(G)}):R?I.classList.add(G):I.classList.remove(G)}))},jt=(I,C)=>{jr(I,C,!0)},wr=(I,C)=>{jr(I,C,!1)},nr=(I,C)=>{const R=Array.from(I.children);for(let G=0;G<R.length;G++){const De=R[G];if(De instanceof HTMLElement&&Rt(De,C))return De}},se=(I,C,R)=>{R===`${parseInt(R)}`&&(R=parseInt(R)),R||0===parseInt(R)?I.style[C]="number"==typeof R?`${R}px`:R:I.style.removeProperty(C)},ee=function(I){I.style.display=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"flex"},he=I=>{I.style.display="none"},oe=(I,C,R,G)=>{const De=I.querySelector(C);De&&(De.style[R]=G)},Je=function(I,C){C?ee(I,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"flex"):he(I)},ct=I=>!(!I||!(I.offsetWidth||I.offsetHeight||I.getClientRects().length)),rn=I=>I.scrollHeight>I.clientHeight,fn=I=>{const C=window.getComputedStyle(I),R=parseFloat(C.getPropertyValue("animation-duration")||"0"),G=parseFloat(C.getPropertyValue("transition-duration")||"0");return R>0||G>0},$t=function(I){let C=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const R=ke();ct(R)&&(C&&(R.style.transition="none",R.style.width="100%"),setTimeout(()=>{R.style.transition=`width ${I/1e3}s linear`,R.style.width="0%"},10))},nt={},zn=I=>new Promise(C=>{if(!I)return C();const R=window.scrollX,G=window.scrollY;nt.restoreFocusTimeout=setTimeout(()=>{nt.previousActiveElement instanceof HTMLElement?(nt.previousActiveElement.focus(),nt.previousActiveElement=null):document.body&&document.body.focus(),C()},100),window.scrollTo(R,G)}),Qn=()=>typeof window>"u"||typeof document>"u",Tn=`\n <div aria-labelledby="${B.title}" aria-describedby="${B["html-container"]}" class="${B.popup}" tabindex="-1">\n   <button type="button" class="${B.close}"></button>\n   <ul class="${B["progress-steps"]}"></ul>\n   <div class="${B.icon}"></div>\n   <img class="${B.image}" />\n   <h2 class="${B.title}" id="${B.title}"></h2>\n   <div class="${B["html-container"]}" id="${B["html-container"]}"></div>\n   <input class="${B.input}" />\n   <input type="file" class="${B.file}" />\n   <div class="${B.range}">\n     <input type="range" />\n     <output></output>\n   </div>\n   <select class="${B.select}"></select>\n   <div class="${B.radio}"></div>\n   <label for="${B.checkbox}" class="${B.checkbox}">\n     <input type="checkbox" />\n     <span class="${B.label}"></span>\n   </label>\n   <textarea class="${B.textarea}"></textarea>\n   <div class="${B["validation-message"]}" id="${B["validation-message"]}"></div>\n   <div class="${B.actions}">\n     <div class="${B.loader}"></div>\n     <button type="button" class="${B.confirm}"></button>\n     <button type="button" class="${B.deny}"></button>\n     <button type="button" class="${B.cancel}"></button>\n   </div>\n   <div class="${B.footer}"></div>\n   <div class="${B["timer-progress-bar-container"]}">\n     <div class="${B["timer-progress-bar"]}"></div>\n   </div>\n </div>\n`.replace(/(^|\n)\s*/g,""),or=()=>{nt.currentInstance.resetValidationMessage()},An=I=>{const C=(()=>{const I=ht();return!!I&&(I.remove(),wr([document.documentElement,document.body],[B["no-backdrop"],B["toast-shown"],B["has-column"]]),!0)})();if(Qn())return void Me("SweetAlert2 requires document to initialize");const R=document.createElement("div");R.className=B.container,C&&jt(R,B["no-transition"]),Ht(R,Tn);const G=(I=>"string"==typeof I?document.querySelector(I):I)(I.target);G.appendChild(R),(I=>{const C=Se();C.setAttribute("role",I.toast?"alert":"dialog"),C.setAttribute("aria-live",I.toast?"polite":"assertive"),I.toast||C.setAttribute("aria-modal","true")})(I),(I=>{"rtl"===window.getComputedStyle(I).direction&&jt(ht(),B.rtl)})(G),(()=>{const I=Se(),C=nr(I,B.input),R=nr(I,B.file),G=I.querySelector(`.${B.range} input`),De=I.querySelector(`.${B.range} output`),Ft=nr(I,B.select),Pn=I.querySelector(`.${B.checkbox} input`),kr=nr(I,B.textarea);C.oninput=or,R.onchange=or,Ft.onchange=or,Pn.onchange=or,kr.oninput=or,G.oninput=()=>{or(),De.value=G.value},G.onchange=()=>{or(),De.value=G.value}})()},yi=(I,C)=>{I instanceof HTMLElement?C.appendChild(I):"object"==typeof I?ar(I,C):I&&Ht(C,I)},ar=(I,C)=>{I.jquery?Er(C,I):Ht(C,I.toString())},Er=(I,C)=>{if(I.textContent="",0 in C)for(let R=0;R in C;R++)I.appendChild(C[R].cloneNode(!0));else I.appendChild(C.cloneNode(!0))},ai=(()=>{if(Qn())return!1;const I=document.createElement("div"),C={WebkitAnimation:"webkitAnimationEnd",animation:"animationend"};for(const R in C)if(Object.prototype.hasOwnProperty.call(C,R)&&typeof I.style[R]<"u")return C[R];return!1})(),ts=(I,C)=>{const R=Ee(),G=bt();C.showConfirmButton||C.showDenyButton||C.showCancelButton?ee(R):he(R),mn(R,C,"actions"),function vi(I,C,R){const G=le(),De=st(),Ft=Mt();$(G,"confirm",R),$(De,"deny",R),$(Ft,"cancel",R),function q(I,C,R,G){G.buttonsStyling?(jt([I,C,R],B.styled),G.confirmButtonColor&&(I.style.backgroundColor=G.confirmButtonColor,jt(I,B["default-outline"])),G.denyButtonColor&&(C.style.backgroundColor=G.denyButtonColor,jt(C,B["default-outline"])),G.cancelButtonColor&&(R.style.backgroundColor=G.cancelButtonColor,jt(R,B["default-outline"]))):wr([I,C,R],B.styled)}(G,De,Ft,R),R.reverseButtons&&(R.toast?(I.insertBefore(Ft,G),I.insertBefore(De,G)):(I.insertBefore(Ft,C),I.insertBefore(De,C),I.insertBefore(G,C)))}(R,G,C),Ht(G,C.loaderHtml),mn(G,C,"loader")};function $(I,C,R){Je(I,R[`show${de(C)}Button`],"inline-block"),Ht(I,R[`${C}ButtonText`]),I.setAttribute("aria-label",R[`${C}ButtonAriaLabel`]),I.className=B[C],mn(I,R,`${C}Button`),jt(I,R[`${C}ButtonClass`])}const Oe=(I,C)=>{const R=ht();R&&(function ue(I,C){"string"==typeof C?I.style.background=C:C||jt([document.documentElement,document.body],B["no-backdrop"])}(R,C.backdrop),function We(I,C){C in B?jt(I,B[C]):(be('The "position" parameter is not valid, defaulting to "center"'),jt(I,B.center))}(R,C.position),function Wt(I,C){if(C&&"string"==typeof C){const R=`grow-${C}`;R in B&&jt(I,B[R])}}(R,C.grow),mn(R,C,"container"))};const En=["input","file","range","select","radio","checkbox","textarea"],Xn=I=>{if(!re[I.input])return void Me(`Unexpected type of input! Expected "text", "email", "password", "number", "tel", "select", "radio", "checkbox", "textarea", "file" or "url", got "${I.input}"`);const C=Zo(I.input),R=re[I.input](C,I);ee(C),I.inputAutoFocus&&setTimeout(()=>{Mr(R)})},yn=(I,C)=>{const R=Hn(Se(),I);if(R){(I=>{for(let C=0;C<I.attributes.length;C++){const R=I.attributes[C].name;["type","value","style"].includes(R)||I.removeAttribute(R)}})(R);for(const G in C)R.setAttribute(G,C[G])}},li=I=>{const C=Zo(I.input);"object"==typeof I.customClass&&jt(C,I.customClass.input)},Ai=(I,C)=>{(!I.placeholder||C.inputPlaceholder)&&(I.placeholder=C.inputPlaceholder)},bi=(I,C,R)=>{if(R.inputLabel){I.id=B.input;const G=document.createElement("label"),De=B["input-label"];G.setAttribute("for",I.id),G.className=De,"object"==typeof R.customClass&&jt(G,R.customClass.inputLabel),G.innerText=R.inputLabel,C.insertAdjacentElement("beforebegin",G)}},Zo=I=>nr(Se(),B[I]||B.input),ve=(I,C)=>{["string","number"].includes(typeof C)?I.value=`${C}`:it(C)||be(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof C}"`)},re={};re.text=re.email=re.password=re.number=re.tel=re.url=(I,C)=>(ve(I,C.inputValue),bi(I,I,C),Ai(I,C),I.type=C.input,I),re.file=(I,C)=>(bi(I,I,C),Ai(I,C),I),re.range=(I,C)=>{const R=I.querySelector("input"),G=I.querySelector("output");return ve(R,C.inputValue),R.type=C.input,ve(G,C.inputValue),bi(R,I,C),I},re.select=(I,C)=>{if(I.textContent="",C.inputPlaceholder){const R=document.createElement("option");Ht(R,C.inputPlaceholder),R.value="",R.disabled=!0,R.selected=!0,I.appendChild(R)}return bi(I,I,C),I},re.radio=I=>(I.textContent="",I),re.checkbox=(I,C)=>{const R=Hn(Se(),"checkbox");R.value="1",R.id=B.checkbox,R.checked=Boolean(C.inputValue);const G=I.querySelector("span");return Ht(G,C.inputPlaceholder),R},re.textarea=(I,C)=>{ve(I,C.inputValue),Ai(I,C),bi(I,I,C);return setTimeout(()=>{if("MutationObserver"in window){const G=parseInt(window.getComputedStyle(Se()).width);new MutationObserver(()=>{const Ft=I.offsetWidth+(G=>parseInt(window.getComputedStyle(G).marginLeft)+parseInt(window.getComputedStyle(G).marginRight))(I);Se().style.width=Ft>G?`${Ft}px`:null}).observe(I,{attributes:!0,attributeFilter:["style"]})}}),I};const ze=(I,C)=>{const R=Pe();mn(R,C,"htmlContainer"),C.html?(yi(C.html,R),ee(R,"block")):C.text?(R.textContent=C.text,ee(R,"block")):he(R),((I,C)=>{const R=Se(),G=ge.innerParams.get(I),De=!G||C.input!==G.input;En.forEach(Ft=>{const Pn=nr(R,B[Ft]);yn(Ft,C.inputAttributes),Pn.className=B[Ft],De&&he(Pn)}),C.input&&(De&&Xn(C),li(C))})(I,C)},an=(I,C)=>{for(const R in V)C.icon!==R&&wr(I,V[R]);jt(I,V[C.icon]),Dr(I,C),Bt(),mn(I,C,"icon")},Bt=()=>{const I=Se(),C=window.getComputedStyle(I).getPropertyValue("background-color"),R=I.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let G=0;G<R.length;G++)R[G].style.backgroundColor=C},Or=(I,C)=>{let G,R=I.innerHTML;C.iconHtml?G=Ta(C.iconHtml):"success"===C.icon?(G='\n  <div class="swal2-success-circular-line-left"></div>\n  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>\n  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>\n  <div class="swal2-success-circular-line-right"></div>\n',R=R.replace(/ style=".*?"/g,"")):G="error"===C.icon?'\n  <span class="swal2-x-mark">\n    <span class="swal2-x-mark-line-left"></span>\n    <span class="swal2-x-mark-line-right"></span>\n  </span>\n':Ta({question:"?",warning:"!",info:"i"}[C.icon]),R.trim()!==G.trim()&&Ht(I,G)},Dr=(I,C)=>{if(C.iconColor){I.style.color=C.iconColor,I.style.borderColor=C.iconColor;for(const R of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])oe(I,R,"backgroundColor",C.iconColor);oe(I,".swal2-success-ring","borderColor",C.iconColor)}},Ta=I=>`<div class="${B["icon-content"]}">${I}</div>`,Gi=(I,C)=>{I.className=`${B.popup} ${ct(I)?C.showClass.popup:""}`,C.toast?(jt([document.documentElement,document.body],B["toast-shown"]),jt(I,B.toast)):jt(I,B.modal),mn(I,C,"popup"),"string"==typeof C.customClass&&jt(I,C.customClass),C.icon&&jt(I,B[`icon-${C.icon}`])},tn=I=>{const C=document.createElement("li");return jt(C,B["progress-step"]),Ht(C,I),C},Yn=I=>{const C=document.createElement("li");return jt(C,B["progress-step-line"]),I.progressStepsDistance&&se(C,"width",I.progressStepsDistance),C},Rn=(I,C)=>{((I,C)=>{const R=ht(),G=Se();C.toast?(se(R,"width",C.width),G.style.width="100%",G.insertBefore(bt(),Ze())):se(G,"width",C.width),se(G,"padding",C.padding),C.color&&(G.style.color=C.color),C.background&&(G.style.background=C.background),he(yt()),Gi(G,C)})(0,C),Oe(0,C),((I,C)=>{const R=Ve();C.progressSteps&&0!==C.progressSteps.length?(ee(R),R.textContent="",C.currentProgressStep>=C.progressSteps.length&&be("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),C.progressSteps.forEach((G,De)=>{const Ft=tn(G);if(R.appendChild(Ft),De===C.currentProgressStep&&jt(Ft,B["active-progress-step"]),De!==C.progressSteps.length-1){const Pn=Yn(C);R.appendChild(Pn)}})):he(R)})(0,C),((I,C)=>{const R=ge.innerParams.get(I),G=Ze();R&&C.icon===R.icon?(Or(G,C),an(G,C)):C.icon||C.iconHtml?C.icon&&-1===Object.keys(V).indexOf(C.icon)?(Me(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${C.icon}"`),he(G)):(ee(G),Or(G,C),an(G,C),jt(G,C.showClass.icon)):he(G)})(I,C),((I,C)=>{const R=rt();C.imageUrl?(ee(R,""),R.setAttribute("src",C.imageUrl),R.setAttribute("alt",C.imageAlt),se(R,"width",C.imageWidth),se(R,"height",C.imageHeight),R.className=B.image,mn(R,C,"image")):he(R)})(0,C),((I,C)=>{const R=Ne();Je(R,C.title||C.titleText,"block"),C.title&&yi(C.title,R),C.titleText&&(R.innerText=C.titleText),mn(R,C,"title")})(0,C),((I,C)=>{const R=Be();Ht(R,C.closeButtonHtml),mn(R,C,"closeButton"),Je(R,C.showCloseButton),R.setAttribute("aria-label",C.closeButtonAriaLabel)})(0,C),ze(I,C),ts(0,C),((I,C)=>{const R=Ce();Je(R,C.footer),C.footer&&yi(C.footer,R),mn(R,C,"footer")})(0,C),"function"==typeof C.didRender&&C.didRender(Se())};function mr(){const I=ge.innerParams.get(this);if(!I)return;const C=ge.domCache.get(this);he(C.loader),Tt()?I.icon&&ee(Ze()):ui(C),wr([C.popup,C.actions],B.loading),C.popup.removeAttribute("aria-busy"),C.popup.removeAttribute("data-loading"),C.confirmButton.disabled=!1,C.denyButton.disabled=!1,C.cancelButton.disabled=!1}const ui=I=>{const C=I.popup.getElementsByClassName(I.loader.getAttribute("data-button-to-replace"));C.length?ee(C[0],"inline-block"):!ct(le())&&!ct(st())&&!ct(Mt())&&he(I.actions)};const ur=()=>le()&&le().click(),qi=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),_s=I=>{I.keydownTarget&&I.keydownHandlerAdded&&(I.keydownTarget.removeEventListener("keydown",I.keydownHandler,{capture:I.keydownListenerCapture}),I.keydownHandlerAdded=!1)},rr=(I,C)=>{const R=Qe();if(R.length)return(I+=C)===R.length?I=0:-1===I&&(I=R.length-1),void R[I].focus();Se().focus()},So=["ArrowRight","ArrowDown"],ks=["ArrowLeft","ArrowUp"],ns=(I,C,R)=>{const G=ge.innerParams.get(I);G&&(C.isComposing||229===C.keyCode||(G.stopKeydownPropagation&&C.stopPropagation(),"Enter"===C.key?Co(I,C,G):"Tab"===C.key?jn(C):[...So,...ks].includes(C.key)?$n(C.key):"Escape"===C.key&&Ni(C,G,R)))},Co=(I,C,R)=>{if(te(R.allowEnterKey)&&C.target&&I.getInput()&&C.target instanceof HTMLElement&&C.target.outerHTML===I.getInput().outerHTML){if(["textarea","file"].includes(R.input))return;ur(),C.preventDefault()}},jn=I=>{const C=I.target,R=Qe();let G=-1;for(let De=0;De<R.length;De++)if(C===R[De]){G=De;break}rr(G,I.shiftKey?-1:1),I.stopPropagation(),I.preventDefault()},$n=I=>{const C=le(),R=st(),G=Mt();if(document.activeElement instanceof HTMLElement&&![C,R,G].includes(document.activeElement))return;const Ft=So.includes(I)?"nextElementSibling":"previousElementSibling";let Pn=document.activeElement;for(let kr=0;kr<Ee().children.length;kr++){if(Pn=Pn[Ft],!Pn)return;if(Pn instanceof HTMLButtonElement&&ct(Pn))break}Pn instanceof HTMLButtonElement&&Pn.focus()},Ni=(I,C,R)=>{te(C.allowEscapeKey)&&(I.preventDefault(),R(qi.esc))};var Fs={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};const Ao=()=>{Array.from(document.body.children).forEach(C=>{C.hasAttribute("data-previous-aria-hidden")?(C.setAttribute("aria-hidden",C.getAttribute("data-previous-aria-hidden")),C.removeAttribute("data-previous-aria-hidden")):C.removeAttribute("aria-hidden")})},lo=()=>{const I=navigator.userAgent,C=!!I.match(/iPad/i)||!!I.match(/iPhone/i),R=!!I.match(/WebKit/i);C&&R&&!I.match(/CriOS/i)&&Se().scrollHeight>window.innerHeight-44&&(ht().style.paddingBottom="44px")},Gr=()=>{const I=ht();let C;I.ontouchstart=R=>{C=gl(R)},I.ontouchmove=R=>{C&&(R.preventDefault(),R.stopPropagation())}},gl=I=>{const C=I.target,R=ht();return!Mi(I)&&!Oi(I)&&(C===R||!rn(R)&&C instanceof HTMLElement&&"INPUT"!==C.tagName&&"TEXTAREA"!==C.tagName&&!(rn(Pe())&&Pe().contains(C)))},Mi=I=>I.touches&&I.touches.length&&"stylus"===I.touches[0].touchType,Oi=I=>I.touches&&I.touches.length>1,Ca=()=>{if(Rt(document.body,B.iosfix)){const I=parseInt(document.body.style.top,10);wr(document.body,B.iosfix),document.body.style.top="",document.body.scrollTop=-1*I}},Yo=()=>{null===ut.previousBodyPadding&&document.body.scrollHeight>window.innerHeight&&(ut.previousBodyPadding=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${ut.previousBodyPadding+(()=>{const I=document.createElement("div");I.className=B["scrollbar-measure"],document.body.appendChild(I);const C=I.getBoundingClientRect().width-I.clientWidth;return document.body.removeChild(I),C})()}px`)},eu=()=>{null!==ut.previousBodyPadding&&(document.body.style.paddingRight=`${ut.previousBodyPadding}px`,ut.previousBodyPadding=null)};function xi(I,C,R,G){Tt()?md(I,G):(zn(R).then(()=>md(I,G)),_s(nt)),/^((?!chrome|android).)*safari/i.test(navigator.userAgent)?(C.setAttribute("style","display:none !important"),C.removeAttribute("class"),C.innerHTML=""):C.remove(),Ct()&&(eu(),Ca(),Ao()),function ml(){wr([document.documentElement,document.body],[B.shown,B["height-auto"],B["no-backdrop"],B["toast-shown"]])}()}function wi(I){I=tu(I);const C=Fs.swalPromiseResolve.get(this),R=gd(this);this.isAwaitingPromise()?I.isDismissed||(_l(this),C(I)):R&&C(I)}const gd=I=>{const C=Se();if(!C)return!1;const R=ge.innerParams.get(I);if(!R||Rt(C,R.hideClass.popup))return!1;wr(C,R.showClass.popup),jt(C,R.hideClass.popup);const G=ht();return wr(G,R.showClass.backdrop),jt(G,R.hideClass.backdrop),Bh(I,C,R),!0};const _l=I=>{I.isAwaitingPromise()&&(ge.awaitingPromise.delete(I),ge.innerParams.get(I)||I._destroy())},tu=I=>typeof I>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},I),Bh=(I,C,R)=>{const G=ht(),De=ai&&fn(C);"function"==typeof R.willClose&&R.willClose(C),De?nu(I,C,G,R.returnFocus,R.didClose):xi(I,G,R.returnFocus,R.didClose)},nu=(I,C,R,G,De)=>{nt.swalCloseEventFinishedCallback=xi.bind(null,I,R,G,De),C.addEventListener(ai,function(Ft){Ft.target===C&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback)})},md=(I,C)=>{setTimeout(()=>{"function"==typeof C&&C.bind(I.params)(),I._destroy()})};function Aa(I,C,R){const G=ge.domCache.get(I);C.forEach(De=>{G[De].disabled=R})}function ru(I,C){if(I)if("radio"===I.type){const G=I.parentNode.parentNode.querySelectorAll("input");for(let De=0;De<G.length;De++)G[De].disabled=C}else I.disabled=C}const vl={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Xu=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Bs={},ys=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],uo=I=>Object.prototype.hasOwnProperty.call(vl,I),bl=I=>-1!==Xu.indexOf(I),No=I=>Bs[I],ec=I=>{uo(I)||be(`Unknown parameter "${I}"`)},iu=I=>{ys.includes(I)&&be(`The parameter "${I}" is incompatible with toasts`)},co=I=>{No(I)&&K(I,No(I))};const wl=I=>{const C={};return Object.keys(I).forEach(R=>{bl(R)?C[R]=I[R]:be(`Invalid parameter to update: ${R}`)}),C};const Ei=I=>{Qr(I),delete I.params,delete nt.keydownHandler,delete nt.keydownTarget,delete nt.currentInstance},Qr=I=>{I.isAwaitingPromise()?(Mo(ge,I),ge.awaitingPromise.set(I,!0)):(Mo(Fs,I),Mo(ge,I))},Mo=(I,C)=>{for(const R in I)I[R].delete(C)};var xr=Object.freeze({__proto__:null,_destroy:function ho(){const I=ge.domCache.get(this),C=ge.innerParams.get(this);C?(I.popup&&nt.swalCloseEventFinishedCallback&&(nt.swalCloseEventFinishedCallback(),delete nt.swalCloseEventFinishedCallback),"function"==typeof C.didDestroy&&C.didDestroy(),Ei(this)):Qr(this)},close:wi,closeModal:wi,closePopup:wi,closeToast:wi,disableButtons:function yl(){Aa(this,["confirmButton","denyButton","cancelButton"],!0)},disableInput:function _d(){ru(this.getInput(),!0)},disableLoading:mr,enableButtons:function Ip(){Aa(this,["confirmButton","denyButton","cancelButton"],!1)},enableInput:function Wi(){ru(this.getInput(),!1)},getInput:function lr(I){const C=ge.innerParams.get(I||this),R=ge.domCache.get(I||this);return R?Hn(R.popup,C.input):null},handleAwaitingPromise:_l,hideLoading:mr,isAwaitingPromise:function Ju(){return!!ge.awaitingPromise.get(this)},rejectPromise:function Ls(I){const C=Fs.swalPromiseReject.get(this);_l(this),C&&C(I)},resetValidationMessage:function Jo(){const I=ge.domCache.get(this);I.validationMessage&&he(I.validationMessage);const C=this.getInput();C&&(C.removeAttribute("aria-invalid"),C.removeAttribute("aria-describedby"),wr(C,B.inputerror))},showValidationMessage:function Qu(I){const C=ge.domCache.get(this),R=ge.innerParams.get(this);Ht(C.validationMessage,I),C.validationMessage.className=B["validation-message"],R.customClass&&R.customClass.validationMessage&&jt(C.validationMessage,R.customClass.validationMessage),ee(C.validationMessage);const G=this.getInput();G&&(G.setAttribute("aria-invalid",!0),G.setAttribute("aria-describedby",B["validation-message"]),Mr(G),jt(G,B.inputerror))},update:function Na(I){const C=Se(),R=ge.innerParams.get(this);if(!C||Rt(C,R.hideClass.popup))return void be("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");const G=wl(I),De=Object.assign({},R,G);Rn(this,De),ge.innerParams.set(this,De),Object.defineProperties(this,{params:{value:Object.assign({},this.params,I),writable:!1,enumerable:!0}})}});const rs=I=>{let C=Se();C||new fu,C=Se();const R=bt();Tt()?he(Ze()):Us(C,I),ee(R),C.setAttribute("data-loading","true"),C.setAttribute("aria-busy","true"),C.focus()},Us=(I,C)=>{const R=Ee(),G=bt();!C&&ct(le())&&(C=le()),ee(R),C&&(he(C),G.setAttribute("data-button-to-replace",C.className)),G.parentNode.insertBefore(G,C),jt([I,R],B.loading)},nc=I=>I.checked?1:0,ci=I=>I.checked?I.value:null,Rr=I=>I.files.length?null!==I.getAttribute("multiple")?I.files:I.files[0]:null,El=(I,C)=>{const R=Se(),G=De=>{su[C.input](R,vs(De),C)};et(C.inputOptions)||it(C.inputOptions)?(rs(le()),Fe(C.inputOptions).then(De=>{I.hideLoading(),G(De)})):"object"==typeof C.inputOptions?G(C.inputOptions):Me("Unexpected type of inputOptions! Expected object, Map or Promise, got "+typeof C.inputOptions)},Vs=(I,C)=>{const R=I.getInput();he(R),Fe(C.inputValue).then(G=>{R.value="number"===C.input?`${parseFloat(G)||0}`:`${G}`,ee(R),R.focus(),I.hideLoading()}).catch(G=>{Me(`Error in inputValue promise: ${G}`),R.value="",ee(R),R.focus(),I.hideLoading()})},su={select:(I,C,R)=>{const G=nr(I,B.select),De=(Ft,Pn,kr)=>{const Wr=document.createElement("option");Wr.value=kr,Ht(Wr,Pn),Wr.selected=Oo(kr,R.inputValue),Ft.appendChild(Wr)};C.forEach(Ft=>{const Pn=Ft[0],kr=Ft[1];if(Array.isArray(kr)){const Wr=document.createElement("optgroup");Wr.label=Pn,Wr.disabled=!1,G.appendChild(Wr),kr.forEach(Zi=>De(Wr,Zi[1],Zi[0]))}else De(G,kr,Pn)}),G.focus()},radio:(I,C,R)=>{const G=nr(I,B.radio);C.forEach(Ft=>{const Pn=Ft[0],kr=Ft[1],Wr=document.createElement("input"),Zi=document.createElement("label");Wr.type="radio",Wr.name=B.radio,Wr.value=Pn,Oo(Pn,R.inputValue)&&(Wr.checked=!0);const qs=document.createElement("span");Ht(qs,kr),qs.className=B.label,Zi.appendChild(Wr),Zi.appendChild(qs),G.appendChild(Zi)});const De=G.querySelectorAll("input");De.length&&De[0].focus()}},vs=I=>{const C=[];return typeof Map<"u"&&I instanceof Map?I.forEach((R,G)=>{let De=R;"object"==typeof De&&(De=vs(De)),C.push([G,De])}):Object.keys(I).forEach(R=>{let G=I[R];"object"==typeof G&&(G=vs(G)),C.push([R,G])}),C},Oo=(I,C)=>C&&C.toString()===I.toString(),ou=(I,C)=>{const R=ge.innerParams.get(I);if(!R.input)return void Me(`The "input" parameter is needed to be set when using returnInputValueOn${de(C)}`);const G=((I,C)=>{const R=I.getInput();if(!R)return null;switch(C.input){case"checkbox":return nc(R);case"radio":return ci(R);case"file":return Rr(R);default:return C.inputAutoTrim?R.value.trim():R.value}})(I,R);R.inputValidator?rc(I,G,C):I.getInput().checkValidity()?"deny"===C?Qo(I,G):ic(I,G):(I.enableButtons(),I.showValidationMessage(R.validationMessage))},rc=(I,C,R)=>{const G=ge.innerParams.get(I);I.disableInput(),Promise.resolve().then(()=>Fe(G.inputValidator(C,G.validationMessage))).then(Ft=>{I.enableButtons(),I.enableInput(),Ft?I.showValidationMessage(Ft):"deny"===R?Qo(I,C):ic(I,C)})},Qo=(I,C)=>{const R=ge.innerParams.get(I||void 0);R.showLoaderOnDeny&&rs(st()),R.preDeny?(ge.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Fe(R.preDeny(C,R.validationMessage))).then(De=>{!1===De?(I.hideLoading(),_l(I)):I.close({isDenied:!0,value:typeof De>"u"?C:De})}).catch(De=>xa(I||void 0,De))):I.close({isDenied:!0,value:C})},au=(I,C)=>{I.close({isConfirmed:!0,value:C})},xa=(I,C)=>{I.rejectPromise(C)},ic=(I,C)=>{const R=ge.innerParams.get(I||void 0);R.showLoaderOnConfirm&&rs(),R.preConfirm?(I.resetValidationMessage(),ge.awaitingPromise.set(I||void 0,!0),Promise.resolve().then(()=>Fe(R.preConfirm(C,R.validationMessage))).then(De=>{ct(yt())||!1===De?(I.hideLoading(),_l(I)):au(I,typeof De>"u"?C:De)}).catch(De=>xa(I||void 0,De))):au(I,C)},Ie=(I,C,R)=>{C.popup.onclick=()=>{const G=ge.innerParams.get(I);G&&(nn(G)||G.timer||G.input)||R(qi.close)}},nn=I=>I.showConfirmButton||I.showDenyButton||I.showCancelButton||I.showCloseButton;let fo=!1;const Ra=I=>{I.popup.onmousedown=()=>{I.container.onmouseup=function(C){I.container.onmouseup=void 0,C.target===I.container&&(fo=!0)}}},Pr=I=>{I.container.onmousedown=()=>{I.popup.onmouseup=function(C){I.popup.onmouseup=void 0,(C.target===I.popup||I.popup.contains(C.target))&&(fo=!0)}}},xo=(I,C,R)=>{C.container.onclick=G=>{const De=ge.innerParams.get(I);fo?fo=!1:G.target===C.container&&te(De.allowOutsideClick)&&R(qi.backdrop)}},di=I=>I instanceof Element||(I=>"object"==typeof I&&I.jquery)(I);const Xo=()=>{if(nt.timeout)return(()=>{const I=ke(),C=parseInt(window.getComputedStyle(I).width);I.style.removeProperty("transition"),I.style.width="100%";const R=parseInt(window.getComputedStyle(I).width);I.style.width=C/R*100+"%"})(),nt.timeout.stop()},_r=()=>{if(nt.timeout){const I=nt.timeout.start();return $t(I),I}};let Ri=!1;const Il={};const Sl=I=>{for(let C=I.target;C&&C!==document;C=C.parentNode)for(const R in Il){const G=C.getAttribute(R);if(G)return void Il[R].fire({template:G})}};var Vh=Object.freeze({__proto__:null,argsToParams:I=>{const C={};return"object"!=typeof I[0]||di(I[0])?["title","html","icon"].forEach((R,G)=>{const De=I[G];"string"==typeof De||di(De)?C[R]=De:void 0!==De&&Me(`Unexpected type of ${R}! Expected "string" or "Element", got ${typeof De}`)}):Object.assign(C,I[0]),C},bindClickHandler:function Pa(){Il[arguments.length>0&&void 0!==arguments[0]?arguments[0]:"data-swal-template"]=this,Ri||(document.body.addEventListener("click",Sl),Ri=!0)},clickCancel:()=>Mt()&&Mt().click(),clickConfirm:ur,clickDeny:()=>st()&&st().click(),enableLoading:rs,fire:function Tl(){for(var C=arguments.length,R=new Array(C),G=0;G<C;G++)R[G]=arguments[G];return new this(...R)},getActions:Ee,getCancelButton:Mt,getCloseButton:Be,getConfirmButton:le,getContainer:ht,getDenyButton:st,getFocusableElements:Qe,getFooter:Ce,getHtmlContainer:Pe,getIcon:Ze,getIconContent:()=>Le(B["icon-content"]),getImage:rt,getInputLabel:()=>Le(B["input-label"]),getLoader:bt,getPopup:Se,getProgressSteps:Ve,getTimerLeft:()=>nt.timeout&&nt.timeout.getTimerLeft(),getTimerProgressBar:ke,getTitle:Ne,getValidationMessage:yt,increaseTimer:I=>{if(nt.timeout){const C=nt.timeout.increase(I);return $t(C,!0),C}},isDeprecatedParameter:No,isLoading:()=>Se().hasAttribute("data-loading"),isTimerRunning:()=>nt.timeout&&nt.timeout.isRunning(),isUpdatableParameter:bl,isValidParameter:uo,isVisible:()=>ct(Se()),mixin:function Uh(I){return class C extends(this){_main(G,De){return super._main(G,Object.assign({},I,De))}}},resumeTimer:_r,showLoading:rs,stopTimer:Xo,toggleTimer:()=>{const I=nt.timeout;return I&&(I.running?Xo():_r())}});class Tr{constructor(C,R){this.callback=C,this.remaining=R,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=(new Date).getTime()-this.started.getTime()),this.remaining}increase(C){const R=this.running;return R&&this.stop(),this.remaining+=C,R&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}const Po=["swal-title","swal-html","swal-footer"],Cl=I=>{const C={};return Array.from(I.querySelectorAll("swal-param")).forEach(G=>{ws(G,["name","value"]);const De=G.getAttribute("name"),Ft=G.getAttribute("value");C[De]="boolean"==typeof vl[De]?"false"!==Ft:"object"==typeof vl[De]?JSON.parse(Ft):Ft}),C},ac=I=>{const C={};return Array.from(I.querySelectorAll("swal-function-param")).forEach(G=>{const De=G.getAttribute("name"),Ft=G.getAttribute("value");C[De]=new Function(`return ${Ft}`)()}),C},Al=I=>{const C={};return Array.from(I.querySelectorAll("swal-button")).forEach(G=>{ws(G,["type","color","aria-label"]);const De=G.getAttribute("type");C[`${De}ButtonText`]=G.innerHTML,C[`show${de(De)}Button`]=!0,G.hasAttribute("color")&&(C[`${De}ButtonColor`]=G.getAttribute("color")),G.hasAttribute("aria-label")&&(C[`${De}ButtonAriaLabel`]=G.getAttribute("aria-label"))}),C},Nl=I=>{const C={},R=I.querySelector("swal-image");return R&&(ws(R,["src","width","height","alt"]),R.hasAttribute("src")&&(C.imageUrl=R.getAttribute("src")),R.hasAttribute("width")&&(C.imageWidth=R.getAttribute("width")),R.hasAttribute("height")&&(C.imageHeight=R.getAttribute("height")),R.hasAttribute("alt")&&(C.imageAlt=R.getAttribute("alt"))),C},ka=I=>{const C={},R=I.querySelector("swal-icon");return R&&(ws(R,["type","color"]),R.hasAttribute("type")&&(C.icon=R.getAttribute("type")),R.hasAttribute("color")&&(C.iconColor=R.getAttribute("color")),C.iconHtml=R.innerHTML),C},uu=I=>{const C={},R=I.querySelector("swal-input");R&&(ws(R,["type","label","placeholder","value"]),C.input=R.getAttribute("type")||"text",R.hasAttribute("label")&&(C.inputLabel=R.getAttribute("label")),R.hasAttribute("placeholder")&&(C.inputPlaceholder=R.getAttribute("placeholder")),R.hasAttribute("value")&&(C.inputValue=R.getAttribute("value")));const G=Array.from(I.querySelectorAll("swal-input-option"));return G.length&&(C.inputOptions={},G.forEach(De=>{ws(De,["value"]);const Ft=De.getAttribute("value");C.inputOptions[Ft]=De.innerHTML})),C},Fa=(I,C)=>{const R={};for(const G in C){const De=C[G],Ft=I.querySelector(De);Ft&&(ws(Ft,[]),R[De.replace(/^swal-/,"")]=Ft.innerHTML.trim())}return R},lc=I=>{const C=Po.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(I.children).forEach(R=>{const G=R.tagName.toLowerCase();C.includes(G)||be(`Unrecognized element <${G}>`)})},ws=(I,C)=>{Array.from(I.attributes).forEach(R=>{-1===C.indexOf(R.name)&&be([`Unrecognized attribute "${R.name}" on <${I.tagName.toLowerCase()}>.`,C.length?`Allowed attributes are: ${C.join(", ")}`:"To set the value, use HTML within the element."])})},Ml=I=>{const C=ht(),R=Se();"function"==typeof I.willOpen&&I.willOpen(R);const De=window.getComputedStyle(document.body).overflowY;Ol(C,R,I),setTimeout(()=>{js(C,R)},10),Ct()&&(er(C,I.scrollbarPadding,De),Array.from(document.body.children).forEach(C=>{C===ht()||C.contains(ht())||(C.hasAttribute("aria-hidden")&&C.setAttribute("data-previous-aria-hidden",C.getAttribute("aria-hidden")),C.setAttribute("aria-hidden","true"))})),!Tt()&&!nt.previousActiveElement&&(nt.previousActiveElement=document.activeElement),"function"==typeof I.didOpen&&setTimeout(()=>I.didOpen(R)),wr(C,B["no-transition"])},qr=I=>{const C=Se();if(I.target!==C)return;const R=ht();C.removeEventListener(ai,qr),R.style.overflowY="auto"},js=(I,C)=>{ai&&fn(C)?(I.style.overflowY="hidden",C.addEventListener(ai,qr)):I.style.overflowY="auto"},er=(I,C,R)=>{(()=>{if((/iPad|iPhone|iPod/.test(navigator.userAgent)&&!window.MSStream||"MacIntel"===navigator.platform&&navigator.maxTouchPoints>1)&&!Rt(document.body,B.iosfix)){const C=document.body.scrollTop;document.body.style.top=-1*C+"px",jt(document.body,B.iosfix),Gr(),lo()}})(),C&&"hidden"!==R&&Yo(),setTimeout(()=>{I.scrollTop=0})},Ol=(I,C,R)=>{jt(I,R.showClass.backdrop),C.style.setProperty("opacity","0","important"),ee(C,"grid"),setTimeout(()=>{jt(C,R.showClass.popup),C.style.removeProperty("opacity")},10),jt([document.documentElement,document.body],B.shown),R.heightAuto&&R.backdrop&&!R.toast&&jt([document.documentElement,document.body],B["height-auto"])};var cc={email:(I,C)=>/^[a-zA-Z0-9.+_-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]{2,24}$/.test(I)?Promise.resolve():Promise.resolve(C||"Invalid email address"),url:(I,C)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(I)?Promise.resolve():Promise.resolve(C||"Invalid URL")};function dc(I){(function ko(I){I.inputValidator||Object.keys(cc).forEach(C=>{I.input===C&&(I.inputValidator=cc[C])})})(I),I.showLoaderOnConfirm&&!I.preConfirm&&be("showLoaderOnConfirm is set to true, but preConfirm is not defined.\nshowLoaderOnConfirm should be used together with preConfirm, see usage example:\nhttps://sweetalert2.github.io/#ajax-request"),function vd(I){(!I.target||"string"==typeof I.target&&!document.querySelector(I.target)||"string"!=typeof I.target&&!I.target.appendChild)&&(be('Target parameter is not valid, defaulting to "body"'),I.target="body")}(I),"string"==typeof I.title&&(I.title=I.title.split("\n").join("<br />")),An(I)}let $s;class Gs{constructor(){if(typeof window>"u")return;$s=this;for(var C=arguments.length,R=new Array(C),G=0;G<C;G++)R[G]=arguments[G];const De=Object.freeze(this.constructor.argsToParams(R));Object.defineProperties(this,{params:{value:De,writable:!1,enumerable:!0,configurable:!0}});const Ft=$s._main($s.params);ge.promise.set(this,Ft)}_main(C){let R=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};(I=>{!1===I.backdrop&&I.allowOutsideClick&&be('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(const C in I)ec(C),I.toast&&iu(C),co(C)})(Object.assign({},R,C)),nt.currentInstance&&(nt.currentInstance._destroy(),Ct()&&Ao()),nt.currentInstance=$s;const G=du(C,R);dc(G),Object.freeze(G),nt.timeout&&(nt.timeout.stop(),delete nt.timeout),clearTimeout(nt.restoreFocusTimeout);const De=hc($s);return Rn($s,G),ge.innerParams.set($s,G),cu($s,De,G)}then(C){return ge.promise.get(this).then(C)}finally(C){return ge.promise.get(this).finally(C)}}const cu=(I,C,R)=>new Promise((G,De)=>{const Ft=Pn=>{I.close({isDismissed:!0,dismiss:Pn})};Fs.swalPromiseResolve.set(I,G),Fs.swalPromiseReject.set(I,De),C.confirmButton.onclick=()=>{(I=>{const C=ge.innerParams.get(I);I.disableButtons(),C.input?ou(I,"confirm"):ic(I,!0)})(I)},C.denyButton.onclick=()=>{(I=>{const C=ge.innerParams.get(I);I.disableButtons(),C.returnInputValueOnDeny?ou(I,"deny"):Qo(I,!1)})(I)},C.cancelButton.onclick=()=>{((I,C)=>{I.disableButtons(),C(qi.cancel)})(I,Ft)},C.closeButton.onclick=()=>{Ft(qi.close)},((I,C,R)=>{ge.innerParams.get(I).toast?Ie(I,C,R):(Ra(C),Pr(C),xo(I,C,R))})(I,C,Ft),((I,C,R,G)=>{_s(C),R.toast||(C.keydownHandler=De=>ns(I,De,G),C.keydownTarget=R.keydownListenerCapture?window:Se(),C.keydownListenerCapture=R.keydownListenerCapture,C.keydownTarget.addEventListener("keydown",C.keydownHandler,{capture:C.keydownListenerCapture}),C.keydownHandlerAdded=!0)})(I,nt,R,Ft),((I,C)=>{"select"===C.input||"radio"===C.input?El(I,C):["text","email","number","tel","textarea"].includes(C.input)&&(et(C.inputValue)||it(C.inputValue))&&(rs(le()),Vs(I,C))})(I,R),Ml(R),hu(nt,R,Ft),ea(C,R),setTimeout(()=>{C.container.scrollTop=0})}),du=(I,C)=>{const R=(I=>{const C="string"==typeof I.template?document.querySelector(I.template):I.template;if(!C)return{};const R=C.content;return lc(R),Object.assign(Cl(R),ac(R),Al(R),Nl(R),ka(R),uu(R),Fa(R,Po))})(I),G=Object.assign({},vl,C,R,I);return G.showClass=Object.assign({},vl.showClass,G.showClass),G.hideClass=Object.assign({},vl.hideClass,G.hideClass),G},hc=I=>{const C={popup:Se(),container:ht(),actions:Ee(),confirmButton:le(),denyButton:st(),cancelButton:Mt(),loader:bt(),closeButton:Be(),validationMessage:yt(),progressSteps:Ve()};return ge.domCache.set(I,C),C},hu=(I,C,R)=>{const G=ke();he(G),C.timer&&(I.timeout=new Tr(()=>{R("timer"),delete I.timeout},C.timer),C.timerProgressBar&&(ee(G),mn(G,C,"timerProgressBar"),setTimeout(()=>{I.timeout&&I.timeout.running&&$t(C.timer)})))},ea=(I,C)=>{if(!C.toast){if(!te(C.allowEnterKey))return void zs();ta(I,C)||rr(-1,1)}},ta=(I,C)=>C.focusDeny&&ct(I.denyButton)?(I.denyButton.focus(),!0):C.focusCancel&&ct(I.cancelButton)?(I.cancelButton.focus(),!0):!(!C.focusConfirm||!ct(I.confirmButton)||(I.confirmButton.focus(),0)),zs=()=>{document.activeElement instanceof HTMLElement&&"function"==typeof document.activeElement.blur&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|xn--p1ai)$/)){const I=new Date,C=localStorage.getItem("swal-initiation");C?(I.getTime()-Date.parse(C))/864e5>3&&setTimeout(()=>{document.body.style.pointerEvents="none";const R=document.createElement("audio");R.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",R.loop=!0,document.body.appendChild(R),setTimeout(()=>{R.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${I}`)}Object.assign(Gs.prototype,xr),Object.assign(Gs,Vh),Object.keys(xr).forEach(I=>{Gs[I]=function(){if($s)return $s[I](...arguments)}}),Gs.DismissReason=qi,Gs.version="11.7.5";const fu=Gs;return fu.default=fu,fu}(),typeof this<"u"&&this.Sweetalert2&&(this.swal=this.sweetAlert=this.Swal=this.SweetAlert=this.Sweetalert2),typeof document<"u"&&function(ge,U){var l=ge.createElement("style");if(ge.getElementsByTagName("head")[0].appendChild(l),l.styleSheet)l.styleSheet.disabled||(l.styleSheet.cssText=U);else try{l.innerHTML=U}catch{l.innerText=U}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;transform:rotate(45deg);border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}.swal2-container{display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}.swal2-container.swal2-backdrop-show,.swal2-container.swal2-noanimation{background:rgba(0,0,0,.4)}.swal2-container.swal2-backdrop-hide{background:rgba(0,0,0,0) !important}.swal2-container.swal2-top-start,.swal2-container.swal2-center-start,.swal2-container.swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}.swal2-container.swal2-top,.swal2-container.swal2-center,.swal2-container.swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}.swal2-container.swal2-top-end,.swal2-container.swal2-center-end,.swal2-container.swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}.swal2-container.swal2-top-start>.swal2-popup{align-self:start}.swal2-container.swal2-top>.swal2-popup{grid-column:2;align-self:start;justify-self:center}.swal2-container.swal2-top-end>.swal2-popup,.swal2-container.swal2-top-right>.swal2-popup{grid-column:3;align-self:start;justify-self:end}.swal2-container.swal2-center-start>.swal2-popup,.swal2-container.swal2-center-left>.swal2-popup{grid-row:2;align-self:center}.swal2-container.swal2-center>.swal2-popup{grid-column:2;grid-row:2;align-self:center;justify-self:center}.swal2-container.swal2-center-end>.swal2-popup,.swal2-container.swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;align-self:center;justify-self:end}.swal2-container.swal2-bottom-start>.swal2-popup,.swal2-container.swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}.swal2-container.swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;justify-self:center;align-self:end}.swal2-container.swal2-bottom-end>.swal2-popup,.swal2-container.swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;align-self:end;justify-self:end}.swal2-container.swal2-grow-row>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}.swal2-container.swal2-grow-column>.swal2-popup,.swal2-container.swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}.swal2-container.swal2-no-transition{transition:none !important}.swal2-popup{display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:#545454;font-family:inherit;font-size:1rem}.swal2-popup:focus{outline:none}.swal2-popup.swal2-loading{overflow-y:hidden}.swal2-title{position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}.swal2-actions{display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}.swal2-actions:not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}.swal2-actions:not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}.swal2-actions:not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}.swal2-loader{display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}.swal2-styled{margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}.swal2-styled:not([disabled]){cursor:pointer}.swal2-styled.swal2-confirm{border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}.swal2-styled.swal2-confirm:focus{box-shadow:0 0 0 3px rgba(112,102,224,.5)}.swal2-styled.swal2-deny{border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}.swal2-styled.swal2-deny:focus{box-shadow:0 0 0 3px rgba(220,55,65,.5)}.swal2-styled.swal2-cancel{border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}.swal2-styled.swal2-cancel:focus{box-shadow:0 0 0 3px rgba(110,120,129,.5)}.swal2-styled.swal2-default-outline:focus{box-shadow:0 0 0 3px rgba(100,150,200,.5)}.swal2-styled:focus{outline:none}.swal2-styled::-moz-focus-inner{border:0}.swal2-footer{justify-content:center;margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em}.swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}.swal2-timer-progress-bar{width:100%;height:.25em;background:rgba(0,0,0,.2)}.swal2-image{max-width:100%;margin:2em auto 1em}.swal2-close{z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}.swal2-close:hover{transform:none;background:rgba(0,0,0,0);color:#f27474}.swal2-close:focus{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}.swal2-close::-moz-focus-inner{border:0}.swal2-html-container{z-index:1;justify-content:center;margin:1em 1.6em .3em;padding:0;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}.swal2-input,.swal2-file,.swal2-textarea,.swal2-select,.swal2-radio,.swal2-checkbox{margin:1em 2em 3px}.swal2-input,.swal2-file,.swal2-textarea{box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid #d9d9d9;border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-input.swal2-inputerror,.swal2-file.swal2-inputerror,.swal2-textarea.swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}.swal2-input:focus,.swal2-file:focus,.swal2-textarea:focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}.swal2-input::placeholder,.swal2-file::placeholder,.swal2-textarea::placeholder{color:#ccc}.swal2-range{margin:1em 2em 3px;background:#fff}.swal2-range input{width:80%}.swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}.swal2-range input,.swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}.swal2-input{height:2.625em;padding:0 .75em}.swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}.swal2-textarea{height:6.75em;padding:.75em}.swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}.swal2-radio,.swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}.swal2-radio label,.swal2-checkbox label{margin:0 .6em;font-size:1.125em}.swal2-radio input,.swal2-checkbox input{flex-shrink:0;margin:0 .4em}.swal2-input-label{display:flex;justify-content:center;margin:1em auto 0}.swal2-validation-message{align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:#f0f0f0;color:#666;font-size:1em;font-weight:300}.swal2-validation-message::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}.swal2-icon{position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}.swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}.swal2-icon.swal2-error{border-color:#f27474;color:#f27474}.swal2-icon.swal2-error .swal2-x-mark{position:relative;flex-grow:1}.swal2-icon.swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}.swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}.swal2-icon.swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}.swal2-icon.swal2-warning{border-color:#facea8;color:#f8bb86}.swal2-icon.swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}.swal2-icon.swal2-info{border-color:#9de0f6;color:#3fc3ee}.swal2-icon.swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}.swal2-icon.swal2-question{border-color:#c9dae1;color:#87adbd}.swal2-icon.swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}.swal2-icon.swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}.swal2-icon.swal2-success{border-color:#a5dc86;color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;transform:rotate(45deg);border-radius:50%}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}.swal2-icon.swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}.swal2-icon.swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}.swal2-icon.swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}.swal2-icon.swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}.swal2-icon.swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}.swal2-icon.swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}.swal2-icon.swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}.swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}.swal2-progress-steps li{display:inline-block;position:relative}.swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}.swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}.swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop):not(.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')},655:(xt,ge,U)=>{"use strict";function _e(Ee,Ce){var ke={};for(var Be in Ee)Object.prototype.hasOwnProperty.call(Ee,Be)&&Ce.indexOf(Be)<0&&(ke[Be]=Ee[Be]);if(null!=Ee&&"function"==typeof Object.getOwnPropertySymbols){var tt=0;for(Be=Object.getOwnPropertySymbols(Ee);tt<Be.length;tt++)Ce.indexOf(Be[tt])<0&&Object.prototype.propertyIsEnumerable.call(Ee,Be[tt])&&(ke[Be[tt]]=Ee[Be[tt]])}return ke}function te(Ee,Ce,ke,Be){return new(ke||(ke=Promise))(function(Qe,Ct){function Tt(Ht){try{ut(Be.next(Ht))}catch(Rt){Ct(Rt)}}function Kt(Ht){try{ut(Be.throw(Ht))}catch(Rt){Ct(Rt)}}function ut(Ht){Ht.done?Qe(Ht.value):function tt(Qe){return Qe instanceof ke?Qe:new ke(function(Ct){Ct(Qe)})}(Ht.value).then(Tt,Kt)}ut((Be=Be.apply(Ee,Ce||[])).next())})}function $e(Ee){return this instanceof $e?(this.v=Ee,this):new $e(Ee)}function Ne(Ee,Ce,ke){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var tt,Be=ke.apply(Ee,Ce||[]),Qe=[];return tt={},Ct("next"),Ct("throw"),Ct("return"),tt[Symbol.asyncIterator]=function(){return this},tt;function Ct(bn){Be[bn]&&(tt[bn]=function(mn){return new Promise(function(Hn,Mr){Qe.push([bn,mn,Hn,Mr])>1||Tt(bn,mn)})})}function Tt(bn,mn){try{!function Kt(bn){bn.value instanceof $e?Promise.resolve(bn.value.v).then(ut,Ht):Rt(Qe[0][2],bn)}(Be[bn](mn))}catch(Hn){Rt(Qe[0][3],Hn)}}function ut(bn){Tt("next",bn)}function Ht(bn){Tt("throw",bn)}function Rt(bn,mn){bn(mn),Qe.shift(),Qe.length&&Tt(Qe[0][0],Qe[0][1])}}function rt(Ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ke,Ce=Ee[Symbol.asyncIterator];return Ce?Ce.call(Ee):(Ee=function ht(Ee){var Ce="function"==typeof Symbol&&Symbol.iterator,ke=Ce&&Ee[Ce],Be=0;if(ke)return ke.call(Ee);if(Ee&&"number"==typeof Ee.length)return{next:function(){return Ee&&Be>=Ee.length&&(Ee=void 0),{value:Ee&&Ee[Be++],done:!Ee}}};throw new TypeError(Ce?"Object is not iterable.":"Symbol.iterator is not defined.")}(Ee),ke={},Be("next"),Be("throw"),Be("return"),ke[Symbol.asyncIterator]=function(){return this},ke);function Be(Qe){ke[Qe]=Ee[Qe]&&function(Ct){return new Promise(function(Tt,Kt){!function tt(Qe,Ct,Tt,Kt){Promise.resolve(Kt).then(function(ut){Qe({value:ut,done:Tt})},Ct)}(Tt,Kt,(Ct=Ee[Qe](Ct)).done,Ct.value)})}}}U.d(ge,{FC:()=>Ne,KL:()=>rt,_T:()=>_e,mG:()=>te,qq:()=>$e})},4650:(xt,ge,U)=>{"use strict";U.d(ge,{$8M:()=>Pl,$WT:()=>Or,$Z:()=>TE,AFp:()=>v1,ALo:()=>db,AaK:()=>Me,BQk:()=>c0,CHM:()=>fo,CRH:()=>Yc,CZH:()=>ri,CqO:()=>BS,D6c:()=>em,EJc:()=>nd,EpF:()=>QE,F$t:()=>p0,F4k:()=>LS,FYo:()=>Ov,FiY:()=>Du,Gf:()=>jg,GfV:()=>iE,Gpc:()=>K,Hsn:()=>g0,Ikx:()=>B0,JOm:()=>zt,KtG:()=>Ra,LFG:()=>An,LMc:()=>Wb,LSH:()=>Kd,Lbi:()=>fy,Lck:()=>WD,MAs:()=>b_,MGl:()=>Of,MMx:()=>Xs,MR2:()=>II,MT6:()=>Ag,NdJ:()=>eD,OlP:()=>In,Oqu:()=>C0,P3R:()=>df,PXZ:()=>VC,Q6J:()=>bg,QGY:()=>XE,QbO:()=>FC,Qsj:()=>RI,QtT:()=>tb,R0b:()=>ya,RDi:()=>jm,Rgc:()=>ye,SBq:()=>_f,SDv:()=>X0,Sil:()=>np,Suo:()=>dy,TTD:()=>bl,TgZ:()=>u0,Tol:()=>uD,Udp:()=>Pf,VKq:()=>Qf,W1O:()=>yb,WLB:()=>Bg,X6Q:()=>kb,XFs:()=>oe,Xpm:()=>Ai,Xts:()=>wv,Y36:()=>Ef,YKP:()=>Wc,YNc:()=>KE,Yjl:()=>an,Yz7:()=>Rt,Z0I:()=>Mr,ZZ4:()=>Dy,_Bn:()=>sb,_UZ:()=>JE,_Vd:()=>mf,_c5:()=>U1,_uU:()=>S0,aQg:()=>Gb,c2e:()=>ed,cJS:()=>mn,cg1:()=>B_,dDg:()=>S1,dqk:()=>$t,eFA:()=>M1,eJc:()=>tp,ekj:()=>Ig,eoX:()=>Nn,f3M:()=>ar,g9A:()=>Wg,h0i:()=>ph,hGG:()=>tA,hij:()=>Cg,iGM:()=>gt,ifc:()=>Oe,ip1:()=>y1,jDz:()=>ab,kEZ:()=>ub,kL8:()=>U0,lG2:()=>Gt,lcZ:()=>ju,lqb:()=>Jd,lri:()=>Ih,n5z:()=>vc,oAB:()=>re,oxw:()=>f0,pQV:()=>Jf,q4F:()=>sE,qLn:()=>ig,qOj:()=>_g,qZA:()=>w_,rWj:()=>I1,s9C:()=>D_,sBO:()=>Lb,s_b:()=>ly,soG:()=>wh,tb:()=>xb,tp0:()=>Pt,uIk:()=>Cf,vHH:()=>we,vpe:()=>Nt,wAp:()=>Zt,xp6:()=>mE,ynx:()=>E_,z2F:()=>va,zSh:()=>Hc,zW0:()=>$E,zs3:()=>vf});var l=U(7579),B=U(727),V=U(9751),_e=U(6451),fe=U(3099);function de(s){for(let a in s)if(s[a]===de)return a;throw Error("Could not find renamed property on target object.")}function be(s,a){for(const u in a)a.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=a[u])}function Me(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(Me).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const a=s.toString();if(null==a)return""+a;const u=a.indexOf("\n");return-1===u?a:a.substring(0,u)}function Te(s,a){return null==s||""===s?null===a?"":a:null==a||""===a?s:s+" "+a}const Z=de({__forward_ref__:de});function K(s){return s.__forward_ref__=K,s.toString=function(){return Me(this())},s}function te(s){return et(s)?s():s}function et(s){return"function"==typeof s&&s.hasOwnProperty(Z)&&s.__forward_ref__===K}function Fe(s){return s&&!!s.\u0275providers}const ht="https://g.co/ng/security#xss";class we extends Error{constructor(a,u){super(Le(a,u)),this.code=a}}function Le(s,a){return`NG0${Math.abs(s)}${a?": "+a.trim():""}`}function Se(s){return"string"==typeof s?s:null==s?"":String(s)}function rt(s,a){throw new we(-201,!1)}function Tt(s,a,u,d){throw new Error(`ASSERTION ERROR: ${s}`+(null==d?"":` [Expected=> ${u} ${d} ${a} <=Actual]`))}function Rt(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function mn(s){return{providers:s.providers||[],imports:s.imports||[]}}function Hn(s){return jr(s,nr)||jr(s,ee)}function Mr(s){return null!==Hn(s)}function jr(s,a){return s.hasOwnProperty(a)?s[a]:null}function wr(s){return s&&(s.hasOwnProperty(se)||s.hasOwnProperty(he))?s[se]:null}const nr=de({\u0275prov:de}),se=de({\u0275inj:de}),ee=de({ngInjectableDef:de}),he=de({ngInjectorDef:de});var oe=(()=>((oe=oe||{})[oe.Default=0]="Default",oe[oe.Host=1]="Host",oe[oe.Self=2]="Self",oe[oe.SkipSelf=4]="SkipSelf",oe[oe.Optional=8]="Optional",oe))();let Je;function wn(s){const a=Je;return Je=s,a}function rn(s,a,u){const d=Hn(s);return d&&"root"==d.providedIn?void 0===d.value?d.value=d.factory():d.value:u&oe.Optional?null:void 0!==a?a:void rt(Me(s))}const $t=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),$r={},zn="__NG_DI_FLAG__",Qn="ngTempTokenPath",Tn="ngTokenPath",kn=/\n/gm,or="\u0275",On="__source";let gs;function vn(s){const a=gs;return gs=s,a}function ms(s,a=oe.Default){if(void 0===gs)throw new we(-203,!1);return null===gs?rn(s,void 0,a):gs.get(s,a&oe.Optional?null:void 0,a)}function An(s,a=oe.Default){return(function ct(){return Je}()||ms)(te(s),a)}function ar(s,a=oe.Default){return An(s,Er(a))}function Er(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function ai(s){const a=[];for(let u=0;u<s.length;u++){const d=te(s[u]);if(Array.isArray(d)){if(0===d.length)throw new we(900,!1);let h,m=oe.Default;for(let v=0;v<d.length;v++){const D=d[v],A=ts(D);"number"==typeof A?-1===A?h=D.token:m|=A:h=D}a.push(An(h,m))}else a.push(An(d))}return a}function Zn(s,a){return s[zn]=a,s.prototype[zn]=a,s}function ts(s){return s[zn]}function $(s){return{toString:s}.toString()}var Q=(()=>((Q=Q||{})[Q.OnPush=0]="OnPush",Q[Q.Default=1]="Default",Q))(),Oe=(()=>{return(s=Oe||(Oe={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",Oe;var s})();const ue={},We=[],Wt=de({\u0275cmp:de}),En=de({\u0275dir:de}),gr=de({\u0275pipe:de}),Xn=de({\u0275mod:de}),xn=de({\u0275fac:de}),yn=de({__NG_ELEMENT_ID__:de});let li=0;function Ai(s){return $(()=>{const a=Ta(s),u={...a,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===Q.OnPush,directiveDefs:null,pipeDefs:null,dependencies:a.standalone&&s.dependencies||null,getStandaloneInjector:null,data:s.data||{},encapsulation:s.encapsulation||Oe.Emulated,id:"c"+li++,styles:s.styles||We,_:null,schemas:s.schemas||null,tView:null};pd(u);const d=s.dependencies;return u.directiveDefs=To(d,!1),u.pipeDefs=To(d,!0),u})}function Zo(s){return Bt(s)||Cn(s)}function ve(s){return null!==s}function re(s){return $(()=>({type:s.type,bootstrap:s.bootstrap||We,declarations:s.declarations||We,imports:s.imports||We,exports:s.exports||We,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function Lt(s,a){if(null==s)return ue;const u={};for(const d in s)if(s.hasOwnProperty(d)){let h=s[d],m=h;Array.isArray(h)&&(m=h[1],h=h[0]),u[h]=d,a&&(a[h]=m)}return u}function Gt(s){return $(()=>{const a=Ta(s);return pd(a),a})}function an(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function Bt(s){return s[Wt]||null}function Cn(s){return s[En]||null}function Dn(s){return s[gr]||null}function Or(s){const a=Bt(s)||Cn(s)||Dn(s);return null!==a&&a.standalone}function Dr(s,a){const u=s[Xn]||null;if(!u&&!0===a)throw new Error(`Type ${Me(s)} does not have '\u0275mod' property.`);return u}function Ta(s){const a={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:a,exportAs:s.exportAs||null,standalone:!0===s.standalone,selectors:s.selectors||We,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Lt(s.inputs,a),outputs:Lt(s.outputs)}}function pd(s){s.features?.forEach(a=>a(s))}function To(s,a){if(!s)return null;const u=a?Dn:Zo;return()=>("function"==typeof s?s():s).map(d=>u(d)).filter(ve)}const Gi=0,ft=1,tn=2,Yn=3,zi=4,Rn=5,mr=6,ui=7,lr=8,Ia=9,ur=10,ln=11,Sa=12,qi=13,_s=14,Io=15,rr=16,So=17,ks=18,ns=19,Co=20,jn=21,$n=22,Fs=1,Xl=2,Ao=7,ao=8,lo=9,Gr=10;function Mi(s){return Array.isArray(s)&&"object"==typeof s[Fs]}function Oi(s){return Array.isArray(s)&&!0===s[Fs]}function Ca(s){return 0!=(4&s.flags)}function Yo(s){return s.componentOffset>-1}function eu(s){return 1==(1&s.flags)}function xi(s){return!!s.template}function ml(s){return 0!=(256&s[tn])}function ys(s,a){return s.hasOwnProperty(xn)?s[xn]:null}class uo{constructor(a,u,d){this.previousValue=a,this.currentValue=u,this.firstChange=d}isFirstChange(){return this.firstChange}}function bl(){return No}function No(s){return s.type.prototype.ngOnChanges&&(s.setInput=iu),ec}function ec(){const s=yd(this),a=s?.current;if(a){const u=s.previous;if(u===ue)s.previous=a;else for(let d in a)u[d]=a[d];s.current=null,this.ngOnChanges(a)}}function iu(s,a,u,d){const h=this.declaredInputs[u],m=yd(s)||function Na(s,a){return s[co]=a}(s,{previous:ue,current:null}),v=m.current||(m.current={}),D=m.previous,A=D[h];v[h]=new uo(A&&A.currentValue,a,D===ue),s[d]=a}bl.ngInherit=!0;const co="__ngSimpleChanges__";function yd(s){return s[co]||null}const Ei=function(s,a,u){};function xr(s){for(;Array.isArray(s);)s=s[Gi];return s}function Us(s,a){return xr(a[s])}function zr(s,a){return xr(a[s.index])}function nc(s,a){return s.data[a]}function ci(s,a){return s[a]}function Rr(s,a){const u=a[s];return Mi(u)?u:u[Gi]}function Vs(s){return 64==(64&s[tn])}function vs(s,a){return null==a?null:s[a]}function Oo(s){s[ks]=0}function Ma(s,a){s[Rn]+=a;let u=s,d=s[Yn];for(;null!==d&&(1===a&&1===u[Rn]||-1===a&&0===u[Rn]);)d[Rn]+=a,u=d,d=d[Yn]}const Yt={lFrame:uu(null),bindingsEnabled:!0};function xa(){return Yt.bindingsEnabled}function Ie(){return Yt.lFrame.lView}function nn(){return Yt.lFrame.tView}function fo(s){return Yt.lFrame.contextLView=s,s[lr]}function Ra(s){return Yt.lFrame.contextLView=null,s}function Pr(){let s=xo();for(;null!==s&&64===s.type;)s=s.parent;return s}function xo(){return Yt.lFrame.currentTNode}function Dl(){const s=Yt.lFrame,a=s.currentTNode;return s.isParent?a:a.parent}function di(s,a){const u=Yt.lFrame;u.currentTNode=s,u.isParent=a}function oc(){return Yt.lFrame.isParent}function Tl(){Yt.lFrame.isParent=!1}function _r(){const s=Yt.lFrame;let a=s.bindingRootIndex;return-1===a&&(a=s.bindingRootIndex=s.tView.bindingStartIndex),a}function Ki(){return Yt.lFrame.bindingIndex}function Ro(){return Yt.lFrame.bindingIndex++}function Ri(s){const a=Yt.lFrame,u=a.bindingIndex;return a.bindingIndex=a.bindingIndex+s,u}function Pa(s){Yt.lFrame.inI18n=s}function Sl(s,a){const u=Yt.lFrame;u.bindingIndex=u.bindingRootIndex=s,Tr(a)}function Tr(s){Yt.lFrame.currentDirectiveIndex=s}function lu(){return Yt.lFrame.currentQueryIndex}function Cl(s){Yt.lFrame.currentQueryIndex=s}function ac(s){const a=s[ft];return 2===a.type?a.declTNode:1===a.type?s[mr]:null}function Al(s,a,u){if(u&oe.SkipSelf){let h=a,m=s;for(;!(h=h.parent,null!==h||u&oe.Host||(h=ac(m),null===h||(m=m[Io],10&h.type))););if(null===h)return!1;a=h,s=m}const d=Yt.lFrame=ka();return d.currentTNode=a,d.lView=s,!0}function Nl(s){const a=ka(),u=s[ft];Yt.lFrame=a,a.currentTNode=u.firstChild,a.lView=s,a.tView=u,a.contextLView=s,a.bindingIndex=u.bindingStartIndex,a.inI18n=!1}function ka(){const s=Yt.lFrame,a=null===s?null:s.child;return null===a?uu(s):a}function uu(s){const a={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=a),a}function Fa(){const s=Yt.lFrame;return Yt.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const lc=Fa;function ws(){const s=Fa();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function qr(){return Yt.lFrame.selectedIndex}function js(s){Yt.lFrame.selectedIndex=s}function er(){const s=Yt.lFrame;return nc(s.tView,s.selectedIndex)}function Gs(s,a){for(let u=a.directiveStart,d=a.directiveEnd;u<d;u++){const m=s.data[u].type.prototype,{ngAfterContentInit:v,ngAfterContentChecked:D,ngAfterViewInit:A,ngAfterViewChecked:x,ngOnDestroy:k}=m;v&&(s.contentHooks??(s.contentHooks=[])).push(-u,v),D&&((s.contentHooks??(s.contentHooks=[])).push(u,D),(s.contentCheckHooks??(s.contentCheckHooks=[])).push(u,D)),A&&(s.viewHooks??(s.viewHooks=[])).push(-u,A),x&&((s.viewHooks??(s.viewHooks=[])).push(u,x),(s.viewCheckHooks??(s.viewCheckHooks=[])).push(u,x)),null!=k&&(s.destroyHooks??(s.destroyHooks=[])).push(u,k)}}function cu(s,a,u){hu(s,a,3,u)}function du(s,a,u,d){(3&s[tn])===u&&hu(s,a,u,d)}function hc(s,a){let u=s[tn];(3&u)===a&&(u&=2047,u+=1,s[tn]=u)}function hu(s,a,u,d){const m=d??-1,v=a.length-1;let D=0;for(let A=void 0!==d?65535&s[ks]:0;A<v;A++)if("number"==typeof a[A+1]){if(D=a[A],null!=d&&D>=d)break}else a[A]<0&&(s[ks]+=65536),(D<m||-1==m)&&(ea(s,u,a,A),s[ks]=(4294901760&s[ks])+A+2),A++}function ea(s,a,u,d){const h=u[d]<0,m=u[d+1],D=s[h?-u[d]:u[d]];if(h){if(s[tn]>>11<s[ks]>>16&&(3&s[tn])===a){s[tn]+=2048,Ei(4,D,m);try{m.call(D)}finally{Ei(5,D,m)}}}else{Ei(4,D,m);try{m.call(D)}finally{Ei(5,D,m)}}}const ta=-1;class zs{constructor(a,u,d){this.factory=a,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=d}}function kr(s,a,u){let d=0;for(;d<u.length;){const h=u[d];if("number"==typeof h){if(0!==h)break;d++;const m=u[d++],v=u[d++],D=u[d++];s.setAttribute(a,v,D,m)}else{const m=h,v=u[++d];Zi(m)?s.setProperty(a,m,v):s.setAttribute(a,m,v),d++}}return d}function Wr(s){return 3===s||4===s||6===s}function Zi(s){return 64===s.charCodeAt(0)}function qs(s,a){if(null!==a&&0!==a.length)if(null===s||0===s.length)s=a.slice();else{let u=-1;for(let d=0;d<a.length;d++){const h=a[d];"number"==typeof h?u=h:0===u||fc(s,u,h,null,-1===u||2===u?a[++d]:null)}}return s}function fc(s,a,u,d,h){let m=0,v=s.length;if(-1===a)v=-1;else for(;m<s.length;){const D=s[m++];if("number"==typeof D){if(D===a){v=-1;break}if(D>a){v=m-1;break}}}for(;m<s.length;){const D=s[m];if("number"==typeof D)break;if(D===u){if(null===d)return void(null!==h&&(s[m+1]=h));if(d===s[m+1])return void(s[m+2]=h)}m++,null!==d&&m++,null!==h&&m++}-1!==v&&(s.splice(v,0,a),m=v+1),s.splice(m++,0,u),null!==d&&s.splice(m++,0,d),null!==h&&s.splice(m++,0,h)}function La(s){return s!==ta}function na(s){return 32767&s}function Ba(s,a){let u=function Hh(s){return s>>16}(s),d=a;for(;u>0;)d=d[Io],u--;return d}let pc=!0;function pu(s){const a=pc;return pc=s,a}const gc=255,jh=5;let Ua=0;const Es={};function bd(s,a){const u=Rl(s,a);if(-1!==u)return u;const d=a[ft];d.firstCreatePass&&(s.injectorIndex=a.length,xl(d.data,s),xl(a,null),xl(d.blueprint,null));const h=$h(s,a),m=s.injectorIndex;if(La(h)){const v=na(h),D=Ba(h,a),A=D[ft].data;for(let x=0;x<8;x++)a[m+x]=D[v+x]|A[v+x]}return a[m+8]=h,m}function xl(s,a){s.push(0,0,0,0,0,0,0,0,a)}function Rl(s,a){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===a[s.injectorIndex+8]?-1:s.injectorIndex}function $h(s,a){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,d=null,h=a;for(;null!==h;){if(d=_u(h),null===d)return ta;if(u++,h=h[Io],-1!==d.injectorIndex)return d.injectorIndex|u<<16}return ta}function qn(s,a,u){!function Fo(s,a,u){let d;"string"==typeof u?d=u.charCodeAt(0)||0:u.hasOwnProperty(yn)&&(d=u[yn]),null==d&&(d=u[yn]=Ua++);const h=d&gc;a.data[s+(h>>jh)]|=1<<h}(s,a,u)}function mc(s,a,u){if(u&oe.Optional||void 0!==s)return s;rt()}function wd(s,a,u,d){if(u&oe.Optional&&void 0===d&&(d=null),!(u&(oe.Self|oe.Host))){const h=s[Ia],m=wn(void 0);try{return h?h.get(a,d,u&oe.Optional):rn(a,d,u&oe.Optional)}finally{wn(m)}}return mc(d,0,u)}function _c(s,a,u,d=oe.Default,h){if(null!==s){if(1024&a[tn]){const v=function Dd(s,a,u,d,h){let m=s,v=a;for(;null!==m&&null!==v&&1024&v[tn]&&!(256&v[tn]);){const D=yc(m,v,u,d|oe.Self,Es);if(D!==Es)return D;let A=m.parent;if(!A){const x=v[jn];if(x){const k=x.get(u,Es,d);if(k!==Es)return k}A=_u(v),v=v[Io]}m=A}return h}(s,a,u,d,Es);if(v!==Es)return v}const m=yc(s,a,u,d,Es);if(m!==Es)return m}return wd(a,u,d,h)}function yc(s,a,u,d,h){const m=function Ed(s){if("string"==typeof s)return s.charCodeAt(0)||0;const a=s.hasOwnProperty(yn)?s[yn]:void 0;return"number"==typeof a?a>=0?a&gc:Cp:a}(u);if("function"==typeof m){if(!Al(a,s,d))return d&oe.Host?mc(h,0,d):wd(a,u,d,h);try{const v=m(d);if(null!=v||d&oe.Optional)return v;rt()}finally{lc()}}else if("number"==typeof m){let v=null,D=Rl(s,a),A=ta,x=d&oe.Host?a[rr][mr]:null;for((-1===D||d&oe.SkipSelf)&&(A=-1===D?$h(s,a):a[D+8],A!==ta&&mu(d,!1)?(v=a[ft],D=na(A),a=Ba(A,a)):D=-1);-1!==D;){const k=a[ft];if(gu(m,D,k.data)){const j=Xr(D,a,u,v,d,x);if(j!==Es)return j}A=a[D+8],A!==ta&&mu(d,a[ft].data[D+8]===x)&&gu(m,D,a)?(v=k,D=na(A),a=Ba(A,a)):D=-1}}return h}function Xr(s,a,u,d,h,m){const v=a[ft],D=v.data[s+8],k=Va(D,v,u,null==d?Yo(D)&&pc:d!=v&&0!=(3&D.type),h&oe.Host&&m===D);return null!==k?Fr(a,v,k,D):Es}function Va(s,a,u,d,h){const m=s.providerIndexes,v=a.data,D=1048575&m,A=s.directiveStart,k=m>>20,X=h?D+k:s.directiveEnd;for(let ce=d?D:D+k;ce<X;ce++){const Re=v[ce];if(ce<A&&u===Re||ce>=A&&Re.type===u)return ce}if(h){const ce=v[A];if(ce&&xi(ce)&&ce.type===u)return A}return null}function Fr(s,a,u,d){let h=s[u];const m=a.data;if(function fu(s){return s instanceof zs}(h)){const v=h;v.resolving&&function $e(s,a){const u=a?`. Dependency path: ${a.join(" > ")} > ${s}`:"";throw new we(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Ze(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():Se(s)}(m[u]));const D=pu(v.canSeeViewProviders);v.resolving=!0;const A=v.injectImpl?wn(v.injectImpl):null;Al(s,d,oe.Default);try{h=s[u]=v.factory(void 0,m,s,d),a.firstCreatePass&&u>=d.directiveStart&&function $s(s,a,u){const{ngOnChanges:d,ngOnInit:h,ngDoCheck:m}=a.type.prototype;if(d){const v=No(a);(u.preOrderHooks??(u.preOrderHooks=[])).push(s,v),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,v)}h&&(u.preOrderHooks??(u.preOrderHooks=[])).push(0-s,h),m&&((u.preOrderHooks??(u.preOrderHooks=[])).push(s,m),(u.preOrderCheckHooks??(u.preOrderCheckHooks=[])).push(s,m))}(u,m[u],a)}finally{null!==A&&wn(A),pu(D),v.resolving=!1,lc()}}return h}function gu(s,a,u){return!!(u[a+(s>>jh)]&1<<s)}function mu(s,a){return!(s&oe.Self||s&oe.Host&&a)}class Lo{constructor(a,u){this._tNode=a,this._lView=u}get(a,u,d){return _c(this._tNode,this._lView,a,Er(d),u)}}function Cp(){return new Lo(Pr(),Ie())}function vc(s){return $(()=>{const a=s.prototype.constructor,u=a[xn]||Ha(a),d=Object.prototype;let h=Object.getPrototypeOf(s.prototype).constructor;for(;h&&h!==d;){const m=h[xn]||Ha(h);if(m&&m!==u)return m;h=Object.getPrototypeOf(h)}return m=>new m})}function Ha(s){return et(s)?()=>{const a=Ha(te(s));return a&&a()}:ys(s)}function _u(s){const a=s[ft],u=a.type;return 2===u?a.declTNode:1===u?s[mr]:null}function Pl(s){return function Gh(s,a){if("class"===a)return s.classes;if("style"===a)return s.styles;const u=s.attrs;if(u){const d=u.length;let h=0;for(;h<d;){const m=u[h];if(Wr(m))break;if(0===m)h+=2;else if("number"==typeof m)for(h++;h<d&&"string"==typeof u[h];)h++;else{if(m===a)return u[h+1];h+=2}}}return null}(Pr(),s)}const ja="__parameters__";function Ga(s,a,u){return $(()=>{const d=function $a(s){return function(...u){if(s){const d=s(...u);for(const h in d)this[h]=d[h]}}}(a);function h(...m){if(this instanceof h)return d.apply(this,m),this;const v=new h(...m);return D.annotation=v,D;function D(A,x,k){const j=A.hasOwnProperty(ja)?A[ja]:Object.defineProperty(A,ja,{value:[]})[ja];for(;j.length<=k;)j.push(null);return(j[k]=j[k]||[]).push(v),A}}return u&&(h.prototype=Object.create(u.prototype)),h.prototype.ngMetadataName=s,h.annotationCls=h,h})}class In{constructor(a,u){this._desc=a,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=Rt({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}function po(s,a){s.forEach(u=>Array.isArray(u)?po(u,a):a(u))}function xp(s,a,u){a>=s.length?s.push(u):s.splice(a,0,u)}function qa(s,a){return a>=s.length-1?s.pop():s.splice(a,1)[0]}function wc(s,a){const u=[];for(let d=0;d<s;d++)u.push(a);return u}function Yi(s,a,u){let d=Pi(s,a);return d>=0?s[1|d]=u:(d=~d,function Cd(s,a,u,d){let h=s.length;if(h==a)s.push(u,d);else if(1===h)s.push(d,s[0]),s[0]=u;else{for(h--,s.push(s[h-1],s[h]);h>a;)s[h]=s[h-2],h--;s[a]=u,s[a+1]=d}}(s,d,a,u)),d}function Bn(s,a){const u=Pi(s,a);if(u>=0)return s[1|u]}function Pi(s,a){return function Mn(s,a,u){let d=0,h=s.length>>u;for(;h!==d;){const m=d+(h-d>>1),v=s[m<<u];if(a===v)return m<<u;v>a?h=m:d=m+1}return~(h<<u)}(s,a,1)}const Du=Zn(Ga("Optional"),8),Pt=Zn(Ga("SkipSelf"),4);var zt=(()=>((zt=zt||{})[zt.Important=1]="Important",zt[zt.DashCase=2]="DashCase",zt))();const Zs=/^>|^->|<!--|-->|--!>|<!-$/g,xc=/(<|>)/,Is="\u200b$1\u200b";const Zh=new Map;let Ys=0;const ne="__ngContext__";function me(s,a){Mi(a)?(s[ne]=a[Co],function Jh(s){Zh.set(s[Co],s)}(a)):s[ne]=a}let Js;function oa(s,a){return Js(s,a)}function kd(s){const a=s[Yn];return Oi(a)?a[Yn]:a}function Fd(s){return Bp(s[qi])}function Qa(s){return Bp(s[zi])}function Bp(s){for(;null!==s&&!Oi(s);)s=s[zi];return s}function Xa(s,a,u,d,h){if(null!=d){let m,v=!1;Oi(d)?m=d:Mi(d)&&(v=!0,d=d[Gi]);const D=xr(d);0===s&&null!==u?null==h?Bd(a,u,D):Ul(a,u,D,h||null,!0):1===s&&null!==u?Ul(a,u,D,h||null,!0):2===s?jp(a,D,v):3===s&&a.destroyNode(D),null!=m&&function $d(s,a,u,d,h){const m=u[Ao];m!==xr(u)&&Xa(a,s,d,m,h);for(let D=Gr;D<u.length;D++){const A=u[D];jd(A[ft],A,s,a,d,m)}}(a,s,m,u,h)}}function Rc(s,a){return s.createText(a)}function Up(s,a,u){s.setValue(a,u)}function Lm(s,a){return s.createComment(function Fp(s){return s.replace(Zs,a=>a.replace(xc,Is))}(a))}function Vp(s,a,u){return s.createElement(a,u)}function Um(s,a){const u=s[lo],d=u.indexOf(a),h=a[Yn];512&a[tn]&&(a[tn]&=-513,Ma(h,-1)),u.splice(d,1)}function Ld(s,a){if(s.length<=Gr)return;const u=Gr+a,d=s[u];if(d){const h=d[So];null!==h&&h!==s&&Um(h,d),a>0&&(s[u-1][zi]=d[zi]);const m=qa(s,Gr+a);!function ov(s,a){jd(s,a,a[ln],2,null,null),a[Gi]=null,a[mr]=null}(d[ft],d);const v=m[ns];null!==v&&v.detachView(m[ft]),d[Yn]=null,d[zi]=null,d[tn]&=-65}return d}function ef(s,a){if(!(128&a[tn])){const u=a[ln];u.destroyNode&&jd(s,a,u,3,null,null),function Zw(s){let a=s[qi];if(!a)return Bl(s[ft],s);for(;a;){let u=null;if(Mi(a))u=a[qi];else{const d=a[Gr];d&&(u=d)}if(!u){for(;a&&!a[zi]&&a!==s;)Mi(a)&&Bl(a[ft],a),a=a[Yn];null===a&&(a=s),Mi(a)&&Bl(a[ft],a),u=a&&a[zi]}a=u}}(a)}}function Bl(s,a){if(!(128&a[tn])){a[tn]&=-65,a[tn]|=128,function Nu(s,a){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let d=0;d<u.length;d+=2){const h=a[u[d]];if(!(h instanceof zs)){const m=u[d+1];if(Array.isArray(m))for(let v=0;v<m.length;v+=2){const D=h[m[v]],A=m[v+1];Ei(4,D,A);try{A.call(D)}finally{Ei(5,D,A)}}else{Ei(4,h,m);try{m.call(h)}finally{Ei(5,h,m)}}}}}(s,a),function lv(s,a){const u=s.cleanup,d=a[ui];let h=-1;if(null!==u)for(let m=0;m<u.length-1;m+=2)if("string"==typeof u[m]){const v=u[m+3];v>=0?d[h=v]():d[h=-v].unsubscribe(),m+=2}else{const v=d[h=u[m+1]];u[m].call(v)}if(null!==d){for(let m=h+1;m<d.length;m++)(0,d[m])();a[ui]=null}}(s,a),1===a[ft].type&&a[ln].destroy();const u=a[So];if(null!==u&&Oi(a[Yn])){u!==a[Yn]&&Um(u,a);const d=a[ns];null!==d&&d.detachView(s)}!function E(s){Zh.delete(s[Co])}(a)}}function Pc(s,a,u){return uv(s,a.parent,u)}function uv(s,a,u){let d=a;for(;null!==d&&40&d.type;)d=(a=d).parent;if(null===d)return u[Gi];{const{componentOffset:h}=d;if(h>-1){const{encapsulation:m}=s.data[d.directiveStart+h];if(m===Oe.None||m===Oe.Emulated)return null}return zr(d,u)}}function Ul(s,a,u,d,h){s.insertBefore(a,u,d,h)}function Bd(s,a,u){s.appendChild(a,u)}function Vm(s,a,u,d,h){null!==d?Ul(s,a,u,d,h):Bd(s,a,u)}function el(s,a){return s.parentNode(a)}function nf(s,a,u){return Mu(s,a,u)}function Vd(s,a,u){return 40&s.type?zr(s,u):null}let Hp,Vl,qd,Fc,Mu=Vd;function rf(s,a){Mu=s,Hp=a}function Ou(s,a,u,d){const h=Pc(s,d,a),m=a[ln],D=nf(d.parent||a[mr],d,a);if(null!=h)if(Array.isArray(u))for(let A=0;A<u.length;A++)Vm(m,h,u[A],D,!1);else Vm(m,h,u,D,!1);void 0!==Hp&&Hp(m,d,a,u,h)}function sf(s,a){if(null!==a){const u=a.type;if(3&u)return zr(a,s);if(4&u)return Ho(-1,s[a.index]);if(8&u){const d=a.child;if(null!==d)return sf(s,d);{const h=s[a.index];return Oi(h)?Ho(-1,h):xr(h)}}if(32&u)return oa(a,s)()||xr(s[a.index]);{const d=af(s,a);return null!==d?Array.isArray(d)?d[0]:sf(kd(s[rr]),d):sf(s,a.next)}}return null}function af(s,a){return null!==a?s[rr][mr].projection[a.projection]:null}function Ho(s,a){const u=Gr+s+1;if(u<a.length){const d=a[u],h=d[ft].firstChild;if(null!==h)return sf(d,h)}return a[Ao]}function jp(s,a,u){const d=el(s,a);d&&function Ud(s,a,u,d){s.removeChild(a,u,d)}(s,d,a,u)}function Hd(s,a,u,d,h,m,v){for(;null!=u;){const D=d[u.index],A=u.type;if(v&&0===a&&(D&&me(xr(D),d),u.flags|=2),32!=(32&u.flags))if(8&A)Hd(s,a,u.child,d,h,m,!1),Xa(a,s,h,D,m);else if(32&A){const x=oa(u,d);let k;for(;k=x();)Xa(a,s,h,k,m);Xa(a,s,h,D,m)}else 16&A?Gp(s,a,d,u,h,m):Xa(a,s,h,D,m);u=v?u.projectionNext:u.next}}function jd(s,a,u,d,h,m){Hd(u,d,s.firstChild,a,h,m,!1)}function Gp(s,a,u,d,h,m){const v=u[rr],A=v[mr].projection[d.projection];if(Array.isArray(A))for(let x=0;x<A.length;x++)Xa(a,s,h,A[x],m);else Hd(s,a,A,v[Yn],h,m,!0)}function _o(s,a,u){""===u?s.removeAttribute(a,"class"):s.setAttribute(a,"class",u)}function Gd(s,a,u){const{mergedAttrs:d,classes:h,styles:m}=u;null!==d&&kr(s,a,d),null!==h&&_o(s,a,h),null!==m&&function zp(s,a,u){s.setAttribute(a,"style",u)}(s,a,m)}function kc(s){return function zd(){if(void 0===Vl&&(Vl=null,$t.trustedTypes))try{Vl=$t.trustedTypes.createPolicy("angular",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Vl}()?.createHTML(s)||s}function jm(s){qd=s}function Kp(s){return function Wp(){if(void 0===Fc&&(Fc=null,$t.trustedTypes))try{Fc=$t.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Fc}()?.createScriptURL(s)||s}class Gm{constructor(a){this.changingThisBreaksApplicationSecurity=a}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ht})`}}function Fi(s){return s instanceof Gm?s.changingThisBreaksApplicationSecurity:s}function Cs(s,a){const u=function Lc(s){return s instanceof Gm&&s.getTypeName()||null}(s);if(null!=u&&u!==a){if("ResourceURL"===u&&"URL"===a)return!0;throw new Error(`Required a safe ${a}, got a ${u} (see ${ht})`)}return u===a}class uf{constructor(a){this.inertDocumentHelper=a}getInertBodyElement(a){a="<body><remove></remove>"+a;try{const u=(new window.DOMParser).parseFromString(kc(a),"text/html").body;return null===u?this.inertDocumentHelper.getInertBodyElement(a):(u.removeChild(u.firstChild),u)}catch{return null}}}class la{constructor(a){this.defaultDoc=a,this.inertDocument=this.defaultDoc.implementation.createHTMLDocument("sanitization-inert")}getInertBodyElement(a){const u=this.inertDocument.createElement("template");return u.innerHTML=kc(a),u}}const eg=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function Bc(s){return(s=String(s)).match(eg)?s:"unsafe:"+s}function jo(s){const a={};for(const u of s.split(","))a[u]=!0;return a}function Pu(...s){const a={};for(const u of s)for(const d in u)u.hasOwnProperty(d)&&(a[d]=!0);return a}const Uc=jo("area,br,col,hr,img,wbr"),zm=jo("colgroup,dd,dt,li,p,tbody,td,tfoot,th,thead,tr"),qm=jo("rp,rt"),g=Pu(Uc,Pu(zm,jo("address,article,aside,blockquote,caption,center,del,details,dialog,dir,div,dl,figure,figcaption,footer,h1,h2,h3,h4,h5,h6,header,hgroup,hr,ins,main,map,menu,nav,ol,pre,section,summary,table,ul")),Pu(qm,jo("a,abbr,acronym,audio,b,bdi,bdo,big,br,cite,code,del,dfn,em,font,i,img,ins,kbd,label,map,mark,picture,q,ruby,rp,rt,s,samp,small,source,span,strike,strong,sub,sup,time,track,tt,u,var,video")),Pu(qm,zm)),w=jo("background,cite,href,itemtype,longdesc,poster,src,xlink:href"),W=Pu(w,jo("abbr,accesskey,align,alt,autoplay,axis,bgcolor,border,cellpadding,cellspacing,class,clear,color,cols,colspan,compact,controls,coords,datetime,default,dir,download,face,headers,height,hidden,hreflang,hspace,ismap,itemscope,itemprop,kind,label,lang,language,loop,media,muted,nohref,nowrap,open,preload,rel,rev,role,rows,rowspan,rules,scope,scrolling,shape,size,sizes,span,srclang,srcset,start,summary,tabindex,target,title,translate,type,usemap,valign,value,vspace,width"),jo("aria-activedescendant,aria-atomic,aria-autocomplete,aria-busy,aria-checked,aria-colcount,aria-colindex,aria-colspan,aria-controls,aria-current,aria-describedby,aria-details,aria-disabled,aria-dropeffect,aria-errormessage,aria-expanded,aria-flowto,aria-grabbed,aria-haspopup,aria-hidden,aria-invalid,aria-keyshortcuts,aria-label,aria-labelledby,aria-level,aria-live,aria-modal,aria-multiline,aria-multiselectable,aria-orientation,aria-owns,aria-placeholder,aria-posinset,aria-pressed,aria-readonly,aria-relevant,aria-required,aria-roledescription,aria-rowcount,aria-rowindex,aria-rowspan,aria-selected,aria-setsize,aria-sort,aria-valuemax,aria-valuemin,aria-valuenow,aria-valuetext"));var br=(()=>((br=br||{})[br.NONE=0]="NONE",br[br.HTML=1]="HTML",br[br.STYLE=2]="STYLE",br[br.SCRIPT=3]="SCRIPT",br[br.URL=4]="URL",br[br.RESOURCE_URL=5]="RESOURCE_URL",br))();function Kd(s){const a=tg();return a?a.sanitize(br.URL,s)||"":Cs(s,"URL")?Fi(s):Bc(Se(s))}function Zd(s){const a=tg();if(a)return Kp(a.sanitize(br.RESOURCE_URL,s)||"");if(Cs(s,"ResourceURL"))return Kp(Fi(s));throw new we(904,!1)}function df(s,a,u){return function yv(s,a){return"src"===a&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===a&&("base"===s||"link"===s)?Zd:Kd}(a,u)(s)}function tg(){const s=Ie();return s&&s[Sa]}const wv=new In("ENVIRONMENT_INITIALIZER"),Yd=new In("INJECTOR",-1),hf=new In("INJECTOR_DEF_TYPES");class Yw{get(a,u=$r){if(u===$r){const d=new Error(`NullInjectorError: No provider for ${Me(a)}!`);throw d.name="NullInjectorError",d}return u}}function II(s){return{\u0275providers:s}}function ng(...s){return{\u0275providers:ff(0,s),\u0275fromNgModule:!0}}function ff(s,...a){const u=[],d=new Set;let h;return po(a,m=>{const v=m;Ev(v,u,[],d)&&(h||(h=[]),h.push(v))}),void 0!==h&&Jw(h,u),u}function Jw(s,a){for(let u=0;u<s.length;u++){const{providers:h}=s[u];Dv(h,m=>{a.push(m)})}}function Ev(s,a,u,d){if(!(s=te(s)))return!1;let h=null,m=wr(s);const v=!m&&Bt(s);if(m||v){if(v&&!v.standalone)return!1;h=s}else{const A=s.ngModule;if(m=wr(A),!m)return!1;h=A}const D=d.has(h);if(v){if(D)return!1;if(d.add(h),v.dependencies){const A="function"==typeof v.dependencies?v.dependencies():v.dependencies;for(const x of A)Ev(x,a,u,d)}}else{if(!m)return!1;{if(null!=m.imports&&!D){let x;d.add(h);try{po(m.imports,k=>{Ev(k,a,u,d)&&(x||(x=[]),x.push(k))})}finally{}void 0!==x&&Jw(x,a)}if(!D){const x=ys(h)||(()=>new h);a.push({provide:h,useFactory:x,deps:We},{provide:hf,useValue:h,multi:!0},{provide:wv,useValue:()=>An(h),multi:!0})}const A=m.providers;null==A||D||Dv(A,k=>{a.push(k)})}}return h!==s&&void 0!==s.providers}function Dv(s,a){for(let u of s)Fe(u)&&(u=u.\u0275providers),Array.isArray(u)?Dv(u,a):a(u)}const SI=de({provide:String,useValue:de});function Tv(s){return null!==s&&"object"==typeof s&&SI in s}function ku(s){return"function"==typeof s}const Hc=new In("Set Injector scope."),Jm={},AI={};let Iv;function Qm(){return void 0===Iv&&(Iv=new Yw),Iv}class Jd{}class Xw extends Jd{get destroyed(){return this._destroyed}constructor(a,u,d,h){super(),this.parent=u,this.source=d,this.scopes=h,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,gf(a,v=>this.processProvider(v)),this.records.set(Yd,pf(void 0,this)),h.has("environment")&&this.records.set(Jd,pf(void 0,this));const m=this.records.get(Hc);null!=m&&"string"==typeof m.value&&this.scopes.add(m.value),this.injectorDefTypes=new Set(this.get(hf.multi,We,oe.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const a of this._ngOnDestroyHooks)a.ngOnDestroy();for(const a of this._onDestroyHooks)a()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),this._onDestroyHooks.length=0}}onDestroy(a){this._onDestroyHooks.push(a)}runInContext(a){this.assertNotDestroyed();const u=vn(this),d=wn(void 0);try{return a()}finally{vn(u),wn(d)}}get(a,u=$r,d=oe.Default){this.assertNotDestroyed(),d=Er(d);const h=vn(this),m=wn(void 0);try{if(!(d&oe.SkipSelf)){let D=this.records.get(a);if(void 0===D){const A=function Nv(s){return"function"==typeof s||"object"==typeof s&&s instanceof In}(a)&&Hn(a);D=A&&this.injectableDefInScope(A)?pf(Sv(a),Jm):null,this.records.set(a,D)}if(null!=D)return this.hydrate(a,D)}return(d&oe.Self?Qm():this.parent).get(a,u=d&oe.Optional&&u===$r?null:u)}catch(v){if("NullInjectorError"===v.name){if((v[Qn]=v[Qn]||[]).unshift(Me(a)),h)throw v;return function vi(s,a,u,d){const h=s[Qn];throw a[On]&&h.unshift(a[On]),s.message=function q(s,a,u,d=null){s=s&&"\n"===s.charAt(0)&&s.charAt(1)==or?s.slice(2):s;let h=Me(a);if(Array.isArray(a))h=a.map(Me).join(" -> ");else if("object"==typeof a){let m=[];for(let v in a)if(a.hasOwnProperty(v)){let D=a[v];m.push(v+":"+("string"==typeof D?JSON.stringify(D):Me(D)))}h=`{${m.join(", ")}}`}return`${u}${d?"("+d+")":""}[${h}]: ${s.replace(kn,"\n  ")}`}("\n"+s.message,h,u,d),s[Tn]=h,s[Qn]=null,s}(v,a,"R3InjectorError",this.source)}throw v}finally{wn(m),vn(h)}}resolveInjectorInitializers(){const a=vn(this),u=wn(void 0);try{const d=this.get(wv.multi,We,oe.Self);for(const h of d)h()}finally{vn(a),wn(u)}}toString(){const a=[],u=this.records;for(const d of u.keys())a.push(Me(d));return`R3Injector[${a.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new we(205,!1)}processProvider(a){let u=ku(a=te(a))?a:te(a&&a.provide);const d=function MI(s){return Tv(s)?pf(void 0,s.useValue):pf(Cv(s),Jm)}(a);if(ku(a)||!0!==a.multi)this.records.get(u);else{let h=this.records.get(u);h||(h=pf(void 0,Jm,!0),h.factory=()=>ai(h.multi),this.records.set(u,h)),u=a,h.multi.push(a)}this.records.set(u,d)}hydrate(a,u){return u.value===Jm&&(u.value=AI,u.value=u.factory()),"object"==typeof u.value&&u.value&&function eE(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(a){if(!a.providedIn)return!1;const u=te(a.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}}function Sv(s){const a=Hn(s),u=null!==a?a.factory:ys(s);if(null!==u)return u;if(s instanceof In)throw new we(204,!1);if(s instanceof Function)return function NI(s){const a=s.length;if(a>0)throw wc(a,"?"),new we(204,!1);const u=function jt(s){return s&&(s[nr]||s[ee])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new we(204,!1)}function Cv(s,a,u){let d;if(ku(s)){const h=te(s);return ys(h)||Sv(h)}if(Tv(s))d=()=>te(s.useValue);else if(function Qw(s){return!(!s||!s.useFactory)}(s))d=()=>s.useFactory(...ai(s.deps||[]));else if(function CI(s){return!(!s||!s.useExisting)}(s))d=()=>An(te(s.useExisting));else{const h=te(s&&(s.useClass||s.provide));if(!function Av(s){return!!s.deps}(s))return ys(h)||Sv(h);d=()=>new h(...ai(s.deps))}return d}function pf(s,a,u=!1){return{factory:s,value:a,multi:u?[]:void 0}}function gf(s,a){for(const u of s)Array.isArray(u)?gf(u,a):u&&Fe(u)?gf(u.\u0275providers,a):a(u)}class OI{}class tE{}class rE{resolveComponentFactory(a){throw function xI(s){const a=Error(`No component factory found for ${Me(s)}. Did you add it to @NgModule.entryComponents?`);return a.ngComponent=s,a}(a)}}let mf=(()=>{class s{}return s.NULL=new rE,s})();function Xm(){return Fu(Pr(),Ie())}function Fu(s,a){return new _f(zr(s,a))}let _f=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=Xm,s})();function rg(s){return s instanceof _f?s.nativeElement:s}class Ov{}let RI=(()=>{class s{}return s.__NG_ELEMENT_ID__=()=>function PI(){const s=Ie(),u=Rr(Pr().index,s);return(Mi(u)?u:s)[ln]}(),s})(),kI=(()=>{class s{}return s.\u0275prov=Rt({token:s,providedIn:"root",factory:()=>null}),s})();class iE{constructor(a){this.full=a,this.major=a.split(".")[0],this.minor=a.split(".")[1],this.patch=a.split(".").slice(2).join(".")}}const sE=new iE("15.2.9"),e_={},xv="ngOriginalError";function Rv(s){return s[xv]}class ig{constructor(){this._console=console}handleError(a){const u=this._findOriginalError(a);this._console.error("ERROR",a),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(a){let u=a&&Rv(a);for(;u&&Rv(u);)u=Rv(u);return u||null}}function Hl(s){return s instanceof Function?s():s}function dE(s,a,u){let d=s.length;for(;;){const h=s.indexOf(a,u);if(-1===h)return h;if(0===h||s.charCodeAt(h-1)<=32){const m=a.length;if(h+m===d||s.charCodeAt(h+m)<=32)return h}u=h+1}}const Pv="ng-template";function kv(s,a,u){let d=0,h=!0;for(;d<s.length;){let m=s[d++];if("string"==typeof m&&h){const v=s[d++];if(u&&"class"===m&&-1!==dE(v.toLowerCase(),a,0))return!0}else{if(1===m){for(;d<s.length&&"string"==typeof(m=s[d++]);)if(m.toLowerCase()===a)return!0;return!1}"number"==typeof m&&(h=!1)}}return!1}function Fv(s){return 4===s.type&&s.value!==Pv}function yf(s,a,u){return a===(4!==s.type||u?s.value:Pv)}function Lv(s,a,u){let d=4;const h=s.attrs||[],m=function fE(s){for(let a=0;a<s.length;a++)if(Wr(s[a]))return a;return s.length}(h);let v=!1;for(let D=0;D<a.length;D++){const A=a[D];if("number"!=typeof A){if(!v)if(4&d){if(d=2|1&d,""!==A&&!yf(s,A,u)||""===A&&1===a.length){if(tl(d))return!1;v=!0}}else{const x=8&d?A:a[++D];if(8&d&&null!==s.attrs){if(!kv(s.attrs,x,u)){if(tl(d))return!1;v=!0}continue}const j=hE(8&d?"class":A,h,Fv(s),u);if(-1===j){if(tl(d))return!1;v=!0;continue}if(""!==x){let X;X=j>m?"":h[j+1].toLowerCase();const ce=8&d?X:null;if(ce&&-1!==dE(ce,x,0)||2&d&&x!==X){if(tl(d))return!1;v=!0}}}}else{if(!v&&!tl(d)&&!tl(A))return!1;if(v&&tl(A))continue;v=!1,d=A|1&d}}return tl(d)||v}function tl(s){return 0==(1&s)}function hE(s,a,u,d){if(null===a)return-1;let h=0;if(d||!u){let m=!1;for(;h<a.length;){const v=a[h];if(v===s)return h;if(3===v||6===v)m=!0;else{if(1===v||2===v){let D=a[++h];for(;"string"==typeof D;)D=a[++h];continue}if(4===v)break;if(0===v){h+=4;continue}}h+=m?1:2}return-1}return function pE(s,a){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const d=s[u];if("number"==typeof d)return-1;if(d===a)return u;u++}return-1}(a,s)}function og(s,a,u=!1){for(let d=0;d<a.length;d++)if(Lv(s,a[d],u))return!0;return!1}function jI(s,a){e:for(let u=0;u<a.length;u++){const d=a[u];if(s.length===d.length){for(let h=0;h<s.length;h++)if(s[h]!==d[h])continue e;return!0}}return!1}function gE(s,a){return s?":not("+a.trim()+")":a}function $I(s){let a=s[0],u=1,d=2,h="",m=!1;for(;u<s.length;){let v=s[u];if("string"==typeof v)if(2&d){const D=s[++u];h+="["+v+(D.length>0?'="'+D+'"':"")+"]"}else 8&d?h+="."+v:4&d&&(h+=" "+v);else""!==h&&!tl(v)&&(a+=gE(m,h),h=""),d=v,m=m||!tl(d);u++}return""!==h&&(a+=gE(m,h)),a}const un={};function mE(s){_E(nn(),Ie(),qr()+s,!1)}function _E(s,a,u,d){if(!d)if(3==(3&a[tn])){const m=s.preOrderCheckHooks;null!==m&&cu(a,m,u)}else{const m=s.preOrderHooks;null!==m&&du(a,m,0,u)}js(u)}function vE(s,a=null,u=null,d){const h=Bv(s,a,u,d);return h.resolveInjectorInitializers(),h}function Bv(s,a=null,u=null,d,h=new Set){const m=[u||We,ng(s)];return d=d||("object"==typeof s?void 0:Me(s)),new Xw(m,a||Qm(),d||null,h)}let vf=(()=>{class s{static create(u,d){if(Array.isArray(u))return vE({name:""},d,u,"");{const h=u.name??"";return vE({name:h},u.parent,u.providers,h)}}}return s.THROW_IF_NOT_FOUND=$r,s.NULL=new Yw,s.\u0275prov=Rt({token:s,providedIn:"any",factory:()=>An(Yd)}),s.__NG_ELEMENT_ID__=-1,s})();function Ef(s,a=oe.Default){const u=Ie();return null===u?An(s,a):_c(Pr(),u,te(s),a)}function TE(){throw new Error("invalid")}function IE(s,a){const u=s.contentQueries;if(null!==u)for(let d=0;d<u.length;d+=2){const m=u[d+1];if(-1!==m){const v=s.data[m];Cl(u[d]),v.contentQueries(2,a[m],m)}}}function i_(s,a,u,d,h,m,v,D,A,x,k){const j=a.blueprint.slice();return j[Gi]=h,j[tn]=76|d,(null!==k||s&&1024&s[tn])&&(j[tn]|=1024),Oo(j),j[Yn]=j[Io]=s,j[lr]=u,j[ur]=v||s&&s[ur],j[ln]=D||s&&s[ln],j[Sa]=A||s&&s[Sa]||null,j[Ia]=x||s&&s[Ia]||null,j[mr]=m,j[Co]=function Yh(){return Ys++}(),j[jn]=k,j[rr]=2==a.type?s[rr]:j,j}function dg(s,a,u,d,h){let m=s.data[a];if(null===m)m=xe(s,a,u,d,h),function Il(){return Yt.lFrame.inI18n}()&&(m.flags|=32);else if(64&m.type){m.type=u,m.value=d,m.attrs=h;const v=Dl();m.injectorIndex=null===v?-1:v.injectorIndex}return di(m,!0),m}function xe(s,a,u,d,h){const m=xo(),v=oc(),A=s.data[a]=function lS(s,a,u,d,h,m){return{type:u,index:d,insertBeforeIndex:null,injectorIndex:a?a.injectorIndex:-1,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:0,providerIndexes:0,value:h,attrs:m,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:a,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,v?m:m&&m.parent,u,a,d,h);return null===s.firstChild&&(s.firstChild=A),null!==m&&(v?null==m.child&&null!==A.parent&&(m.child=A):null===m.next&&(m.next=A,A.prev=m)),A}function Df(s,a,u,d){if(0===u)return-1;const h=a.length;for(let m=0;m<u;m++)a.push(d),s.blueprint.push(d),s.data.push(null);return h}function Tf(s,a,u){Nl(a);try{const d=s.viewQuery;null!==d&&fg(1,d,u);const h=s.template;null!==h&&CE(s,a,h,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&IE(s,a),s.staticViewQueries&&fg(2,s.viewQuery,u);const m=s.components;null!==m&&function SE(s,a){for(let u=0;u<a.length;u++)_S(s,a[u])}(a,m)}catch(d){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),d}finally{a[tn]&=-5,ws()}}function s_(s,a,u,d){const h=a[tn];if(128!=(128&h)){Nl(a);try{Oo(a),function bs(s){return Yt.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&CE(s,a,u,2,d);const v=3==(3&h);if(v){const x=s.preOrderCheckHooks;null!==x&&cu(a,x,null)}else{const x=s.preOrderHooks;null!==x&&du(a,x,0,null),hc(a,0)}if(function mS(s){for(let a=Fd(s);null!==a;a=Qa(a)){if(!a[Xl])continue;const u=a[lo];for(let d=0;d<u.length;d++){const h=u[d];512&h[tn]||Ma(h[Yn],1),h[tn]|=512}}}(a),function gS(s){for(let a=Fd(s);null!==a;a=Qa(a))for(let u=Gr;u<a.length;u++){const d=a[u],h=d[ft];Vs(d)&&s_(h,d,h.template,d[lr])}}(a),null!==s.contentQueries&&IE(s,a),v){const x=s.contentCheckHooks;null!==x&&cu(a,x)}else{const x=s.contentHooks;null!==x&&du(a,x,1),hc(a,1)}!function oS(s,a){const u=s.hostBindingOpCodes;if(null!==u)try{for(let d=0;d<u.length;d++){const h=u[d];if(h<0)js(~h);else{const m=h,v=u[++d],D=u[++d];Sl(v,m),D(2,a[m])}}}finally{js(-1)}}(s,a);const D=s.components;null!==D&&function aS(s,a){for(let u=0;u<a.length;u++)RE(s,a[u])}(a,D);const A=s.viewQuery;if(null!==A&&fg(2,A,d),v){const x=s.viewCheckHooks;null!==x&&cu(a,x)}else{const x=s.viewHooks;null!==x&&du(a,x,2),hc(a,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),a[tn]&=-41,512&a[tn]&&(a[tn]&=-513,Ma(a[Yn],-1))}finally{ws()}}}function CE(s,a,u,d,h){const m=qr(),v=2&d;try{js(-1),v&&a.length>$n&&_E(s,a,$n,!1),Ei(v?2:0,h),u(d,h)}finally{js(m),Ei(v?3:1,h)}}function $v(s,a,u){if(Ca(a)){const h=a.directiveEnd;for(let m=a.directiveStart;m<h;m++){const v=s.data[m];v.contentQueries&&v.contentQueries(1,u[m],m)}}}function o_(s,a,u){xa()&&(function zO(s,a,u,d){const h=u.directiveStart,m=u.directiveEnd;Yo(u)&&function pS(s,a,u){const d=zr(a,s),h=l_(u),m=s[ur],v=c_(s,i_(s,h,null,u.onPush?32:16,d,a,m,m.createRenderer(d,u),null,null,null));s[a.index]=v}(a,u,s.data[h+u.componentOffset]),s.firstCreatePass||bd(u,a),me(d,a);const v=u.initialInputs;for(let D=h;D<m;D++){const A=s.data[D],x=Fr(a,s,D,u);me(x,a),null!==v&&u_(0,D-h,x,A,0,v),xi(A)&&(Rr(u.index,a)[lr]=Fr(a,s,D,u))}}(s,a,u,zr(u,a)),64==(64&u.flags)&&fS(s,a,u))}function a_(s,a,u=zr){const d=a.localNames;if(null!==d){let h=a.index+1;for(let m=0;m<d.length;m+=2){const v=d[m+1],D=-1===v?u(a,s):s[v];s[h++]=D}}}function l_(s){const a=s.tView;return null===a||a.incompleteFirstPass?s.tView=Ji(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts):a}function Ji(s,a,u,d,h,m,v,D,A,x){const k=$n+d,j=k+h,X=function nl(s,a){const u=[];for(let d=0;d<a;d++)u.push(d<s?null:un);return u}(k,j),ce="function"==typeof x?x():x;return X[ft]={type:s,blueprint:X,template:u,queries:null,viewQuery:D,declTNode:a,data:X.slice().fill(null,k),bindingStartIndex:k,expandoStartIndex:j,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof m?m():m,pipeRegistry:"function"==typeof v?v():v,firstChild:null,schemas:A,consts:ce,incompleteFirstPass:!1}}function hg(s,a,u,d){const h=pg(a);null===u?h.push(d):(h.push(u),s.firstCreatePass&&d_(s).push(d,h.length-1))}function uS(s,a,u,d){for(let h in s)if(s.hasOwnProperty(h)){u=null===u?{}:u;const m=s[h];null===d?NE(u,a,h,m):d.hasOwnProperty(h)&&NE(u,a,d[h],m)}return u}function NE(s,a,u,d){s.hasOwnProperty(u)?s[u].push(a,d):s[u]=[a,d]}function da(s,a,u,d,h,m,v,D){const A=zr(a,u);let k,x=a.inputs;!D&&null!=x&&(k=x[d])?(h_(s,u,k,d,h),Yo(a)&&function cS(s,a){const u=Rr(a,s);16&u[tn]||(u[tn]|=32)}(u,a.index)):3&a.type&&(d=function jO(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(d),h=null!=v?v(h,a.value||"",d):h,m.setProperty(A,d,h))}function ME(s,a,u,d){if(xa()){const h=null===d?null:{"":-1},m=function Xd(s,a){const u=s.directiveRegistry;let d=null,h=null;if(u)for(let m=0;m<u.length;m++){const v=u[m];if(og(a,v.selectors,!1))if(d||(d=[]),xi(v))if(null!==v.findHostDirectiveDefs){const D=[];h=h||new Map,v.findHostDirectiveDefs(v,D,h),d.unshift(...D,v),If(s,a,D.length)}else d.unshift(v),If(s,a,0);else h=h||new Map,v.findHostDirectiveDefs?.(v,d,h),d.push(v)}return null===d?null:[d,h]}(s,u);let v,D;null===m?v=D=null:[v,D]=m,null!==v&&hS(s,a,u,v,h,D),h&&function Gn(s,a,u){if(a){const d=s.localNames=[];for(let h=0;h<a.length;h+=2){const m=u[a[h+1]];if(null==m)throw new we(-301,!1);d.push(a[h],m)}}}(u,d,h)}u.mergedAttrs=qs(u.mergedAttrs,u.attrs)}function hS(s,a,u,d,h,m){for(let x=0;x<d.length;x++)qn(bd(u,a),s,d[x].type);!function zv(s,a,u){s.flags|=1,s.directiveStart=a,s.directiveEnd=a+u,s.providerIndexes=a}(u,s.data.length,d.length);for(let x=0;x<d.length;x++){const k=d[x];k.providersResolver&&k.providersResolver(k)}let v=!1,D=!1,A=Df(s,a,d.length,null);for(let x=0;x<d.length;x++){const k=d[x];u.mergedAttrs=qs(u.mergedAttrs,k.hostAttrs),OE(s,u,a,A,k),jc(A,k,h),null!==k.contentQueries&&(u.flags|=4),(null!==k.hostBindings||null!==k.hostAttrs||0!==k.hostVars)&&(u.flags|=64);const j=k.type.prototype;!v&&(j.ngOnChanges||j.ngOnInit||j.ngDoCheck)&&((s.preOrderHooks??(s.preOrderHooks=[])).push(u.index),v=!0),!D&&(j.ngOnChanges||j.ngDoCheck)&&((s.preOrderCheckHooks??(s.preOrderCheckHooks=[])).push(u.index),D=!0),A++}!function Gv(s,a,u){const h=a.directiveEnd,m=s.data,v=a.attrs,D=[];let A=null,x=null;for(let k=a.directiveStart;k<h;k++){const j=m[k],X=u?u.get(j):null,Re=X?X.outputs:null;A=uS(j.inputs,k,A,X?X.inputs:null),x=uS(j.outputs,k,x,Re);const Xe=null===A||null===v||Fv(a)?null:Wv(A,k,v);D.push(Xe)}null!==A&&(A.hasOwnProperty("class")&&(a.flags|=8),A.hasOwnProperty("style")&&(a.flags|=16)),a.initialInputs=D,a.inputs=A,a.outputs=x}(s,u,m)}function fS(s,a,u){const d=u.directiveStart,h=u.directiveEnd,m=u.index,v=function Vh(){return Yt.lFrame.currentDirectiveIndex}();try{js(m);for(let D=d;D<h;D++){const A=s.data[D],x=a[D];Tr(D),(null!==A.hostBindings||0!==A.hostVars||null!==A.hostAttrs)&&qO(A,x)}}finally{js(-1),Tr(v)}}function qO(s,a){null!==s.hostBindings&&s.hostBindings(1,a)}function If(s,a,u){a.componentOffset=u,(s.components??(s.components=[])).push(a.index)}function jc(s,a,u){if(u){if(a.exportAs)for(let d=0;d<a.exportAs.length;d++)u[a.exportAs[d]]=s;xi(a)&&(u[""]=s)}}function OE(s,a,u,d,h){s.data[d]=h;const m=h.factory||(h.factory=ys(h.type)),v=new zs(m,xi(h),Ef);s.blueprint[d]=v,u[d]=v,function $O(s,a,u,d,h){const m=h.hostBindings;if(m){let v=s.hostBindingOpCodes;null===v&&(v=s.hostBindingOpCodes=[]);const D=~a.index;(function GO(s){let a=s.length;for(;a>0;){const u=s[--a];if("number"==typeof u&&u<0)return u}return 0})(v)!=D&&v.push(D),v.push(u,d,m)}}(s,a,d,Df(s,u,h.hostVars,un),h)}function qv(s,a,u,d,h,m,v){if(null==m)s.removeAttribute(a,h,u);else{const D=null==v?Se(m):v(m,d||"",h);s.setAttribute(a,h,D,u)}}function u_(s,a,u,d,h,m){const v=m[a];if(null!==v){const D=d.setInput;for(let A=0;A<v.length;){const x=v[A++],k=v[A++],j=v[A++];null!==D?d.setInput(u,j,x,k):u[k]=j}}}function Wv(s,a,u){let d=null,h=0;for(;h<u.length;){const m=u[h];if(0!==m)if(5!==m){if("number"==typeof m)break;if(s.hasOwnProperty(m)){null===d&&(d=[]);const v=s[m];for(let D=0;D<v.length;D+=2)if(v[D]===a){d.push(m,v[D+1],u[h+1]);break}}h+=2}else h+=2;else h+=4}return d}function xE(s,a,u,d){return[s,!0,!1,a,null,0,d,u,null,null]}function RE(s,a){const u=Rr(a,s);if(Vs(u)){const d=u[ft];48&u[tn]?s_(d,u,d.template,u[lr]):u[Rn]>0&&Kv(u)}}function Kv(s){for(let d=Fd(s);null!==d;d=Qa(d))for(let h=Gr;h<d.length;h++){const m=d[h];if(Vs(m))if(512&m[tn]){const v=m[ft];s_(v,m,v.template,m[lr])}else m[Rn]>0&&Kv(m)}const u=s[ft].components;if(null!==u)for(let d=0;d<u.length;d++){const h=Rr(u[d],s);Vs(h)&&h[Rn]>0&&Kv(h)}}function _S(s,a){const u=Rr(a,s),d=u[ft];(function yS(s,a){for(let u=a.length;u<s.blueprint.length;u++)a.push(s.blueprint[u])})(d,u),Tf(d,u,u[lr])}function c_(s,a){return s[qi]?s[_s][zi]=a:s[qi]=a,s[_s]=a,a}function Ti(s){for(;s;){s[tn]|=32;const a=kd(s);if(ml(s)&&!a)return s;s=a}return null}function eh(s,a,u,d=!0){const h=a[ur];h.begin&&h.begin();try{s_(s,a,s.template,u)}catch(v){throw d&&FE(a,v),v}finally{h.end&&h.end()}}function fg(s,a,u){Cl(0),a(s,u)}function pg(s){return s[ui]||(s[ui]=[])}function d_(s){return s.cleanup||(s.cleanup=[])}function FE(s,a){const u=s[Ia],d=u?u.get(ig,null):null;d&&d.handleError(a)}function h_(s,a,u,d,h){for(let m=0;m<u.length;){const v=u[m++],D=u[m++],A=a[v],x=s.data[v];null!==x.setInput?x.setInput(A,h,d,D):A[D]=h}}function f_(s,a,u){let d=u?s.styles:null,h=u?s.classes:null,m=0;if(null!==a)for(let v=0;v<a.length;v++){const D=a[v];"number"==typeof D?m=D:1==m?h=Te(h,D):2==m&&(d=Te(d,D+": "+a[++v]+";"))}u?s.styles=d:s.stylesWithoutHost=d,u?s.classes=h:s.classesWithoutHost=h}function $c(s,a,u,d,h=!1){for(;null!==u;){const m=a[u.index];if(null!==m&&d.push(xr(m)),Oi(m))for(let D=Gr;D<m.length;D++){const A=m[D],x=A[ft].firstChild;null!==x&&$c(A[ft],A,x,d)}const v=u.type;if(8&v)$c(s,a,u.child,d);else if(32&v){const D=oa(u,a);let A;for(;A=D();)d.push(A)}else if(16&v){const D=af(a,u);if(Array.isArray(D))d.push(...D);else{const A=kd(a[rr]);$c(A[ft],A,D,d,!0)}}u=h?u.projectionNext:u.next}return d}class Sf{get rootNodes(){const a=this._lView,u=a[ft];return $c(u,a,u.firstChild,[])}constructor(a,u){this._lView=a,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[lr]}set context(a){this._lView[lr]=a}get destroyed(){return 128==(128&this._lView[tn])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const a=this._lView[Yn];if(Oi(a)){const u=a[ao],d=u?u.indexOf(this):-1;d>-1&&(Ld(a,d),qa(u,d))}this._attachedToViewContainer=!1}ef(this._lView[ft],this._lView)}onDestroy(a){hg(this._lView[ft],this._lView,null,a)}markForCheck(){Ti(this._cdRefInjectingView||this._lView)}detach(){this._lView[tn]&=-65}reattach(){this._lView[tn]|=64}detectChanges(){eh(this._lView[ft],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new we(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function Xh(s,a){jd(s,a,a[ln],2,null,null)}(this._lView[ft],this._lView)}attachToAppRef(a){if(this._attachedToViewContainer)throw new we(902,!1);this._appRef=a}}class p_ extends Sf{constructor(a){super(a),this._view=a}detectChanges(){const a=this._view;eh(a[ft],a,a[lr],!1)}checkNoChanges(){}get context(){return null}}class Yv extends mf{constructor(a){super(),this.ngModule=a}resolveComponentFactory(a){const u=Bt(a);return new gg(u,this.ngModule)}}function LE(s){const a=[];for(let u in s)s.hasOwnProperty(u)&&a.push({propName:s[u],templateName:u});return a}class bS{constructor(a,u){this.injector=a,this.parentInjector=u}get(a,u,d){d=Er(d);const h=this.injector.get(a,e_,d);return h!==e_||u===e_?h:this.parentInjector.get(a,u,d)}}class gg extends tE{get inputs(){return LE(this.componentDef.inputs)}get outputs(){return LE(this.componentDef.outputs)}constructor(a,u){super(),this.componentDef=a,this.ngModule=u,this.componentType=a.type,this.selector=function GI(s){return s.map($I).join(",")}(a.selectors),this.ngContentSelectors=a.ngContentSelectors?a.ngContentSelectors:[],this.isBoundToModule=!!u}create(a,u,d,h){let m=(h=h||this.ngModule)instanceof Jd?h:h?.injector;m&&null!==this.componentDef.getStandaloneInjector&&(m=this.componentDef.getStandaloneInjector(m)||m);const v=m?new bS(a,m):a,D=v.get(Ov,null);if(null===D)throw new we(407,!1);const A=v.get(kI,null),x=D.createRenderer(null,this.componentDef),k=this.componentDef.selectors[0][0]||"div",j=d?function AE(s,a,u){return s.selectRootElement(a,u===Oe.ShadowDom)}(x,d,this.componentDef.encapsulation):Vp(x,k,function vS(s){const a=s.toLowerCase();return"svg"===a?"svg":"math"===a?"math":null}(k)),X=this.componentDef.onPush?288:272,ce=Ji(0,null,null,1,0,null,null,null,null,null),Re=i_(null,ce,null,X,null,null,D,x,A,v,null);let Xe,pt;Nl(Re);try{const Ot=this.componentDef;let Jt,Ge=null;Ot.findHostDirectiveDefs?(Jt=[],Ge=new Map,Ot.findHostDirectiveDefs(Ot,Jt,Ge),Jt.push(Ot)):Jt=[Ot];const hn=function VE(s,a){const u=s[ft],d=$n;return s[d]=a,dg(u,d,2,"#host",null)}(Re,j),Hr=function Jv(s,a,u,d,h,m,v,D){const A=h[ft];!function HE(s,a,u,d){for(const h of s)a.mergedAttrs=qs(a.mergedAttrs,h.hostAttrs);null!==a.mergedAttrs&&(f_(a,a.mergedAttrs,!0),null!==u&&Gd(d,u,a))}(d,s,a,v);const x=m.createRenderer(a,u),k=i_(h,l_(u),null,u.onPush?32:16,h[s.index],s,m,x,D||null,null,null);return A.firstCreatePass&&If(A,s,d.length-1),c_(h,k),h[s.index]=k}(hn,j,Ot,Jt,Re,D,x);pt=nc(ce,$n),j&&function wS(s,a,u,d){if(d)kr(s,u,["ng-version",sE.full]);else{const{attrs:h,classes:m}=function zI(s){const a=[],u=[];let d=1,h=2;for(;d<s.length;){let m=s[d];if("string"==typeof m)2===h?""!==m&&a.push(m,s[++d]):8===h&&u.push(m);else{if(!tl(h))break;h=m}d++}return{attrs:a,classes:u}}(a.selectors[0]);h&&kr(s,u,h),m&&m.length>0&&_o(s,u,m.join(" "))}}(x,Ot,j,d),void 0!==u&&function Qv(s,a,u){const d=s.projection=[];for(let h=0;h<a.length;h++){const m=u[h];d.push(null!=m?Array.from(m):null)}}(pt,this.ngContentSelectors,u),Xe=function mg(s,a,u,d,h,m){const v=Pr(),D=h[ft],A=zr(v,h);hS(D,h,v,u,null,d);for(let k=0;k<u.length;k++)me(Fr(h,D,v.directiveStart+k,v),h);fS(D,h,v),A&&me(A,h);const x=Fr(h,D,v.directiveStart+v.componentOffset,v);if(s[lr]=h[lr]=x,null!==m)for(const k of m)k(x,a);return $v(D,v,s),x}(Hr,Ot,Jt,Ge,Re,[Xv]),Tf(ce,Re,null)}finally{ws()}return new BE(this.componentType,Xe,Fu(pt,Re),Re,pt)}}class BE extends OI{constructor(a,u,d,h,m){super(),this.location=d,this._rootLView=h,this._tNode=m,this.instance=u,this.hostView=this.changeDetectorRef=new p_(h),this.componentType=a}setInput(a,u){const d=this._tNode.inputs;let h;if(null!==d&&(h=d[a])){const m=this._rootLView;h_(m[ft],m,h,a,u),Ti(Rr(this._tNode.index,m))}}get injector(){return new Lo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(a){this.hostView.onDestroy(a)}}function Xv(){const s=Pr();Gs(Ie()[ft],s)}function _g(s){let a=function jE(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const d=[s];for(;a;){let h;if(xi(s))h=a.\u0275cmp||a.\u0275dir;else{if(a.\u0275cmp)throw new we(903,!1);h=a.\u0275dir}if(h){if(u){d.push(h);const v=s;v.inputs=yg(s.inputs),v.declaredInputs=yg(s.declaredInputs),v.outputs=yg(s.outputs);const D=h.hostBindings;D&&DS(s,D);const A=h.viewQuery,x=h.contentQueries;if(A&&t0(s,A),x&&ES(s,x),be(s.inputs,h.inputs),be(s.declaredInputs,h.declaredInputs),be(s.outputs,h.outputs),xi(h)&&h.data.animation){const k=s.data;k.animation=(k.animation||[]).concat(h.data.animation)}}const m=h.features;if(m)for(let v=0;v<m.length;v++){const D=m[v];D&&D.ngInherit&&D(s),D===_g&&(u=!1)}}a=Object.getPrototypeOf(a)}!function e0(s){let a=0,u=null;for(let d=s.length-1;d>=0;d--){const h=s[d];h.hostVars=a+=h.hostVars,h.hostAttrs=qs(h.hostAttrs,u=qs(u,h.hostAttrs))}}(d)}function yg(s){return s===ue?{}:s===We?[]:s}function t0(s,a){const u=s.viewQuery;s.viewQuery=u?(d,h)=>{a(d,h),u(d,h)}:a}function ES(s,a){const u=s.contentQueries;s.contentQueries=u?(d,h,m)=>{a(d,h,m),u(d,h,m)}:a}function DS(s,a){const u=s.hostBindings;s.hostBindings=u?(d,h)=>{a(d,h),u(d,h)}:a}function $E(s){return a=>{a.findHostDirectiveDefs=m_,a.hostDirectives=(Array.isArray(s)?s:s()).map(u=>"function"==typeof u?{directive:te(u),inputs:ue,outputs:ue}:{directive:te(u.directive),inputs:__(u.inputs),outputs:__(u.outputs)})}}function m_(s,a,u){if(null!==s.hostDirectives)for(const d of s.hostDirectives){const h=Cn(d.directive);r0(h.declaredInputs,d.inputs),m_(h,a,u),u.set(h,d),a.push(h)}}function __(s){if(void 0===s||0===s.length)return ue;const a={};for(let u=0;u<s.length;u+=2)a[s[u]]=s[u+1];return a}function r0(s,a){for(const u in a)a.hasOwnProperty(u)&&(s[a[u]]=s[u])}function Bu(s){return!!s0(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function s0(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function jl(s,a,u){return s[a]=u}function Ns(s,a,u){return!Object.is(s[a],u)&&(s[a]=u,!0)}function th(s,a,u,d){const h=Ns(s,a,u);return Ns(s,a+1,d)||h}function Cf(s,a,u,d){const h=Ie();return Ns(h,Ro(),a)&&(nn(),function Kn(s,a,u,d,h,m){const v=zr(s,a);qv(a[ln],v,m,s.value,u,d,h)}(er(),h,s,a,u,d)),Cf}function rh(s,a,u,d){return Ns(s,Ro(),u)?a+Se(u)+d:un}function KE(s,a,u,d,h,m,v,D){const A=Ie(),x=nn(),k=s+$n,j=x.firstCreatePass?function WE(s,a,u,d,h,m,v,D,A){const x=a.consts,k=dg(a,s,4,v||null,vs(x,D));ME(a,u,k,vs(x,A)),Gs(a,k);const j=k.tView=Ji(2,k,d,h,m,a.directiveRegistry,a.pipeRegistry,null,a.schemas,x);return null!==a.queries&&(a.queries.template(a,k),j.queries=a.queries.embeddedTView(k)),k}(k,x,A,a,u,d,h,m,v):x.data[k];di(j,!1);const X=A[ln].createComment("");Ou(x,A,X,j),me(X,A),c_(A,A[k]=xE(X,A,X,j)),eu(j)&&o_(x,A,j),null!=v&&a_(A,j,D)}function b_(s){return ci(function Uh(){return Yt.lFrame.contextLView}(),$n+s)}function bg(s,a,u){const d=Ie();return Ns(d,Ro(),a)&&da(nn(),er(),d,s,a,d[ln],u,!1),bg}function YE(s,a,u,d,h){const v=h?"class":"style";h_(s,u,a.inputs[v],v,d)}function u0(s,a,u,d){const h=Ie(),m=nn(),v=$n+s,D=h[ln],A=m.firstCreatePass?function l0(s,a,u,d,h,m){const v=a.consts,A=dg(a,s,2,d,vs(v,h));return ME(a,u,A,vs(v,m)),null!==A.attrs&&f_(A,A.attrs,!1),null!==A.mergedAttrs&&f_(A,A.mergedAttrs,!0),null!==a.queries&&a.queries.elementStart(a,A),A}(v,m,h,a,u,d):m.data[v],x=h[v]=Vp(D,a,function dc(){return Yt.lFrame.currentNamespace}()),k=eu(A);return di(A,!0),Gd(D,x,A),32!=(32&A.flags)&&Ou(m,h,x,A),0===function rc(){return Yt.lFrame.elementDepthCount}()&&me(x,h),function Qo(){Yt.lFrame.elementDepthCount++}(),k&&(o_(m,h,A),$v(m,A,h)),null!==d&&a_(h,A),u0}function w_(){let s=Pr();oc()?Tl():(s=s.parent,di(s,!1));const a=s;!function au(){Yt.lFrame.elementDepthCount--}();const u=nn();return u.firstCreatePass&&(Gs(u,s),Ca(s)&&u.queries.elementEnd(s)),null!=a.classesWithoutHost&&function G(s){return 0!=(8&s.flags)}(a)&&YE(u,a,Ie(),a.classesWithoutHost,!0),null!=a.stylesWithoutHost&&function De(s){return 0!=(16&s.flags)}(a)&&YE(u,a,Ie(),a.stylesWithoutHost,!1),w_}function JE(s,a,u,d){return u0(s,a,u,d),w_(),JE}function E_(s,a,u){const d=Ie(),h=nn(),m=s+$n,v=h.firstCreatePass?function kS(s,a,u,d,h){const m=a.consts,v=vs(m,d),D=dg(a,s,8,"ng-container",v);return null!==v&&f_(D,v,!0),ME(a,u,D,vs(m,h)),null!==a.queries&&a.queries.elementStart(a,D),D}(m,h,d,a,u):h.data[m];di(v,!0);const D=d[m]=d[ln].createComment("");return Ou(h,d,D,v),me(D,d),eu(v)&&(o_(h,d,v),$v(h,v,d)),null!=u&&a_(d,v),E_}function c0(){let s=Pr();const a=nn();return oc()?Tl():(s=s.parent,di(s,!1)),a.firstCreatePass&&(Gs(a,s),Ca(s)&&a.queries.elementEnd(s)),c0}function QE(){return Ie()}function XE(s){return!!s&&"function"==typeof s.then}function LS(s){return!!s&&"function"==typeof s.subscribe}const BS=LS;function eD(s,a,u,d){const h=Ie(),m=nn(),v=Pr();return function tD(s,a,u,d,h,m,v){const D=eu(d),x=s.firstCreatePass&&d_(s),k=a[lr],j=pg(a);let X=!0;if(3&d.type||v){const Xe=zr(d,a),pt=v?v(Xe):Xe,Ot=j.length,Jt=v?hn=>v(xr(hn[d.index])):d.index;let Ge=null;if(!v&&D&&(Ge=function VS(s,a,u,d){const h=s.cleanup;if(null!=h)for(let m=0;m<h.length-1;m+=2){const v=h[m];if(v===u&&h[m+1]===d){const D=a[ui],A=h[m+2];return D.length>A?D[A]:null}"string"==typeof v&&(m+=2)}return null}(s,a,h,d.index)),null!==Ge)(Ge.__ngLastListenerFn__||Ge).__ngNextListenerFn__=m,Ge.__ngLastListenerFn__=m,X=!1;else{m=h0(d,a,k,m,!1);const hn=u.listen(pt,h,m);j.push(m,hn),x&&x.push(h,Jt,Ot,Ot+1)}}else m=h0(d,a,k,m,!1);const ce=d.outputs;let Re;if(X&&null!==ce&&(Re=ce[h])){const Xe=Re.length;if(Xe)for(let pt=0;pt<Xe;pt+=2){const Hr=a[Re[pt]][Re[pt+1]].subscribe(m),ii=j.length;j.push(m,Hr),x&&x.push(h,d.index,ii,-(ii+1))}}}(m,h,h[ln],v,s,a,d),eD}function d0(s,a,u,d){try{return Ei(6,a,u),!1!==u(d)}catch(h){return FE(s,h),!1}finally{Ei(7,a,u)}}function h0(s,a,u,d,h){return function m(v){if(v===Function)return d;Ti(s.componentOffset>-1?Rr(s.index,a):a);let A=d0(a,u,d,v),x=m.__ngNextListenerFn__;for(;x;)A=d0(a,u,x,v)&&A,x=x.__ngNextListenerFn__;return h&&!1===A&&(v.preventDefault(),v.returnValue=!1),A}}function f0(s=1){return function uc(s){return(Yt.lFrame.contextLView=function Ml(s,a){for(;s>0;)a=a[Io],s--;return a}(s,Yt.lFrame.contextLView))[lr]}(s)}function nD(s,a){let u=null;const d=function t_(s){const a=s.attrs;if(null!=a){const u=a.indexOf(5);if(!(1&u))return a[u+1]}return null}(s);for(let h=0;h<a.length;h++){const m=a[h];if("*"!==m){if(null===d?og(s,m,!0):jI(d,m))return h}else u=h}return u}function p0(s){const a=Ie()[rr][mr];if(!a.projection){const d=a.projection=wc(s?s.length:1,null),h=d.slice();let m=a.child;for(;null!==m;){const v=s?nD(m,s):0;null!==v&&(h[v]?h[v].projectionNext=m:d[v]=m,h[v]=m),m=m.next}}}function g0(s,a=0,u){const d=Ie(),h=nn(),m=dg(h,$n+s,16,null,u||null);null===m.projection&&(m.projection=a),Tl(),32!=(32&m.flags)&&function $p(s,a,u){Gp(a[ln],0,a,u,Pc(s,u,a),nf(u.parent||a[mr],u,a))}(h,d,m)}function D_(s,a,u){return Of(s,"",a,"",u),D_}function Of(s,a,u,d,h){const m=Ie(),v=rh(m,a,u,d);return v!==un&&da(nn(),er(),m,s,v,m[ln],h,!1),Of}function zc(s,a){return s<<17|a<<2}function qc(s){return s>>17&32767}function _0(s){return 2|s}function ah(s){return(131068&s)>>2}function Qi(s,a){return-131069&s|a<<2}function Ii(s){return 1|s}function v0(s,a,u,d,h){const m=s[u+1],v=null===a;let D=d?qc(m):ah(m),A=!1;for(;0!==D&&(!1===A||v);){const k=s[D+1];Ms(s[D],a)&&(A=!0,s[D+1]=d?Ii(k):_0(k)),D=d?qc(k):ah(k)}A&&(s[u+1]=d?_0(m):Ii(m))}function Ms(s,a){return null===s||null==a||(Array.isArray(s)?s[1]:s)===a||!(!Array.isArray(s)||"string"!=typeof a)&&Pi(s,a)>=0}const Li={textEnd:0,key:0,keyEnd:0,value:0,valueEnd:0};function Dg(s){return s.substring(Li.key,Li.keyEnd)}function Tg(s,a){const u=Li.textEnd;return u===a?-1:(a=Li.keyEnd=function Rf(s,a,u){for(;a<u&&s.charCodeAt(a)>32;)a++;return a}(s,Li.key=a,u),xf(s,a,u))}function xf(s,a,u){for(;a<u&&s.charCodeAt(a)<=32;)a++;return a}function Pf(s,a,u){return $o(s,a,u,!1),Pf}function Ig(s,a){return $o(s,a,null,!0),Ig}function uD(s){ga(hD,Gl,s,!0)}function Gl(s,a){for(let u=function b0(s){return function w0(s){Li.key=0,Li.keyEnd=0,Li.value=0,Li.valueEnd=0,Li.textEnd=s.length}(s),Tg(s,xf(s,0,Li.textEnd))}(a);u>=0;u=Tg(a,u))Yi(s,Dg(a),!0)}function $o(s,a,u,d){const h=Ie(),m=nn(),v=Ri(2);m.firstUpdatePass&&kf(m,s,v,d),a!==un&&Ns(h,v,a)&&N_(m,m.data[qr()],h,h[ln],s,h[v+1]=function T0(s,a){return null==s||""===s||("string"==typeof a?s+=a:"object"==typeof s&&(s=Me(Fi(s)))),s}(a,u),d,v)}function ga(s,a,u,d){const h=nn(),m=Ri(2);h.firstUpdatePass&&kf(h,null,m,d);const v=Ie();if(u!==un&&Ns(v,m,u)){const D=h.data[qr()];if(I0(D,d)&&!cD(h,m)){let A=d?D.classesWithoutHost:D.stylesWithoutHost;null!==A&&(u=Te(A,u||"")),YE(h,D,v,u,d)}else!function A_(s,a,u,d,h,m,v,D){h===un&&(h=We);let A=0,x=0,k=0<h.length?h[0]:null,j=0<m.length?m[0]:null;for(;null!==k||null!==j;){const X=A<h.length?h[A+1]:void 0,ce=x<m.length?m[x+1]:void 0;let Xe,Re=null;k===j?(A+=2,x+=2,X!==ce&&(Re=j,Xe=ce)):null===j||null!==k&&k<j?(A+=2,Re=k):(x+=2,Re=j,Xe=ce),null!==Re&&N_(s,a,u,d,Re,Xe,v,D),k=A<h.length?h[A]:null,j=x<m.length?m[x]:null}}(h,D,v,v[ln],v[m+1],v[m+1]=function dD(s,a,u){if(null==u||""===u)return We;const d=[],h=Fi(u);if(Array.isArray(h))for(let m=0;m<h.length;m++)s(d,h[m],!0);else if("object"==typeof h)for(const m in h)h.hasOwnProperty(m)&&s(d,m,h[m]);else"string"==typeof h&&a(d,h);return d}(s,a,u),d,m)}}function cD(s,a){return a>=s.expandoStartIndex}function kf(s,a,u,d){const h=s.data;if(null===h[u+1]){const m=h[qr()],v=cD(s,u);I0(m,d)&&null===a&&!v&&(a=!1),a=function GS(s,a,u,d){const h=function Po(s){const a=Yt.lFrame.currentDirectiveIndex;return-1===a?null:s[a]}(s);let m=d?a.residualClasses:a.residualStyles;if(null===h)0===(d?a.classBindings:a.styleBindings)&&(u=uh(u=Ff(null,s,a,u,d),a.attrs,d),m=null);else{const v=a.directiveStylingLast;if(-1===v||s[v]!==h)if(u=Ff(h,s,a,u,d),null===m){let A=function Sg(s,a,u){const d=u?a.classBindings:a.styleBindings;if(0!==ah(d))return s[qc(d)]}(s,a,d);void 0!==A&&Array.isArray(A)&&(A=Ff(null,s,a,A[1],d),A=uh(A,a.attrs,d),function zS(s,a,u,d){s[qc(u?a.classBindings:a.styleBindings)]=d}(s,a,d,A))}else m=function qS(s,a,u){let d;const h=a.directiveEnd;for(let m=1+a.directiveStylingLast;m<h;m++)d=uh(d,s[m].hostAttrs,u);return uh(d,a.attrs,u)}(s,a,d)}return void 0!==m&&(d?a.residualClasses=m:a.residualStyles=m),u}(h,m,a,d),function iD(s,a,u,d,h,m){let v=m?a.classBindings:a.styleBindings,D=qc(v),A=ah(v);s[d]=u;let k,x=!1;if(Array.isArray(u)?(k=u[1],(null===k||Pi(u,k)>0)&&(x=!0)):k=u,h)if(0!==A){const X=qc(s[D+1]);s[d+1]=zc(X,D),0!==X&&(s[X+1]=Qi(s[X+1],d)),s[D+1]=function jS(s,a){return 131071&s|a<<17}(s[D+1],d)}else s[d+1]=zc(D,0),0!==D&&(s[D+1]=Qi(s[D+1],d)),D=d;else s[d+1]=zc(A,0),0===D?D=d:s[A+1]=Qi(s[A+1],d),A=d;x&&(s[d+1]=_0(s[d+1])),v0(s,k,d,!0),v0(s,k,d,!1),function y0(s,a,u,d,h){const m=h?s.residualClasses:s.residualStyles;null!=m&&"string"==typeof a&&Pi(m,a)>=0&&(u[d+1]=Ii(u[d+1]))}(a,k,s,d,m),v=zc(D,A),m?a.classBindings=v:a.styleBindings=v}(h,m,a,u,v,d)}}function Ff(s,a,u,d,h){let m=null;const v=u.directiveEnd;let D=u.directiveStylingLast;for(-1===D?D=u.directiveStart:D++;D<v&&(m=a[D],d=uh(d,m.hostAttrs,h),m!==s);)D++;return null!==s&&(u.directiveStylingLast=D),d}function uh(s,a,u){const d=u?1:2;let h=-1;if(null!==a)for(let m=0;m<a.length;m++){const v=a[m];"number"==typeof v?h=v:h===d&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),Yi(s,v,!!u||a[++m]))}return void 0===s?null:s}function hD(s,a,u){const d=String(a);""!==d&&!d.includes(" ")&&Yi(s,d,u)}function N_(s,a,u,d,h,m,v,D){if(!(3&a.type))return;const A=s.data,x=A[D+1],k=function I_(s){return 1==(1&s)}(x)?M_(A,a,u,h,ah(x),v):void 0;Lf(k)||(Lf(m)||function m0(s){return 2==(2&s)}(x)&&(m=M_(A,null,u,h,D,v)),function aa(s,a,u,d,h){if(a)h?s.addClass(u,d):s.removeClass(u,d);else{let m=-1===d.indexOf("-")?void 0:zt.DashCase;null==h?s.removeStyle(u,d,m):("string"==typeof h&&h.endsWith("!important")&&(h=h.slice(0,-10),m|=zt.Important),s.setStyle(u,d,h,m))}}(d,v,Us(qr(),u),h,m))}function M_(s,a,u,d,h,m){const v=null===a;let D;for(;h>0;){const A=s[h],x=Array.isArray(A),k=x?A[1]:A,j=null===k;let X=u[h+1];X===un&&(X=j?We:void 0);let ce=j?Bn(X,d):k===d?X:void 0;if(x&&!Lf(ce)&&(ce=Bn(A,d)),Lf(ce)&&(D=ce,v))return D;const Re=s[h+1];h=v?qc(Re):ah(Re)}if(null!==a){let A=m?a.residualClasses:a.residualStyles;null!=A&&(D=Bn(A,d))}return D}function Lf(s){return void 0!==s}function I0(s,a){return 0!=(s.flags&(a?8:16))}function S0(s,a=""){const u=Ie(),d=nn(),h=s+$n,m=d.firstCreatePass?dg(d,h,1,a,null):d.data[h],v=u[h]=Rc(u[ln],a);Ou(d,u,v,m),di(m,!1)}function C0(s){return Cg("",s,""),C0}function Cg(s,a,u){const d=Ie(),h=rh(d,s,a,u);return h!==un&&function Lu(s,a,u){const d=Us(a,s);Up(s[ln],d,u)}(d,qr(),h),Cg}function Ag(s,a,u,d,h){ga(Yi,Gl,function Gc(s,a,u,d,h,m){const D=th(s,Ki(),u,h);return Ri(2),D?a+Se(u)+d+Se(h)+m:un}(Ie(),s,a,u,d,h),!0)}function B0(s,a,u){const d=Ie();return Ns(d,Ro(),a)&&da(nn(),er(),d,s,a,d[ln],u,!0),B0}const Go=void 0;var F_=["en",[["a","p"],["AM","PM"],Go],[["AM","PM"],Go,Go],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Go,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Go,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Go,"{1} 'at' {0}",Go],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function ED(s){const u=Math.floor(Math.abs(s)),d=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===d?1:5}];let dh={};function B_(s){const a=function H0(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Uf(a);if(u)return u;const d=a.split("-")[0];if(u=Uf(d),u)return u;if("en"===d)return F_;throw new we(701,!1)}function U0(s){return B_(s)[Zt.PluralCase]}function Uf(s){return s in dh||(dh[s]=$t.ng&&$t.ng.common&&$t.ng.common.locales&&$t.ng.common.locales[s]),dh[s]}var Zt=(()=>((Zt=Zt||{})[Zt.LocaleId=0]="LocaleId",Zt[Zt.DayPeriodsFormat=1]="DayPeriodsFormat",Zt[Zt.DayPeriodsStandalone=2]="DayPeriodsStandalone",Zt[Zt.DaysFormat=3]="DaysFormat",Zt[Zt.DaysStandalone=4]="DaysStandalone",Zt[Zt.MonthsFormat=5]="MonthsFormat",Zt[Zt.MonthsStandalone=6]="MonthsStandalone",Zt[Zt.Eras=7]="Eras",Zt[Zt.FirstDayOfWeek=8]="FirstDayOfWeek",Zt[Zt.WeekendRange=9]="WeekendRange",Zt[Zt.DateFormat=10]="DateFormat",Zt[Zt.TimeFormat=11]="TimeFormat",Zt[Zt.DateTimeFormat=12]="DateTimeFormat",Zt[Zt.NumberSymbols=13]="NumberSymbols",Zt[Zt.NumberFormats=14]="NumberFormats",Zt[Zt.CurrencyCode=15]="CurrencyCode",Zt[Zt.CurrencySymbol=16]="CurrencySymbol",Zt[Zt.CurrencyName=17]="CurrencyName",Zt[Zt.Currencies=18]="Currencies",Zt[Zt.Directionality=19]="Directionality",Zt[Zt.PluralCase=20]="PluralCase",Zt[Zt.ExtraData=21]="ExtraData",Zt))();const DD=["zero","one","two","few","many"],zl="en-US",Vf={marker:"element"},Hf={marker:"ICU"};var Cr=(()=>((Cr=Cr||{})[Cr.SHIFT=2]="SHIFT",Cr[Cr.APPEND_EAGERLY=1]="APPEND_EAGERLY",Cr[Cr.COMMENT=2]="COMMENT",Cr))();let $0=zl;function ID(s){(function Ct(s,a){null==s&&Tt(a,s,null,"!=")})(s,"Expected localeId to be defined"),"string"==typeof s&&($0=s.toLowerCase().replace(/_/g,"-"))}function Mg(s,a,u){const d=a.insertBeforeIndex,h=Array.isArray(d)?d[0]:d;return null===h?Vd(s,0,u):xr(u[h])}function V_(s,a,u,d,h){const m=a.insertBeforeIndex;if(Array.isArray(m)){let v=d,D=null;if(3&a.type||(D=v,v=h),null!==v&&-1===a.componentOffset)for(let A=1;A<m.length;A++)Ul(s,v,u[m[A]],D,!1)}}function z0(s,a){if(s.push(a),s.length>1)for(let u=s.length-2;u>=0;u--){const d=s[u];q0(d)||SD(d,a)&&null===XS(d)&&Og(d,a.index)}}function q0(s){return!(64&s.type)}function SD(s,a){return q0(a)||s.index>a.index}function XS(s){const a=s.insertBeforeIndex;return Array.isArray(a)?a[0]:a}function Og(s,a){const u=s.insertBeforeIndex;Array.isArray(u)?u[0]=a:(rf(Mg,V_),s.insertBeforeIndex=a)}function jf(s,a){const u=s.data[a];return null===u||"string"==typeof u?null:u.hasOwnProperty("currentCaseLViewIndex")?u:u.value}function hh(s,a,u){const d=xe(s,u,64,null,null);return z0(a,d),d}function $f(s,a){const u=a[s.currentCaseLViewIndex];return null===u?u:u<0?~u:u}function CD(s){return s>>>17}function AD(s){return(131070&s)>>>1}let Rg=0,rl=0;function K0(s,a,u,d){const h=u[ln];let v,m=null;for(let D=0;D<a.length;D++){const A=a[D];if("string"==typeof A){const x=a[++D];null===u[x]&&(u[x]=Rc(h,A))}else if("number"==typeof A)switch(1&A){case 0:const x=CD(A);let k,j;if(null===m&&(m=x,v=el(h,d)),x===m?(k=d,j=v):(k=null,j=xr(u[x])),null!==j){const Xe=AD(A);Ul(h,j,u[Xe],k,!1);const Ot=jf(s,Xe);if(null!==Ot&&"object"==typeof Ot){const Jt=$f(Ot,u);null!==Jt&&K0(s,Ot.create[Jt],u,u[Ot.anchorIdx])}}break;case 1:const ce=a[++D],Re=a[++D];qv(h,Us(A>>>1,u),null,null,ce,Re,null)}else switch(A){case Hf:const x=a[++D],k=a[++D];null===u[k]&&me(u[k]=Lm(h,x),u);break;case Vf:const j=a[++D],X=a[++D];null===u[X]&&me(u[X]=Vp(h,j,null),u)}}}function Ar(s,a,u,d,h){for(let m=0;m<u.length;m++){const v=u[m],D=u[++m];if(v&h){let A="";for(let x=m+1;x<=m+D;x++){const k=u[x];if("string"==typeof k)A+=k;else if("number"==typeof k)if(k<0)A+=Se(a[d-k]);else{const j=k>>>2;switch(3&k){case 1:const X=u[++x],ce=u[++x],Re=s.data[j];"string"==typeof Re?qv(a[ln],a[j],null,Re,X,A,ce):da(s,Re,a,X,A,a[ln],ce,!1);break;case 0:const Xe=a[j];null!==Xe&&Up(a[ln],Xe,A);break;case 2:kg(s,jf(s,j),a,A);break;case 3:Pg(s,jf(s,j),d,a)}}}}else{const A=u[m+1];if(A>0&&3==(3&A)){const k=jf(s,A>>>2);a[k.currentCaseLViewIndex]<0&&Pg(s,k,d,a)}}m+=D}}function Pg(s,a,u,d){let h=d[a.currentCaseLViewIndex];if(null!==h){let m=Rg;h<0&&(h=d[a.currentCaseLViewIndex]=~h,m=-1),Ar(s,d,a.update[h],u,m)}}function kg(s,a,u,d){const h=function eC(s,a){let u=s.cases.indexOf(a);if(-1===u)switch(s.type){case 1:{const d=function TD(s,a){const u=U0(a)(parseInt(s,10)),d=DD[u];return void 0!==d?d:"other"}(a,function G0(){return $0}());u=s.cases.indexOf(d),-1===u&&"other"!==d&&(u=s.cases.indexOf("other"));break}case 0:u=s.cases.indexOf("other")}return-1===u?null:u}(a,d);if($f(a,u)!==h&&(Gf(s,a,u),u[a.currentCaseLViewIndex]=null===h?null:~h,null!==h)){const v=u[a.anchorIdx];v&&K0(s,a.create[h],u,v)}}function Gf(s,a,u){let d=$f(a,u);if(null!==d){const h=a.remove[d];for(let m=0;m<h.length;m++){const v=h[m];if(v>0){const D=Us(v,u);null!==D&&jp(u[ln],D)}else Gf(s,jf(s,~v),u)}}}function MD(){const s=[];let u,d,a=-1;function m(D,A){a=0;const x=$f(D,A);d=null!==x?D.remove[x]:We}function v(){if(a<d.length){const D=d[a++];return D>0?u[D]:(s.push(a,d),m(u[ft].data[~D],u),v())}return 0===s.length?null:(d=s.pop(),a=s.pop(),v())}return function h(D,A){for(u=A;s.length;)s.pop();return m(D.value,A),v}}const il=/\ufffd(\d+):?\d*\ufffd/gi,xD=/\ufffd(\d+)\ufffd/,Z0=/^\s*(\ufffd\d+:?\d*\ufffd)\s*,\s*(select|plural)\s*,/,ql="\ufffd",tC=/\ufffd\/?\*(\d+:\d+)\ufffd/gi,nC=/\ufffd(\/?[#*]\d+):?\d*\ufffd/gi,RD=/\uE500/g;function G_(s,a,u,d,h,m,v){const D=Df(s,d,1,null);let A=D<<Cr.SHIFT,x=Dl();a===x&&(x=null),null===x&&(A|=Cr.APPEND_EAGERLY),v&&(A|=Cr.COMMENT,function Pd(s){void 0===Js&&(Js=s())}(MD)),h.push(A,null===m?"":m);const k=xe(s,D,v?32:1,null===m?"":m,null);z0(u,k);const j=k.index;return di(k,!1),null!==x&&a!==x&&function xg(s,a){let u=s.insertBeforeIndex;null===u?(rf(Mg,V_),u=s.insertBeforeIndex=[null,a]):(function st(s,a,u){s!=a&&Tt(u,s,a,"==")}(Array.isArray(u),!0,"Expecting array here"),u.push(a))}(x,j),k}function Y0(s,a,u,d,h,m,v){const D=v.match(il),A=G_(s,a,u,m,d,D?null:v,!1);D&&qf(h,v,A.index,null,0,null)}function qf(s,a,u,d,h,m){const v=s.length,D=v+1;s.push(null,null);const A=v+2,x=a.split(il);let k=0;for(let j=0;j<x.length;j++){const X=x[j];if(1&j){const ce=h+parseInt(X,10);s.push(-1-ce),k|=FD(ce)}else""!==X&&s.push(X)}return s.push(u<<2|(d?1:0)),d&&s.push(d,m),s[v]=k,s[D]=s.length-A,k}function FD(s){return 1<<Math.min(s,31)}function LD(s){let a,m,u="",d=0,h=!1;for(;null!==(a=tC.exec(s));)h?a[0]===`${ql}/*${m}${ql}`&&(d=a.index,h=!1):(u+=s.substring(d,a.index+a[0].length),m=a[1],h=!0);return u+=s.slice(d),u}function Wf(s,a,u,d,h,m){let v=0;const D={type:h.type,currentCaseLViewIndex:Df(s,a,1,null),anchorIdx:m,cases:[],create:[],remove:[],update:[]};(function ni(s,a,u){s.push(FD(a.mainBinding),2,-1-a.mainBinding,u<<2|2)})(u,h,m),function H_(s,a,u){const d=s.data[a];null===d?s.data[a]=u:d.value=u}(s,m,D);const A=h.values;for(let x=0;x<A.length;x++){const k=A[x],j=[];for(let X=0;X<k.length;X++){const ce=k[X];if("string"!=typeof ce){const Re=j.push(ce)-1;k[X]=`\x3c!--\ufffd${Re}\ufffd--\x3e`}}v=BD(s,D,a,u,d,h.cases[x],k.join(""),j)|v}v&&function UD(s,a,u){s.push(a,1,u<<2|3)}(u,v,m)}function q_(s){const a=[],u=[];let d=1,h=0;const m=Fg(s=s.replace(Z0,function(v,D,A){return d="select"===A?0:1,h=parseInt(D.slice(1),10),""}));for(let v=0;v<m.length;){let D=m[v++].trim();1===d&&(D=D.replace(/\s*(?:=)?(\w+)\s*/,"$1")),D.length&&a.push(D);const A=Fg(m[v++]);a.length>u.length&&u.push(A)}return{type:d,mainBinding:h,cases:a,values:u}}function Fg(s){if(!s)return[];let a=0;const u=[],d=[],h=/[{}]/g;let m;for(h.lastIndex=0;m=h.exec(s);){const D=m.index;if("}"==m[0]){if(u.pop(),0==u.length){const A=s.substring(a,D);Z0.test(A)?d.push(q_(A)):d.push(A),a=D+1}}else{if(0==u.length){const A=s.substring(a,D);d.push(A),a=D+1}u.push("{")}}const v=s.substring(a);return d.push(v),d}function BD(s,a,u,d,h,m,v,D){const A=[],x=[],k=[];a.cases.push(m),a.create.push(A),a.remove.push(x),a.update.push(k);const X=function lf(s){const a=new la(s);return function Ru(){try{return!!(new window.DOMParser).parseFromString(kc(""),"text/html")}catch{return!1}}()?new uf(a):a}(function $m(){return void 0!==qd?qd:typeof document<"u"?document:void 0}()).getInertBodyElement(v),ce=function Wd(s){return"content"in s&&function _v(s){return s.nodeType===Node.ELEMENT_NODE&&"TEMPLATE"===s.nodeName}(s)?s.content:null}(X)||X;return ce?Kf(s,a,u,d,A,x,k,ce,h,D,0):0}function Kf(s,a,u,d,h,m,v,D,A,x,k){let j=0,X=D.firstChild;for(;X;){const ce=Df(s,u,1,null);switch(X.nodeType){case Node.ELEMENT_NODE:const Re=X,Xe=Re.tagName.toLowerCase();if(g.hasOwnProperty(Xe)){Q0(h,Vf,Xe,A,ce),s.data[ce]=Xe;const Ge=Re.attributes;for(let hn=0;hn<Ge.length;hn++){const Hr=Ge.item(hn),ii=Hr.name.toLowerCase();Hr.value.match(il)?W.hasOwnProperty(ii)&&qf(v,Hr.value,ce,Hr.name,0,w[ii]?Bc:null):aC(h,ce,Hr)}j=Kf(s,a,u,d,h,m,v,X,ce,x,k+1)|j,Zf(m,ce,k)}break;case Node.TEXT_NODE:const pt=X.textContent||"",Ot=pt.match(il);Q0(h,null,Ot?"":pt,A,ce),Zf(m,ce,k),Ot&&(j=qf(v,pt,ce,null,0,null)|j);break;case Node.COMMENT_NODE:const Jt=xD.exec(X.textContent||"");if(Jt){const hn=x[parseInt(Jt[1],10)];Q0(h,Hf,"",A,ce),Wf(s,u,d,A,hn,ce),oC(m,ce,k)}}X=X.nextSibling}return j}function Zf(s,a,u){0===u&&s.push(a)}function oC(s,a,u){0===u&&(s.push(~a),s.push(a))}function Q0(s,a,u,d,h){null!==a&&s.push(a),s.push(u,h,function ND(s,a,u){return s|a<<17|u<<1}(0,d,h))}function aC(s,a,u){s.push(a<<1|1,u.name,u.value)}function K_(s,a,u=-1){const d=nn(),h=Ie(),m=$n+s,v=vs(d.consts,a),D=Dl();d.firstCreatePass&&function PD(s,a,u,d,h,m){const v=Dl(),D=[],A=[],x=[[]];h=function z_(s,a){if(function sC(s){return-1===s}(a))return LD(s);{const u=s.indexOf(`:${a}${ql}`)+2+a.toString().length,d=s.search(new RegExp(`${ql}\\/\\*\\d+:${a}${ql}`));return LD(s.substring(u,d))}}(h,m);const k=function rC(s){return s.replace(RD," ")}(h).split(nC);for(let j=0;j<k.length;j++){let X=k[j];if(1&j){const ce=47===X.charCodeAt(0),Xe=(X.charCodeAt(ce?1:0),$n+Number.parseInt(X.substring(ce?2:1)));if(ce)x.shift(),di(Dl(),!1);else{const pt=hh(s,x[0],Xe);x.unshift([]),di(pt,!0)}}else{const ce=Fg(X);for(let Re=0;Re<ce.length;Re++){let Xe=ce[Re];if(1&Re){const pt=Xe;if("object"!=typeof pt)throw new Error(`Unable to parse ICU expression in "${h}" message.`);Wf(s,u,A,a,pt,G_(s,v,x[0],u,D,"",!0).index)}else""!==Xe&&Y0(s,v,x[0],D,A,u,Xe)}}}s.data[d]={create:D,update:A}}(d,null===D?0:D.index,h,m,v,u);const A=d.data[m],k=uv(d,D===h[mr]?null:D,h);(function $_(s,a,u,d){const h=s[ln];for(let m=0;m<a.length;m++){const v=a[m++],D=a[m],x=(v&Cr.APPEND_EAGERLY)===Cr.APPEND_EAGERLY,k=v>>>Cr.SHIFT;let j=s[k];null===j&&(j=s[k]=(v&Cr.COMMENT)===Cr.COMMENT?h.createComment(D):Rc(h,D)),x&&null!==u&&Ul(h,u,j,d,!1)}})(h,A.create,k,D&&8&D.type?h[D.index]:null),Pa(!0)}function X0(s,a,u){K_(s,a,u),function Yf(){Pa(!1)}()}function Jf(s){return function Uu(s){s&&(Rg|=1<<Math.min(rl,31)),rl++}(Ns(Ie(),Ro(),s)),Jf}function tb(s){!function j_(s,a,u){if(rl>0){const d=s.data[u];Ar(s,a,Array.isArray(d)?d:d.update,Ki()-rl-1,Rg)}Rg=0,rl=0}(nn(),Ie(),s+$n)}function Y_(s,a,u,d,h){if(s=te(s),Array.isArray(s))for(let m=0;m<s.length;m++)Y_(s[m],a,u,d,h);else{const m=nn(),v=Ie();let D=ku(s)?s:te(s.provide),A=Cv(s);const x=Pr(),k=1048575&x.providerIndexes,j=x.directiveStart,X=x.providerIndexes>>20;if(ku(s)||!s.multi){const ce=new zs(A,h,Ef),Re=J_(D,a,h?k:k+X,j);-1===Re?(qn(bd(x,v),m,D),fh(m,s,a.length),a.push(D),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),u.push(ce),v.push(ce)):(u[Re]=ce,v[Re]=ce)}else{const ce=J_(D,a,k+X,j),Re=J_(D,a,k,k+X),pt=Re>=0&&u[Re];if(h&&!pt||!h&&!(ce>=0&&u[ce])){qn(bd(x,v),m,D);const Ot=function X_(s,a,u,d,h){const m=new zs(s,u,Ef);return m.multi=[],m.index=a,m.componentProviders=0,nb(m,h,d&&!u),m}(h?ib:rb,u.length,h,d,A);!h&&pt&&(u[Re].providerFactory=Ot),fh(m,s,a.length,0),a.push(D),x.directiveStart++,x.directiveEnd++,h&&(x.providerIndexes+=1048576),u.push(Ot),v.push(Ot)}else fh(m,s,ce>-1?ce:Re,nb(u[h?Re:ce],A,!h&&d));!h&&d&&pt&&u[Re].componentProviders++}}}function fh(s,a,u,d){const h=ku(a),m=function Ym(s){return!!s.useClass}(a);if(h||m){const A=(m?te(a.useClass):a).prototype.ngOnDestroy;if(A){const x=s.destroyHooks||(s.destroyHooks=[]);if(!h&&a.multi){const k=x.indexOf(u);-1===k?x.push(u,[d,A]):x[k+1].push(d,A)}else x.push(u,A)}}}function nb(s,a,u){return u&&s.componentProviders++,s.multi.push(a)-1}function J_(s,a,u,d){for(let h=u;h<d;h++)if(a[h]===s)return h;return-1}function rb(s,a,u,d){return Q_(this.multi,[])}function ib(s,a,u,d){const h=this.multi;let m;if(this.providerFactory){const v=this.providerFactory.componentProviders,D=Fr(u,u[ft],this.providerFactory.index,d);m=D.slice(0,v),Q_(h,m);for(let A=v;A<D.length;A++)m.push(D[A])}else m=[],Q_(h,m);return m}function Q_(s,a){for(let u=0;u<s.length;u++)a.push((0,s[u])());return a}function sb(s,a=[]){return u=>{u.providersResolver=(d,h)=>function lC(s,a,u){const d=nn();if(d.firstCreatePass){const h=xi(s);Y_(u,d.data,d.blueprint,h,!0),Y_(a,d.data,d.blueprint,h,!1)}}(d,h?h(s):s,a)}}class ph{}class Wc{}function WD(s,a){return new ob(s,a??null)}class ob extends ph{constructor(a,u){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Yv(this);const d=Dr(a);this._bootstrapComponents=Hl(d.bootstrap),this._r3Injector=Bv(a,u,[{provide:ph,useValue:this},{provide:mf,useValue:this.componentFactoryResolver}],Me(a),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(a)}get injector(){return this._r3Injector}destroy(){const a=this._r3Injector;!a.destroyed&&a.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(a){this.destroyCbs.push(a)}}class ey extends Wc{constructor(a){super(),this.moduleType=a}create(a){return new ob(this.moduleType,a)}}class ty extends ph{constructor(a,u,d){super(),this.componentFactoryResolver=new Yv(this),this.instance=null;const h=new Xw([...a,{provide:ph,useValue:this},{provide:mf,useValue:this.componentFactoryResolver}],u||Qm(),d,new Set(["environment"]));this.injector=h,h.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(a){this.injector.onDestroy(a)}}function Xs(s,a,u=null){return new ty(s,a,u).injector}let KD=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const d=ff(0,u.type),h=d.length>0?Xs([d],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,h)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=Rt({token:s,providedIn:"environment",factory:()=>new s(An(Jd))}),s})();function ab(s){s.getStandaloneInjector=a=>a.get(KD).getOrCreateStandaloneInjector(s)}function Qf(s,a,u,d){return QD(Ie(),_r(),s,a,u,d)}function Bg(s,a,u,d,h){return function Ug(s,a,u,d,h,m,v){const D=a+u;return th(s,D,h,m)?jl(s,D+2,v?d.call(v,h,m):d(h,m)):ep(s,D+2)}(Ie(),_r(),s,a,u,d,h)}function ub(s,a,u,d,h,m){return function XD(s,a,u,d,h,m,v,D){const A=a+u;return function y_(s,a,u,d,h){const m=th(s,a,u,d);return Ns(s,a+2,h)||m}(s,A,h,m,v)?jl(s,A+3,D?d.call(D,h,m,v):d(h,m,v)):ep(s,A+3)}(Ie(),_r(),s,a,u,d,h,m)}function ep(s,a){const u=s[a];return u===un?void 0:u}function QD(s,a,u,d,h,m){const v=a+u;return Ns(s,v,h)?jl(s,v+1,m?d.call(m,h):d(h)):ep(s,v+1)}function db(s,a){const u=nn();let d;const h=s+$n;u.firstCreatePass?(d=function Xi(s,a){if(a)for(let u=a.length-1;u>=0;u--){const d=a[u];if(s===d.name)return d}}(a,u.pipeRegistry),u.data[h]=d,d.onDestroy&&(u.destroyHooks??(u.destroyHooks=[])).push(h,d.onDestroy)):d=u.data[h];const m=d.factory||(d.factory=ys(d.type)),v=wn(Ef);try{const D=pu(!1),A=m();return pu(D),function ZE(s,a,u,d){u>=s.data.length&&(s.data[u]=null,s.blueprint[u]=null),a[u]=d}(u,Ie(),h,A),A}finally{wn(v)}}function ju(s,a,u){const d=s+$n,h=Ie(),m=ci(h,d);return function Os(s,a){return s[ft].data[a].pure}(h,d)?QD(h,_r(),a,m.transform,u,m):m.transform(u)}function St(s){return a=>{setTimeout(s,void 0,a)}}const Nt=class fb extends l.x{constructor(a=!1){super(),this.__isAsync=a}emit(a){super.next(a)}subscribe(a,u,d){let h=a,m=u||(()=>null),v=d;if(a&&"object"==typeof a){const A=a;h=A.next?.bind(A),m=A.error?.bind(A),v=A.complete?.bind(A)}this.__isAsync&&(m=St(m),h&&(h=St(h)),v&&(v=St(v)));const D=super.subscribe({next:h,error:m,complete:v});return a instanceof B.w0&&a.add(D),D}};function mC(){return this._results[Symbol.iterator]()}class mt{get changes(){return this._changes||(this._changes=new Nt)}constructor(a=!1){this._emitDistinctChangesOnly=a,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=mt.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=mC)}get(a){return this._results[a]}map(a){return this._results.map(a)}filter(a){return this._results.filter(a)}find(a){return this._results.find(a)}reduce(a,u){return this._results.reduce(a,u)}forEach(a){this._results.forEach(a)}some(a){return this._results.some(a)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(a,u){const d=this;d.dirty=!1;const h=function Ws(s){return s.flat(Number.POSITIVE_INFINITY)}(a);(this._changesDetected=!function Sd(s,a,u){if(s.length!==a.length)return!1;for(let d=0;d<s.length;d++){let h=s[d],m=a[d];if(u&&(h=u(h),m=u(m)),m!==h)return!1}return!0}(d._results,h,u))&&(d._results=h,d.length=h.length,d.last=h[this.length-1],d.first=h[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let ye=(()=>{class s{}return s.__NG_ELEMENT_ID__=t1,s})();const He=ye,Ui=class extends He{constructor(a,u,d){super(),this._declarationLView=a,this._declarationTContainer=u,this.elementRef=d}createEmbeddedView(a,u){const d=this._declarationTContainer.tView,h=i_(this._declarationLView,d,a,16,null,d.declTNode,null,null,null,null,u||null);h[So]=this._declarationLView[this._declarationTContainer.index];const v=this._declarationLView[ns];return null!==v&&(h[ns]=v.createEmbeddedView(d)),Tf(d,h,a),new Sf(h)}};function t1(){return ay(Pr(),Ie())}function ay(s,a){return 4&s.type?new Ui(a,s,Fu(s,a)):null}let ly=(()=>{class s{}return s.__NG_ELEMENT_ID__=_C,s})();function _C(){return vC(Pr(),Ie())}const yC=ly,n1=class extends yC{constructor(a,u,d){super(),this._lContainer=a,this._hostTNode=u,this._hostLView=d}get element(){return Fu(this._hostTNode,this._hostLView)}get injector(){return new Lo(this._hostTNode,this._hostLView)}get parentInjector(){const a=$h(this._hostTNode,this._hostLView);if(La(a)){const u=Ba(a,this._hostLView),d=na(a);return new Lo(u[ft].data[d+8],u)}return new Lo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(a){const u=pb(this._lContainer);return null!==u&&u[a]||null}get length(){return this._lContainer.length-Gr}createEmbeddedView(a,u,d){let h,m;"number"==typeof d?h=d:null!=d&&(h=d.index,m=d.injector);const v=a.createEmbeddedView(u||{},m);return this.insert(v,h),v}createComponent(a,u,d,h,m){const v=a&&!function bc(s){return"function"==typeof s}(a);let D;if(v)D=u;else{const j=u||{};D=j.index,d=j.injector,h=j.projectableNodes,m=j.environmentInjector||j.ngModuleRef}const A=v?a:new gg(Bt(a)),x=d||this.parentInjector;if(!m&&null==A.ngModule){const X=(v?x:this.parentInjector).get(Jd,null);X&&(m=X)}const k=A.create(x,h,void 0,m);return this.insert(k.hostView,D),k}insert(a,u){const d=a._lView,h=d[ft];if(function su(s){return Oi(s[Yn])}(d)){const k=this.indexOf(a);if(-1!==k)this.detach(k);else{const j=d[Yn],X=new n1(j,j[mr],j[Yn]);X.detach(X.indexOf(a))}}const m=this._adjustIndex(u),v=this._lContainer;!function Au(s,a,u,d){const h=Gr+d,m=u.length;d>0&&(u[h-1][zi]=a),d<m-Gr?(a[zi]=u[h],xp(u,Gr+d,a)):(u.push(a),a[zi]=null),a[Yn]=u;const v=a[So];null!==v&&u!==v&&function av(s,a){const u=s[lo];a[rr]!==a[Yn][Yn][rr]&&(s[Xl]=!0),null===u?s[lo]=[a]:u.push(a)}(v,a);const D=a[ns];null!==D&&D.insertView(s),a[tn]|=64}(h,d,v,m);const D=Ho(m,v),A=d[ln],x=el(A,v[Ao]);return null!==x&&function Bm(s,a,u,d,h,m){d[Gi]=h,d[mr]=a,jd(s,d,u,1,h,m)}(h,v[mr],A,d,x,D),a.attachToViewContainerRef(),xp(gb(v),m,a),a}move(a,u){return this.insert(a,u)}indexOf(a){const u=pb(this._lContainer);return null!==u?u.indexOf(a):-1}remove(a){const u=this._adjustIndex(a,-1),d=Ld(this._lContainer,u);d&&(qa(gb(this._lContainer),u),ef(d[ft],d))}detach(a){const u=this._adjustIndex(a,-1),d=Ld(this._lContainer,u);return d&&null!=qa(gb(this._lContainer),u)?new Sf(d):null}_adjustIndex(a,u=0){return a??this.length+u}};function pb(s){return s[ao]}function gb(s){return s[ao]||(s[ao]=[])}function vC(s,a){let u;const d=a[s.index];if(Oi(d))u=d;else{let h;if(8&s.type)h=xr(d);else{const m=a[ln];h=m.createComment("");const v=zr(s,a);Ul(m,el(m,v),h,function Hm(s,a){return s.nextSibling(a)}(m,v),!1)}a[s.index]=u=xE(d,a,h,s),c_(a,u)}return new n1(u,s,a)}class mb{constructor(a){this.queryList=a,this.matches=null}clone(){return new mb(this.queryList)}setDirty(){this.queryList.setDirty()}}class uy{constructor(a=[]){this.queries=a}createEmbeddedView(a){const u=a.queries;if(null!==u){const d=null!==a.contentQueries?a.contentQueries[0]:u.length,h=[];for(let m=0;m<d;m++){const v=u.getByIndex(m);h.push(this.queries[v.indexInDeclarationView].clone())}return new uy(h)}return null}insertView(a){this.dirtyQueriesWithMatches(a)}detachView(a){this.dirtyQueriesWithMatches(a)}dirtyQueriesWithMatches(a){for(let u=0;u<this.queries.length;u++)null!==_b(a,u).matches&&this.queries[u].setDirty()}}class cn{constructor(a,u,d=null){this.predicate=a,this.flags=u,this.read=d}}class Zc{constructor(a=[]){this.queries=a}elementStart(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].elementStart(a,u)}elementEnd(a){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(a)}embeddedTView(a){let u=null;for(let d=0;d<this.length;d++){const h=null!==u?u.length:0,m=this.getByIndex(d).embeddedTView(a,h);m&&(m.indexInDeclarationView=d,null!==u?u.push(m):u=[m])}return null!==u?new Zc(u):null}template(a,u){for(let d=0;d<this.queries.length;d++)this.queries[d].template(a,u)}getByIndex(a){return this.queries[a]}get length(){return this.queries.length}track(a){this.queries.push(a)}}class cy{constructor(a,u=-1){this.metadata=a,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(a,u){this.isApplyingToNode(u)&&this.matchTNode(a,u)}elementEnd(a){this._declarationNodeIndex===a.index&&(this._appliesToNextNode=!1)}template(a,u){this.elementStart(a,u)}embeddedTView(a,u){return this.isApplyingToNode(a)?(this.crossesNgTemplate=!0,this.addMatch(-a.index,u),new cy(this.metadata)):null}isApplyingToNode(a){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let d=a.parent;for(;null!==d&&8&d.type&&d.index!==u;)d=d.parent;return u===(null!==d?d.index:-1)}return this._appliesToNextNode}matchTNode(a,u){const d=this.metadata.predicate;if(Array.isArray(d))for(let h=0;h<d.length;h++){const m=d[h];this.matchTNodeWithReadOption(a,u,Lr(u,m)),this.matchTNodeWithReadOption(a,u,Va(u,a,m,!1,!1))}else d===ye?4&u.type&&this.matchTNodeWithReadOption(a,u,-1):this.matchTNodeWithReadOption(a,u,Va(u,a,d,!1,!1))}matchTNodeWithReadOption(a,u,d){if(null!==d){const h=this.metadata.read;if(null!==h)if(h===_f||h===ly||h===ye&&4&u.type)this.addMatch(u.index,-2);else{const m=Va(u,a,h,!1,!1);null!==m&&this.addMatch(u.index,m)}else this.addMatch(u.index,d)}}addMatch(a,u){null===this.matches?this.matches=[a,u]:this.matches.push(a,u)}}function Lr(s,a){const u=s.localNames;if(null!==u)for(let d=0;d<u.length;d+=2)if(u[d]===a)return u[d+1];return null}function Hg(s,a,u,d){return-1===u?function Vt(s,a){return 11&s.type?Fu(s,a):4&s.type?ay(s,a):null}(a,s):-2===u?function Fn(s,a,u){return u===_f?Fu(a,s):u===ye?ay(a,s):u===ly?vC(a,s):void 0}(s,a,d):Fr(s,s[ft],u,a)}function r1(s,a,u,d){const h=a[ns].queries[d];if(null===h.matches){const m=s.data,v=u.matches,D=[];for(let A=0;A<v.length;A+=2){const x=v[A];D.push(x<0?null:Hg(a,m[x],v[A+1],u.metadata.read))}h.matches=D}return h.matches}function Br(s,a,u,d){const h=s.queries.getByIndex(u),m=h.matches;if(null!==m){const v=r1(s,a,h,u);for(let D=0;D<m.length;D+=2){const A=m[D];if(A>0)d.push(v[D/2]);else{const x=m[D+1],k=a[-A];for(let j=Gr;j<k.length;j++){const X=k[j];X[So]===X[Yn]&&Br(X[ft],X,x,d)}if(null!==k[lo]){const j=k[lo];for(let X=0;X<j.length;X++){const ce=j[X];Br(ce[ft],ce,x,d)}}}}}return d}function gt(s){const a=Ie(),u=nn(),d=lu();Cl(d+1);const h=_b(u,d);if(s.dirty&&function El(s){return 4==(4&s[tn])}(a)===(2==(2&h.metadata.flags))){if(null===h.matches)s.reset([]);else{const m=h.crossesNgTemplate?Br(u,a,d,[]):r1(u,a,h,d);s.reset(m,rg),s.notifyOnChanges()}return!0}return!1}function jg(s,a,u){const d=nn();d.firstCreatePass&&(i1(d,new cn(s,a,u),-1),2==(2&a)&&(d.staticViewQueries=!0)),$g(d,Ie(),a)}function dy(s,a,u,d){const h=nn();if(h.firstCreatePass){const m=Pr();i1(h,new cn(a,u,d),m.index),function Gg(s,a){const u=s.contentQueries||(s.contentQueries=[]);a!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,a)}(h,s),2==(2&u)&&(h.staticContentQueries=!0)}$g(h,Ie(),u)}function Yc(){return function bC(s,a){return s[ns].queries[a].queryList}(Ie(),lu())}function $g(s,a,u){const d=new mt(4==(4&u));hg(s,a,d,d.destroy),null===a[ns]&&(a[ns]=new uy),a[ns].queries.push(new mb(d))}function i1(s,a,u){null===s.queries&&(s.queries=new Zc),s.queries.track(new cy(a,u))}function _b(s,a){return s.queries.getByIndex(a)}function yb(s,a){return ay(s,a)}function tp(s){return!!Dr(s)}function cs(...s){}const y1=new In("Application Initializer");let ri=(()=>{class s{constructor(u){this.appInits=u,this.resolve=cs,this.reject=cs,this.initialized=!1,this.done=!1,this.donePromise=new Promise((d,h)=>{this.resolve=d,this.reject=h})}runInitializers(){if(this.initialized)return;const u=[],d=()=>{this.done=!0,this.resolve()};if(this.appInits)for(let h=0;h<this.appInits.length;h++){const m=this.appInits[h]();if(XE(m))u.push(m);else if(BS(m)){const v=new Promise((D,A)=>{m.subscribe({complete:D,error:A})});u.push(v)}}Promise.all(u).then(()=>{d()}).catch(h=>{this.reject(h)}),0===u.length&&d(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)(An(y1,8))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const v1=new In("AppId",{providedIn:"root",factory:function $u(){return`${ol()}${ol()}${ol()}`}});function ol(){return String.fromCharCode(97+Math.floor(25*Math.random()))}const Wg=new In("Platform Initializer"),fy=new In("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),FC=new In("AnimationModuleType");let ed=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const wh=new In("LocaleId",{providedIn:"root",factory:()=>ar(wh,oe.Optional|oe.SkipSelf)||function td(){return typeof $localize<"u"&&$localize.locale||zl}()}),nd=new In("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});class b1{constructor(a,u){this.ngModuleFactory=a,this.componentFactories=u}}let np=(()=>{class s{compileModuleSync(u){return new ey(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const d=this.compileModuleSync(u),m=Hl(Dr(u).declarations).reduce((v,D)=>{const A=Bt(D);return A&&v.push(new gg(A)),v},[]);return new b1(d,m)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();const _y=(()=>Promise.resolve(0))();function Th(s){typeof Zone>"u"?_y.then(()=>{s&&s.apply(null,null)}):Zone.current.scheduleMicroTask("scheduleMicrotask",s)}class ya{constructor({enableLongStackTrace:a=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:d=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Nt(!1),this.onMicrotaskEmpty=new Nt(!1),this.onStable=new Nt(!1),this.onError=new Nt(!1),typeof Zone>"u")throw new we(908,!1);Zone.assertZonePatched();const h=this;h._nesting=0,h._outer=h._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(h._inner=h._inner.fork(new Zone.TaskTrackingZoneSpec)),a&&Zone.longStackTraceZoneSpec&&(h._inner=h._inner.fork(Zone.longStackTraceZoneSpec)),h.shouldCoalesceEventChangeDetection=!d&&u,h.shouldCoalesceRunChangeDetection=d,h.lastRequestAnimationFrameId=-1,h.nativeRequestAnimationFrame=function w1(){let s=$t.requestAnimationFrame,a=$t.cancelAnimationFrame;if(typeof Zone<"u"&&s&&a){const u=s[Zone.__symbol__("OriginalDelegate")];u&&(s=u);const d=a[Zone.__symbol__("OriginalDelegate")];d&&(a=d)}return{nativeRequestAnimationFrame:s,nativeCancelAnimationFrame:a}}().nativeRequestAnimationFrame,function D1(s){const a=()=>{!function ds(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call($t,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,hr(s),s.isCheckStableRunning=!0,yy(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),hr(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,d,h,m,v,D)=>{try{return zu(s),u.invokeTask(h,m,v,D)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===m.type||s.shouldCoalesceRunChangeDetection)&&a(),Mb(s)}},onInvoke:(u,d,h,m,v,D,A)=>{try{return zu(s),u.invoke(h,m,v,D,A)}finally{s.shouldCoalesceRunChangeDetection&&a(),Mb(s)}},onHasTask:(u,d,h,m)=>{u.hasTask(h,m),d===h&&("microTask"==m.change?(s._hasPendingMicrotasks=m.microTask,hr(s),yy(s)):"macroTask"==m.change&&(s.hasPendingMacrotasks=m.macroTask))},onHandleError:(u,d,h,m)=>(u.handleError(h,m),s.runOutsideAngular(()=>s.onError.emit(m)),!1)})}(h)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!ya.isInAngularZone())throw new we(909,!1)}static assertNotInAngularZone(){if(ya.isInAngularZone())throw new we(909,!1)}run(a,u,d){return this._inner.run(a,u,d)}runTask(a,u,d,h){const m=this._inner,v=m.scheduleEventTask("NgZoneEvent: "+h,a,E1,cs,cs);try{return m.runTask(v,u,d)}finally{m.cancelTask(v)}}runGuarded(a,u,d){return this._inner.runGuarded(a,u,d)}runOutsideAngular(a){return this._outer.run(a)}}const E1={};function yy(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function hr(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function zu(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function Mb(s){s._nesting--,yy(s)}class T1{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Nt,this.onMicrotaskEmpty=new Nt,this.onStable=new Nt,this.onError=new Nt}run(a,u,d){return a.apply(u,d)}runGuarded(a,u,d){return a.apply(u,d)}runOutsideAngular(a){return a()}runTask(a,u,d,h){return a.apply(u,d)}}const Ih=new In(""),I1=new In("");let rd,S1=(()=>{class s{constructor(u,d,h){this._ngZone=u,this.registry=d,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,rd||(function tr(s){rd=s}(h),h.addToWindow(d)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{ya.assertNotInAngularZone(),Th(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())Th(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(d=>!d.updateCb||!d.updateCb(u)||(clearTimeout(d.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,d,h){let m=-1;d&&d>0&&(m=setTimeout(()=>{this._callbacks=this._callbacks.filter(v=>v.timeoutId!==m),u(this._didWork,this.getPendingTasks())},d)),this._callbacks.push({doneCb:u,timeoutId:m,updateCb:h})}whenStable(u,d,h){if(h&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,d,h),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,d,h){return[]}}return s.\u0275fac=function(u){return new(u||s)(An(ya),An(Nn),An(I1))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac}),s})(),Nn=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,d){this._applications.set(u,d)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,d=!0){return rd?.findTestabilityInTree(this,u,d)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const al=!1;let Kl=null;const Ob=new In("AllowMultipleToken"),Kg=new In("PlatformDestroyListeners"),xb=new In("appBootstrapListener");class VC{constructor(a,u){this.name=a,this.token=u}}function M1(s,a,u=[]){const d=`Platform: ${a}`,h=new In(d);return(m=[])=>{let v=qu();if(!v||v.injector.get(Ob,!1)){const D=[...u,...m,{provide:h,useValue:!0}];s?s(D):function HC(s){if(Kl&&!Kl.get(Ob,!1))throw new we(400,!1);Kl=s;const a=s.get(ip);(function N1(s){const a=s.get(Wg,null);a&&a.forEach(u=>u())})(s)}(function O1(s=[],a){return vf.create({name:a,providers:[{provide:Hc,useValue:"platform"},{provide:Kg,useValue:new Set([()=>Kl=null])},...s]})}(D,d))}return function $C(s){const a=qu();if(!a)throw new we(401,!1);return a}()}}function qu(){return Kl?.get(ip)??null}let ip=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,d){const h=function Yg(s,a){let u;return u="noop"===s?new T1:("zone.js"===s?void 0:s)||new ya(a),u}(d?.ngZone,function Zg(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:!(!s||!s.ngZoneEventCoalescing)||!1,shouldCoalesceRunChangeDetection:!(!s||!s.ngZoneRunCoalescing)||!1}}(d)),m=[{provide:ya,useValue:h}];return h.run(()=>{const v=vf.create({providers:m,parent:this.injector,name:u.moduleType.name}),D=u.create(v),A=D.injector.get(ig,null);if(!A)throw new we(402,!1);return h.runOutsideAngular(()=>{const x=h.onError.subscribe({next:k=>{A.handleError(k)}});D.onDestroy(()=>{Jg(this._modules,D),x.unsubscribe()})}),function Rb(s,a,u){try{const d=u();return XE(d)?d.catch(h=>{throw a.runOutsideAngular(()=>s.handleError(h)),h}):d}catch(d){throw a.runOutsideAngular(()=>s.handleError(d)),d}}(A,h,()=>{const x=D.injector.get(ri);return x.runInitializers(),x.donePromise.then(()=>(ID(D.injector.get(wh,zl)||zl),this._moduleDoBootstrap(D),D))})})}bootstrapModule(u,d=[]){const h=Pb({},d);return function C1(s,a,u){const d=new ey(u);return Promise.resolve(d)}(0,0,u).then(m=>this.bootstrapModuleFactory(m,h))}_moduleDoBootstrap(u){const d=u.injector.get(va);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(h=>d.bootstrap(h));else{if(!u.instance.ngDoBootstrap)throw new we(-403,!1);u.instance.ngDoBootstrap(d)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new we(404,!1);this._modules.slice().forEach(d=>d.destroy()),this._destroyListeners.forEach(d=>d());const u=this._injector.get(Kg,null);u&&(u.forEach(d=>d()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(An(vf))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function Pb(s,a){return Array.isArray(a)?a.reduce(Pb,s):{...s,...a}}let va=(()=>{class s{get destroyed(){return this._destroyed}get injector(){return this._injector}constructor(u,d,h){this._zone=u,this._injector=d,this._exceptionHandler=h,this._bootstrapListeners=[],this._views=[],this._runningTick=!1,this._stable=!0,this._destroyed=!1,this._destroyListeners=[],this.componentTypes=[],this.components=[],this._onMicrotaskEmptySubscription=this._zone.onMicrotaskEmpty.subscribe({next:()=>{this._zone.run(()=>{this.tick()})}});const m=new V.y(D=>{this._stable=this._zone.isStable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks,this._zone.runOutsideAngular(()=>{D.next(this._stable),D.complete()})}),v=new V.y(D=>{let A;this._zone.runOutsideAngular(()=>{A=this._zone.onStable.subscribe(()=>{ya.assertNotInAngularZone(),Th(()=>{!this._stable&&!this._zone.hasPendingMacrotasks&&!this._zone.hasPendingMicrotasks&&(this._stable=!0,D.next(!0))})})});const x=this._zone.onUnstable.subscribe(()=>{ya.assertInAngularZone(),this._stable&&(this._stable=!1,this._zone.runOutsideAngular(()=>{D.next(!1)}))});return()=>{A.unsubscribe(),x.unsubscribe()}});this.isStable=(0,_e.T)(m,v.pipe((0,fe.B)()))}bootstrap(u,d){const h=u instanceof tE;if(!this._injector.get(ri).done){!h&&Or(u);throw new we(405,al)}let v;v=h?u:this._injector.get(mf).resolveComponentFactory(u),this.componentTypes.push(v.componentType);const D=function UC(s){return s.isBoundToModule}(v)?void 0:this._injector.get(ph),x=v.create(vf.NULL,[],d||v.selector,D),k=x.location.nativeElement,j=x.injector.get(Ih,null);return j?.registerApplication(k),x.onDestroy(()=>{this.detachView(x.hostView),Jg(this.components,x),j?.unregisterApplication(k)}),this._loadComponent(x),x}tick(){if(this._runningTick)throw new we(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this._zone.runOutsideAngular(()=>this._exceptionHandler.handleError(u))}finally{this._runningTick=!1}}attachView(u){const d=u;this._views.push(d),d.attachToAppRef(this)}detachView(u){const d=u;Jg(this._views,d),d.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const d=this._injector.get(xb,[]);d.push(...this._bootstrapListeners),d.forEach(h=>h(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy()),this._onMicrotaskEmptySubscription.unsubscribe()}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>Jg(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new we(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)(An(ya),An(Jd),An(ig))},s.\u0275prov=Rt({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function Jg(s,a){const u=s.indexOf(a);u>-1&&s.splice(u,1)}function kb(){return!1}let Lb=(()=>{class s{}return s.__NG_ELEMENT_ID__=vy,s})();function vy(s){return function Qg(s,a,u){if(Yo(s)&&!u){const d=Rr(s.index,a);return new Sf(d,d)}return 47&s.type?new Sf(a[rr],a):null}(Pr(),Ie(),16==(16&s))}class jb{constructor(){}supports(a){return Bu(a)}create(a){return new JC(a)}}const Ey=(s,a)=>a;class JC{constructor(a){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=a||Ey}forEachItem(a){let u;for(u=this._itHead;null!==u;u=u._next)a(u)}forEachOperation(a){let u=this._itHead,d=this._removalsHead,h=0,m=null;for(;u||d;){const v=!d||u&&u.currentIndex<id(d,h,m)?u:d,D=id(v,h,m),A=v.currentIndex;if(v===d)h--,d=d._nextRemoved;else if(u=u._next,null==v.previousIndex)h++;else{m||(m=[]);const x=D-h,k=A-h;if(x!=k){for(let X=0;X<x;X++){const ce=X<m.length?m[X]:m[X]=0,Re=ce+X;k<=Re&&Re<x&&(m[X]=ce+1)}m[v.previousIndex]=k-x}}D!==A&&a(v,D,A)}}forEachPreviousItem(a){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachMovedItem(a){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}forEachIdentityChange(a){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)a(u)}diff(a){if(null==a&&(a=[]),!Bu(a))throw new we(900,!1);return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let h,m,v,u=this._itHead,d=!1;if(Array.isArray(a)){this.length=a.length;for(let D=0;D<this.length;D++)m=a[D],v=this._trackByFn(D,m),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,m,v,D)),Object.is(u.item,m)||this._addIdentityChange(u,m)):(u=this._mismatch(u,m,v,D),d=!0),u=u._next}else h=0,function CS(s,a){if(Array.isArray(s))for(let u=0;u<s.length;u++)a(s[u]);else{const u=s[Symbol.iterator]();let d;for(;!(d=u.next()).done;)a(d.value)}}(a,D=>{v=this._trackByFn(h,D),null!==u&&Object.is(u.trackById,v)?(d&&(u=this._verifyReinsertion(u,D,v,h)),Object.is(u.item,D)||this._addIdentityChange(u,D)):(u=this._mismatch(u,D,v,h),d=!0),u=u._next,h++}),this.length=h;return this._truncate(u),this.collection=a,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let a;for(a=this._previousItHead=this._itHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._additionsHead;null!==a;a=a._nextAdded)a.previousIndex=a.currentIndex;for(this._additionsHead=this._additionsTail=null,a=this._movesHead;null!==a;a=a._nextMoved)a.previousIndex=a.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(a,u,d,h){let m;return null===a?m=this._itTail:(m=a._prev,this._remove(a)),null!==(a=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._reinsertAfter(a,m,h)):null!==(a=null===this._linkedRecords?null:this._linkedRecords.get(d,h))?(Object.is(a.item,u)||this._addIdentityChange(a,u),this._moveAfter(a,m,h)):a=this._addAfter(new QC(u,d),m,h),a}_verifyReinsertion(a,u,d,h){let m=null===this._unlinkedRecords?null:this._unlinkedRecords.get(d,null);return null!==m?a=this._reinsertAfter(m,a._prev,h):a.currentIndex!=h&&(a.currentIndex=h,this._addToMoves(a,h)),a}_truncate(a){for(;null!==a;){const u=a._next;this._addToRemovals(this._unlink(a)),a=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(a,u,d){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(a);const h=a._prevRemoved,m=a._nextRemoved;return null===h?this._removalsHead=m:h._nextRemoved=m,null===m?this._removalsTail=h:m._prevRemoved=h,this._insertAfter(a,u,d),this._addToMoves(a,d),a}_moveAfter(a,u,d){return this._unlink(a),this._insertAfter(a,u,d),this._addToMoves(a,d),a}_addAfter(a,u,d){return this._insertAfter(a,u,d),this._additionsTail=null===this._additionsTail?this._additionsHead=a:this._additionsTail._nextAdded=a,a}_insertAfter(a,u,d){const h=null===u?this._itHead:u._next;return a._next=h,a._prev=u,null===h?this._itTail=a:h._prev=a,null===u?this._itHead=a:u._next=a,null===this._linkedRecords&&(this._linkedRecords=new Ch),this._linkedRecords.put(a),a.currentIndex=d,a}_remove(a){return this._addToRemovals(this._unlink(a))}_unlink(a){null!==this._linkedRecords&&this._linkedRecords.remove(a);const u=a._prev,d=a._next;return null===u?this._itHead=d:u._next=d,null===d?this._itTail=u:d._prev=u,a}_addToMoves(a,u){return a.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=a:this._movesTail._nextMoved=a),a}_addToRemovals(a){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Ch),this._unlinkedRecords.put(a),a.currentIndex=null,a._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=a,a._prevRemoved=null):(a._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=a),a}_addIdentityChange(a,u){return a.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=a:this._identityChangesTail._nextIdentityChange=a,a}}class QC{constructor(a,u){this.item=a,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class L1{constructor(){this._head=null,this._tail=null}add(a){null===this._head?(this._head=this._tail=a,a._nextDup=null,a._prevDup=null):(this._tail._nextDup=a,a._prevDup=this._tail,a._nextDup=null,this._tail=a)}get(a,u){let d;for(d=this._head;null!==d;d=d._nextDup)if((null===u||u<=d.currentIndex)&&Object.is(d.trackById,a))return d;return null}remove(a){const u=a._prevDup,d=a._nextDup;return null===u?this._head=d:u._nextDup=d,null===d?this._tail=u:d._prevDup=u,null===this._head}}class Ch{constructor(){this.map=new Map}put(a){const u=a.trackById;let d=this.map.get(u);d||(d=new L1,this.map.set(u,d)),d.add(a)}get(a,u){const h=this.map.get(a);return h?h.get(a,u):null}remove(a){const u=a.trackById;return this.map.get(u).remove(a)&&this.map.delete(u),a}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function id(s,a,u){const d=s.previousIndex;if(null===d)return d;let h=0;return u&&d<u.length&&(h=u[d]),d+a+h}class $b{constructor(){}supports(a){return a instanceof Map||s0(a)}create(){return new Ah}}class Ah{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(a){let u;for(u=this._mapHead;null!==u;u=u._next)a(u)}forEachPreviousItem(a){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)a(u)}forEachChangedItem(a){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)a(u)}forEachAddedItem(a){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)a(u)}forEachRemovedItem(a){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)a(u)}diff(a){if(a){if(!(a instanceof Map||s0(a)))throw new we(900,!1)}else a=new Map;return this.check(a)?this:null}onDestroy(){}check(a){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(a,(d,h)=>{if(u&&u.key===h)this._maybeAddToChanges(u,d),this._appendAfter=u,u=u._next;else{const m=this._getOrCreateRecordForKey(h,d);u=this._insertBeforeOrAppend(u,m)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let d=u;null!==d;d=d._nextRemoved)d===this._mapHead&&(this._mapHead=null),this._records.delete(d.key),d._nextRemoved=d._next,d.previousValue=d.currentValue,d.currentValue=null,d._prev=null,d._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(a,u){if(a){const d=a._prev;return u._next=a,u._prev=d,a._prev=u,d&&(d._next=u),a===this._mapHead&&(this._mapHead=u),this._appendAfter=a,a}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(a,u){if(this._records.has(a)){const h=this._records.get(a);this._maybeAddToChanges(h,u);const m=h._prev,v=h._next;return m&&(m._next=v),v&&(v._prev=m),h._next=null,h._prev=null,h}const d=new B1(a);return this._records.set(a,d),d.currentValue=u,this._addToAdditions(d),d}_reset(){if(this.isDirty){let a;for(this._previousMapHead=this._mapHead,a=this._previousMapHead;null!==a;a=a._next)a._nextPrevious=a._next;for(a=this._changesHead;null!==a;a=a._nextChanged)a.previousValue=a.currentValue;for(a=this._additionsHead;null!=a;a=a._nextAdded)a.previousValue=a.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(a,u){Object.is(u,a.currentValue)||(a.previousValue=a.currentValue,a.currentValue=u,this._addToChanges(a))}_addToAdditions(a){null===this._additionsHead?this._additionsHead=this._additionsTail=a:(this._additionsTail._nextAdded=a,this._additionsTail=a)}_addToChanges(a){null===this._changesHead?this._changesHead=this._changesTail=a:(this._changesTail._nextChanged=a,this._changesTail=a)}_forEach(a,u){a instanceof Map?a.forEach(u):Object.keys(a).forEach(d=>u(a[d],d))}}class B1{constructor(a){this.key=a,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Nh(){return new Dy([new jb])}let Dy=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(null!=d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||Nh()),deps:[[s,new Pt,new Du]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(null!=d)return d;throw new we(901,!1)}}return s.\u0275prov=Rt({token:s,providedIn:"root",factory:Nh}),s})();function op(){return new Gb([new $b])}let Gb=(()=>{class s{constructor(u){this.factories=u}static create(u,d){if(d){const h=d.factories.slice();u=u.concat(h)}return new s(u)}static extend(u){return{provide:s,useFactory:d=>s.create(u,d||op()),deps:[[s,new Pt,new Du]]}}find(u){const d=this.factories.find(h=>h.supports(u));if(d)return d;throw new we(901,!1)}}return s.\u0275prov=Rt({token:s,providedIn:"root",factory:op}),s})();const U1=M1(null,"core",[]);let tA=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(An(va))},s.\u0275mod=re({type:s}),s.\u0275inj=mn({}),s})();function em(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function Wb(s,a){const u=Bt(s),d=a.elementInjector||Qm();return new gg(u).create(d,a.projectableNodes,a.hostElement,a.environmentInjector)}},1321:()=>{"use strict";const xt=":";class Ct extends Error{constructor(ee){super(`No translation found for ${bn(ee)}.`),this.parsedMessage=ee,this.type="MissingTranslationError"}}const jt=function(se,...ee){if(jt.translate){const oe=jt.translate(se,ee);se=oe[0],ee=oe[1]}let he=nr(se[0],se.raw[0]);for(let oe=1;oe<se.length;oe++)he+=ee[oe-1]+nr(se[oe],se.raw[oe]);return he},wr=":";function nr(se,ee){return ee.charAt(0)===wr?se.substring(function Qe(se,ee){for(let he=1,oe=1;he<se.length;he++,oe++)if("\\"===ee[oe])oe++;else if(se[he]===xt)return he;throw new Error(`Unterminated $localize metadata block in "${ee}".`)}(se,ee)+1):se}(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)().$localize=jt},3942:(xt,ge,U)=>{"use strict";U.d(ge,{Z:()=>it});var l=U(2090),B=U(4859),V=U(6881),_e=U(1877);class fe{constructor(we,Le){this._delegate=we,this.firebase=Le,(0,V._addComponent)(we,new B.wA("app-compat",()=>this,"PUBLIC")),this.container=we.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(we){this._delegate.automaticDataCollectionEnabled=we}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(we=>{this._delegate.checkDestroyed(),we()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,V.deleteApp)(this._delegate)))}_getService(we,Le=V._DEFAULT_ENTRY_NAME){var Se;this._delegate.checkDestroyed();const Ze=this._delegate.container.getProvider(we);return!Ze.isInitialized()&&"EXPLICIT"===(null===(Se=Ze.getComponent())||void 0===Se?void 0:Se.instantiationMode)&&Ze.initialize(),Ze.getImmediate({identifier:Le})}_removeServiceInstance(we,Le=V._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(we).clearInstance(Le)}_addComponent(we){(0,V._addComponent)(this._delegate,we)}_addOrOverwriteComponent(we){(0,V._addOrOverwriteComponent)(this._delegate,we)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const be=new l.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),Z=function Te(){const ht=function Me(ht){const we={},Le={__esModule:!0,initializeApp:function $e(Ve,yt={}){const le=V.initializeApp(Ve,yt);if((0,l.r3)(we,le.name))return we[le.name];const Mt=new ht(le,Le);return we[le.name]=Mt,Mt},app:Ze,registerVersion:V.registerVersion,setLogLevel:V.setLogLevel,onLog:V.onLog,apps:null,SDK_VERSION:V.SDK_VERSION,INTERNAL:{registerComponent:function Pe(Ve){const yt=Ve.name,le=yt.replace("-compat","");if(V._registerComponent(Ve)&&"PUBLIC"===Ve.type){const Mt=(st=Ze())=>{if("function"!=typeof st[le])throw be.create("invalid-app-argument",{appName:yt});return st[le]()};void 0!==Ve.serviceProps&&(0,l.ZB)(Mt,Ve.serviceProps),Le[le]=Mt,ht.prototype[le]=function(...st){return this._getService.bind(this,yt).apply(this,Ve.multipleInstances?st:[])}}return"PUBLIC"===Ve.type?Le[le]:null},removeApp:function Se(Ve){delete we[Ve]},useAsService:function rt(Ve,yt){return"serverAuth"===yt?null:yt},modularAPIs:V}};function Ze(Ve){if(!(0,l.r3)(we,Ve=Ve||V._DEFAULT_ENTRY_NAME))throw be.create("no-app",{appName:Ve});return we[Ve]}return Le.default=Le,Object.defineProperty(Le,"apps",{get:function Ne(){return Object.keys(we).map(Ve=>we[Ve])}}),Ze.App=ht,Le}(fe);return ht.INTERNAL=Object.assign(Object.assign({},ht.INTERNAL),{createFirebaseNamespace:Te,extendNamespace:function we(Le){(0,l.ZB)(ht,Le)},createSubscribe:l.ne,ErrorFactory:l.LL,deepExtend:l.ZB}),ht}(),K=new _e.Yd("@firebase/app-compat");if((0,l.jU)()&&void 0!==self.firebase){K.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const ht=self.firebase.SDK_VERSION;ht&&ht.indexOf("LITE")>=0&&K.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const it=Z;!function Fe(ht){(0,V.registerVersion)("@firebase/app-compat","0.2.9",ht)}()},6881:(xt,ge,U)=>{"use strict";U.r(ge),U.d(ge,{FirebaseError:()=>_e.ZR,SDK_VERSION:()=>gs,_DEFAULT_ENTRY_NAME:()=>rn,_addComponent:()=>_t,_addOrOverwriteComponent:()=>nt,_apps:()=>$t,_clearComponents:()=>Tn,_components:()=>_n,_getProvider:()=>zn,_registerComponent:()=>$r,_removeServiceInstance:()=>Qn,deleteApp:()=>yi,getApp:()=>ms,getApps:()=>An,initializeApp:()=>vn,onLog:()=>ai,registerVersion:()=>Er,setLogLevel:()=>Zn});var l=U(5861),B=U(4859),V=U(1877),_e=U(2090);const fe=(ve,re)=>re.some(ze=>ve instanceof ze);let de,be;const Z=new WeakMap,K=new WeakMap,te=new WeakMap,et=new WeakMap,Fe=new WeakMap;let we={get(ve,re,ze){if(ve instanceof IDBTransaction){if("done"===re)return K.get(ve);if("objectStoreNames"===re)return ve.objectStoreNames||te.get(ve);if("store"===re)return ze.objectStoreNames[1]?void 0:ze.objectStore(ze.objectStoreNames[0])}return $e(ve[re])},set:(ve,re,ze)=>(ve[re]=ze,!0),has:(ve,re)=>ve instanceof IDBTransaction&&("done"===re||"store"===re)||re in ve};function Ze(ve){return"function"==typeof ve?function Se(ve){return ve!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function Te(){return be||(be=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(ve)?function(...re){return ve.apply(Ne(this),re),$e(Z.get(this))}:function(...re){return $e(ve.apply(Ne(this),re))}:function(re,...ze){const Lt=ve.call(Ne(this),re,...ze);return te.set(Lt,re.sort?re.sort():[re]),$e(Lt)}}(ve):(ve instanceof IDBTransaction&&function ht(ve){if(K.has(ve))return;const re=new Promise((ze,Lt)=>{const Gt=()=>{ve.removeEventListener("complete",an),ve.removeEventListener("error",Bt),ve.removeEventListener("abort",Bt)},an=()=>{ze(),Gt()},Bt=()=>{Lt(ve.error||new DOMException("AbortError","AbortError")),Gt()};ve.addEventListener("complete",an),ve.addEventListener("error",Bt),ve.addEventListener("abort",Bt)});K.set(ve,re)}(ve),fe(ve,function Me(){return de||(de=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(ve,we):ve)}function $e(ve){if(ve instanceof IDBRequest)return function it(ve){const re=new Promise((ze,Lt)=>{const Gt=()=>{ve.removeEventListener("success",an),ve.removeEventListener("error",Bt)},an=()=>{ze($e(ve.result)),Gt()},Bt=()=>{Lt(ve.error),Gt()};ve.addEventListener("success",an),ve.addEventListener("error",Bt)});return re.then(ze=>{ze instanceof IDBCursor&&Z.set(ze,ve)}).catch(()=>{}),Fe.set(re,ve),re}(ve);if(et.has(ve))return et.get(ve);const re=Ze(ve);return re!==ve&&(et.set(ve,re),Fe.set(re,ve)),re}const Ne=ve=>Fe.get(ve),Ve=["get","getKey","getAll","getAllKeys","count"],yt=["put","add","delete","clear"],le=new Map;function Mt(ve,re){if(!(ve instanceof IDBDatabase)||re in ve||"string"!=typeof re)return;if(le.get(re))return le.get(re);const ze=re.replace(/FromIndex$/,""),Lt=re!==ze,Gt=yt.includes(ze);if(!(ze in(Lt?IDBIndex:IDBObjectStore).prototype)||!Gt&&!Ve.includes(ze))return;const an=function(){var Bt=(0,l.Z)(function*(Cn,...Dn){const Or=this.transaction(Cn,Gt?"readwrite":"readonly");let Dr=Or.store;return Lt&&(Dr=Dr.index(Dn.shift())),(yield Promise.all([Dr[ze](...Dn),Gt&&Or.done]))[0]});return function(Dn){return Bt.apply(this,arguments)}}();return le.set(re,an),an}!function Le(ve){we=ve(we)}(ve=>({...ve,get:(re,ze,Lt)=>Mt(re,ze)||ve.get(re,ze,Lt),has:(re,ze)=>!!Mt(re,ze)||ve.has(re,ze)}));class st{constructor(re){this.container=re}getPlatformInfoString(){return this.container.getProviders().map(ze=>{if(function on(ve){return"VERSION"===ve.getComponent()?.type}(ze)){const Lt=ze.getImmediate();return`${Lt.library}/${Lt.version}`}return null}).filter(ze=>ze).join(" ")}}const bt="@firebase/app",Ce=new V.Yd("@firebase/app"),rn="[DEFAULT]",fn={[bt]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},$t=new Map,_n=new Map;function _t(ve,re){try{ve.container.addComponent(re)}catch(ze){Ce.debug(`Component ${re.name} failed to register with FirebaseApp ${ve.name}`,ze)}}function nt(ve,re){ve.container.addOrOverwriteComponent(re)}function $r(ve){const re=ve.name;if(_n.has(re))return Ce.debug(`There were multiple attempts to register component ${re}.`),!1;_n.set(re,ve);for(const ze of $t.values())_t(ze,ve);return!0}function zn(ve,re){const ze=ve.container.getProvider("heartbeat").getImmediate({optional:!0});return ze&&ze.triggerHeartbeat(),ve.container.getProvider(re)}function Qn(ve,re,ze=rn){zn(ve,re).clearInstance(ze)}function Tn(){_n.clear()}const or=new _e.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class On{constructor(re,ze,Lt){this._isDeleted=!1,this._options=Object.assign({},re),this._config=Object.assign({},ze),this._name=ze.name,this._automaticDataCollectionEnabled=ze.automaticDataCollectionEnabled,this._container=Lt,this.container.addComponent(new B.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(re){this.checkDestroyed(),this._automaticDataCollectionEnabled=re}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(re){this._isDeleted=re}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const gs="9.21.0";function vn(ve,re={}){let ze=ve;"object"!=typeof re&&(re={name:re});const Lt=Object.assign({name:rn,automaticDataCollectionEnabled:!1},re),Gt=Lt.name;if("string"!=typeof Gt||!Gt)throw or.create("bad-app-name",{appName:String(Gt)});if(ze||(ze=(0,_e.aH)()),!ze)throw or.create("no-options");const an=$t.get(Gt);if(an){if((0,_e.vZ)(ze,an.options)&&(0,_e.vZ)(Lt,an.config))return an;throw or.create("duplicate-app",{appName:Gt})}const Bt=new B.H0(Gt);for(const Dn of _n.values())Bt.addComponent(Dn);const Cn=new On(ze,Lt,Bt);return $t.set(Gt,Cn),Cn}function ms(ve=rn){const re=$t.get(ve);if(!re&&ve===rn)return vn();if(!re)throw or.create("no-app",{appName:ve});return re}function An(){return Array.from($t.values())}function yi(ve){return ar.apply(this,arguments)}function ar(){return(ar=(0,l.Z)(function*(ve){const re=ve.name;$t.has(re)&&($t.delete(re),yield Promise.all(ve.container.getProviders().map(ze=>ze.delete())),ve.isDeleted=!0)})).apply(this,arguments)}function Er(ve,re,ze){var Lt;let Gt=null!==(Lt=fn[ve])&&void 0!==Lt?Lt:ve;ze&&(Gt+=`-${ze}`);const an=Gt.match(/\s|\//),Bt=re.match(/\s|\//);if(an||Bt){const Cn=[`Unable to register library "${Gt}" with version "${re}":`];return an&&Cn.push(`library name "${Gt}" contains illegal characters (whitespace or "/")`),an&&Bt&&Cn.push("and"),Bt&&Cn.push(`version name "${re}" contains illegal characters (whitespace or "/")`),void Ce.warn(Cn.join(" "))}$r(new B.wA(`${Gt}-version`,()=>({library:Gt,version:re}),"VERSION"))}function ai(ve,re){if(null!==ve&&"function"!=typeof ve)throw or.create("invalid-log-argument");(0,V.Am)(ve,re)}function Zn(ve){(0,V.Ub)(ve)}const ts="firebase-heartbeat-database",vi=1,q="firebase-heartbeat-store";let $=null;function Q(){return $||($=function Pe(ve,re,{blocked:ze,upgrade:Lt,blocking:Gt,terminated:an}={}){const Bt=indexedDB.open(ve,re),Cn=$e(Bt);return Lt&&Bt.addEventListener("upgradeneeded",Dn=>{Lt($e(Bt.result),Dn.oldVersion,Dn.newVersion,$e(Bt.transaction),Dn)}),ze&&Bt.addEventListener("blocked",Dn=>ze(Dn.oldVersion,Dn.newVersion,Dn)),Cn.then(Dn=>{an&&Dn.addEventListener("close",()=>an()),Gt&&Dn.addEventListener("versionchange",Or=>Gt(Or.oldVersion,Or.newVersion,Or))}).catch(()=>{}),Cn}(ts,vi,{upgrade:(ve,re)=>{0===re&&ve.createObjectStore(q)}}).catch(ve=>{throw or.create("idb-open",{originalErrorMessage:ve.message})})),$}function ue(){return(ue=(0,l.Z)(function*(ve){try{return(yield Q()).transaction(q).objectStore(q).get(En(ve))}catch(re){if(re instanceof _e.ZR)Ce.warn(re.message);else{const ze=or.create("idb-get",{originalErrorMessage:re?.message});Ce.warn(ze.message)}}})).apply(this,arguments)}function We(ve,re){return Wt.apply(this,arguments)}function Wt(){return(Wt=(0,l.Z)(function*(ve,re){try{const Lt=(yield Q()).transaction(q,"readwrite");return yield Lt.objectStore(q).put(re,En(ve)),Lt.done}catch(ze){if(ze instanceof _e.ZR)Ce.warn(ze.message);else{const Lt=or.create("idb-set",{originalErrorMessage:ze?.message});Ce.warn(Lt.message)}}})).apply(this,arguments)}function En(ve){return`${ve.name}!${ve.options.appId}`}class xn{constructor(re){this.container=re,this._heartbeatsCache=null;const ze=this.container.getProvider("app").getImmediate();this._storage=new Ai(ze),this._heartbeatsCachePromise=this._storage.read().then(Lt=>(this._heartbeatsCache=Lt,Lt))}triggerHeartbeat(){var re=this;return(0,l.Z)(function*(){const Lt=re.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),Gt=yn();if(null===re._heartbeatsCache&&(re._heartbeatsCache=yield re._heartbeatsCachePromise),re._heartbeatsCache.lastSentHeartbeatDate!==Gt&&!re._heartbeatsCache.heartbeats.some(an=>an.date===Gt))return re._heartbeatsCache.heartbeats.push({date:Gt,agent:Lt}),re._heartbeatsCache.heartbeats=re._heartbeatsCache.heartbeats.filter(an=>{const Bt=new Date(an.date).valueOf();return Date.now()-Bt<=2592e6}),re._storage.overwrite(re._heartbeatsCache)})()}getHeartbeatsHeader(){var re=this;return(0,l.Z)(function*(){if(null===re._heartbeatsCache&&(yield re._heartbeatsCachePromise),null===re._heartbeatsCache||0===re._heartbeatsCache.heartbeats.length)return"";const ze=yn(),{heartbeatsToSend:Lt,unsentEntries:Gt}=function li(ve,re=1024){const ze=[];let Lt=ve.slice();for(const Gt of ve){const an=ze.find(Bt=>Bt.agent===Gt.agent);if(an){if(an.dates.push(Gt.date),bi(ze)>re){an.dates.pop();break}}else if(ze.push({agent:Gt.agent,dates:[Gt.date]}),bi(ze)>re){ze.pop();break}Lt=Lt.slice(1)}return{heartbeatsToSend:ze,unsentEntries:Lt}}(re._heartbeatsCache.heartbeats),an=(0,_e.L)(JSON.stringify({version:2,heartbeats:Lt}));return re._heartbeatsCache.lastSentHeartbeatDate=ze,Gt.length>0?(re._heartbeatsCache.heartbeats=Gt,yield re._storage.overwrite(re._heartbeatsCache)):(re._heartbeatsCache.heartbeats=[],re._storage.overwrite(re._heartbeatsCache)),an})()}}function yn(){return(new Date).toISOString().substring(0,10)}class Ai{constructor(re){this.app=re,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,l.Z)(function*(){return!!(0,_e.hl)()&&(0,_e.eu)().then(()=>!0).catch(()=>!1)})()}read(){var re=this;return(0,l.Z)(function*(){return(yield re._canUseIndexedDBPromise)&&(yield function Oe(ve){return ue.apply(this,arguments)}(re.app))||{heartbeats:[]}})()}overwrite(re){var ze=this;return(0,l.Z)(function*(){var Lt;if(yield ze._canUseIndexedDBPromise){const an=yield ze.read();return We(ze.app,{lastSentHeartbeatDate:null!==(Lt=re.lastSentHeartbeatDate)&&void 0!==Lt?Lt:an.lastSentHeartbeatDate,heartbeats:re.heartbeats})}})()}add(re){var ze=this;return(0,l.Z)(function*(){var Lt;if(yield ze._canUseIndexedDBPromise){const an=yield ze.read();return We(ze.app,{lastSentHeartbeatDate:null!==(Lt=re.lastSentHeartbeatDate)&&void 0!==Lt?Lt:an.lastSentHeartbeatDate,heartbeats:[...an.heartbeats,...re.heartbeats]})}})()}}function bi(ve){return(0,_e.L)(JSON.stringify({version:2,heartbeats:ve})).length}!function Zo(ve){$r(new B.wA("platform-logger",re=>new st(re),"PRIVATE")),$r(new B.wA("heartbeat",re=>new xn(re),"PRIVATE")),Er(bt,"0.9.9",ve),Er(bt,"0.9.9","esm2017"),Er("fire-js","")}("")},4859:(xt,ge,U)=>{"use strict";U.d(ge,{H0:()=>Me,wA:()=>V});var l=U(5861),B=U(2090);class V{constructor(Z,K,te){this.name=Z,this.instanceFactory=K,this.type=te,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(Z){return this.instantiationMode=Z,this}setMultipleInstances(Z){return this.multipleInstances=Z,this}setServiceProps(Z){return this.serviceProps=Z,this}setInstanceCreatedCallback(Z){return this.onInstanceCreated=Z,this}}const _e="[DEFAULT]";class fe{constructor(Z,K){this.name=Z,this.container=K,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(Z){const K=this.normalizeInstanceIdentifier(Z);if(!this.instancesDeferred.has(K)){const te=new B.BH;if(this.instancesDeferred.set(K,te),this.isInitialized(K)||this.shouldAutoInitialize())try{const et=this.getOrInitializeService({instanceIdentifier:K});et&&te.resolve(et)}catch{}}return this.instancesDeferred.get(K).promise}getImmediate(Z){var K;const te=this.normalizeInstanceIdentifier(Z?.identifier),et=null!==(K=Z?.optional)&&void 0!==K&&K;if(!this.isInitialized(te)&&!this.shouldAutoInitialize()){if(et)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:te})}catch(Fe){if(et)return null;throw Fe}}getComponent(){return this.component}setComponent(Z){if(Z.name!==this.name)throw Error(`Mismatching Component ${Z.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=Z,this.shouldAutoInitialize()){if(function be(Te){return"EAGER"===Te.instantiationMode}(Z))try{this.getOrInitializeService({instanceIdentifier:_e})}catch{}for(const[K,te]of this.instancesDeferred.entries()){const et=this.normalizeInstanceIdentifier(K);try{const Fe=this.getOrInitializeService({instanceIdentifier:et});te.resolve(Fe)}catch{}}}}clearInstance(Z=_e){this.instancesDeferred.delete(Z),this.instancesOptions.delete(Z),this.instances.delete(Z)}delete(){var Z=this;return(0,l.Z)(function*(){const K=Array.from(Z.instances.values());yield Promise.all([...K.filter(te=>"INTERNAL"in te).map(te=>te.INTERNAL.delete()),...K.filter(te=>"_delete"in te).map(te=>te._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(Z=_e){return this.instances.has(Z)}getOptions(Z=_e){return this.instancesOptions.get(Z)||{}}initialize(Z={}){const{options:K={}}=Z,te=this.normalizeInstanceIdentifier(Z.instanceIdentifier);if(this.isInitialized(te))throw Error(`${this.name}(${te}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const et=this.getOrInitializeService({instanceIdentifier:te,options:K});for(const[Fe,it]of this.instancesDeferred.entries())te===this.normalizeInstanceIdentifier(Fe)&&it.resolve(et);return et}onInit(Z,K){var te;const et=this.normalizeInstanceIdentifier(K),Fe=null!==(te=this.onInitCallbacks.get(et))&&void 0!==te?te:new Set;Fe.add(Z),this.onInitCallbacks.set(et,Fe);const it=this.instances.get(et);return it&&Z(it,et),()=>{Fe.delete(Z)}}invokeOnInitCallbacks(Z,K){const te=this.onInitCallbacks.get(K);if(te)for(const et of te)try{et(Z,K)}catch{}}getOrInitializeService({instanceIdentifier:Z,options:K={}}){let te=this.instances.get(Z);if(!te&&this.component&&(te=this.component.instanceFactory(this.container,{instanceIdentifier:(Te=Z,Te===_e?void 0:Te),options:K}),this.instances.set(Z,te),this.instancesOptions.set(Z,K),this.invokeOnInitCallbacks(te,Z),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,Z,te)}catch{}var Te;return te||null}normalizeInstanceIdentifier(Z=_e){return this.component?this.component.multipleInstances?Z:_e:Z}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Me{constructor(Z){this.name=Z,this.providers=new Map}addComponent(Z){const K=this.getProvider(Z.name);if(K.isComponentSet())throw new Error(`Component ${Z.name} has already been registered with ${this.name}`);K.setComponent(Z)}addOrOverwriteComponent(Z){this.getProvider(Z.name).isComponentSet()&&this.providers.delete(Z.name),this.addComponent(Z)}getProvider(Z){if(this.providers.has(Z))return this.providers.get(Z);const K=new fe(Z,this);return this.providers.set(Z,K),K}getProviders(){return Array.from(this.providers.values())}}},1877:(xt,ge,U)=>{"use strict";U.d(ge,{Am:()=>Te,Ub:()=>Me,Yd:()=>be,in:()=>B});const l=[];var B=(()=>{return(Z=B||(B={}))[Z.DEBUG=0]="DEBUG",Z[Z.VERBOSE=1]="VERBOSE",Z[Z.INFO=2]="INFO",Z[Z.WARN=3]="WARN",Z[Z.ERROR=4]="ERROR",Z[Z.SILENT=5]="SILENT",B;var Z})();const V={debug:B.DEBUG,verbose:B.VERBOSE,info:B.INFO,warn:B.WARN,error:B.ERROR,silent:B.SILENT},_e=B.INFO,fe={[B.DEBUG]:"log",[B.VERBOSE]:"log",[B.INFO]:"info",[B.WARN]:"warn",[B.ERROR]:"error"},de=(Z,K,...te)=>{if(K<Z.logLevel)return;const et=(new Date).toISOString(),Fe=fe[K];if(!Fe)throw new Error(`Attempted to log a message with an invalid logType (value: ${K})`);console[Fe](`[${et}]  ${Z.name}:`,...te)};class be{constructor(K){this.name=K,this._logLevel=_e,this._logHandler=de,this._userLogHandler=null,l.push(this)}get logLevel(){return this._logLevel}set logLevel(K){if(!(K in B))throw new TypeError(`Invalid value "${K}" assigned to \`logLevel\``);this._logLevel=K}setLogLevel(K){this._logLevel="string"==typeof K?V[K]:K}get logHandler(){return this._logHandler}set logHandler(K){if("function"!=typeof K)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=K}get userLogHandler(){return this._userLogHandler}set userLogHandler(K){this._userLogHandler=K}debug(...K){this._userLogHandler&&this._userLogHandler(this,B.DEBUG,...K),this._logHandler(this,B.DEBUG,...K)}log(...K){this._userLogHandler&&this._userLogHandler(this,B.VERBOSE,...K),this._logHandler(this,B.VERBOSE,...K)}info(...K){this._userLogHandler&&this._userLogHandler(this,B.INFO,...K),this._logHandler(this,B.INFO,...K)}warn(...K){this._userLogHandler&&this._userLogHandler(this,B.WARN,...K),this._logHandler(this,B.WARN,...K)}error(...K){this._userLogHandler&&this._userLogHandler(this,B.ERROR,...K),this._logHandler(this,B.ERROR,...K)}}function Me(Z){l.forEach(K=>{K.setLogLevel(Z)})}function Te(Z,K){for(const te of l){let et=null;K&&K.level&&(et=V[K.level]),te.userLogHandler=null===Z?null:(Fe,it,...ht)=>{const we=ht.map(Le=>{if(null==Le)return null;if("string"==typeof Le)return Le;if("number"==typeof Le||"boolean"==typeof Le)return Le.toString();if(Le instanceof Error)return Le.message;try{return JSON.stringify(Le)}catch{return null}}).filter(Le=>Le).join(" ");it>=(et??Fe.logLevel)&&Z({level:B[it].toLowerCase(),message:we,args:ht,type:Fe.name})}}}},259:(xt,ge,U)=>{"use strict";U.d(ge,{C6:()=>l.getApps,Mq:()=>l.getApp});var l=U(6881);(0,l.registerVersion)("firebase","9.21.0","app")},9260:(xt,ge,U)=>{"use strict";U.d(ge,{Z:()=>l.Z});var l=U(3942);l.Z.registerVersion("firebase","9.21.0","app-compat")},3042:(xt,ge,U)=>{"use strict";U.r(ge);var l=U(5861),B=U(3942),V=U(2090),_e=U(6881),fe=U(655),de=U(1877),be=U(4859);const Te={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},te_EMAIL_SIGNIN="EMAIL_SIGNIN",te_PASSWORD_RESET="PASSWORD_RESET",te_RECOVER_EMAIL="RECOVER_EMAIL",te_REVERT_SECOND_FACTOR_ADDITION="REVERT_SECOND_FACTOR_ADDITION",te_VERIFY_AND_CHANGE_EMAIL="VERIFY_AND_CHANGE_EMAIL",te_VERIFY_EMAIL="VERIFY_EMAIL";const it=function et(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend."}},ht=function Fe(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},we=new V.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Se=new de.Yd("@firebase/auth");function $e(y,...p){Se.logLevel<=de.in.ERROR&&Se.error(`Auth (${_e.SDK_VERSION}): ${y}`,...p)}function Ne(y,...p){throw yt(y,...p)}function Pe(y,...p){return yt(y,...p)}function rt(y,p,g){const w=Object.assign(Object.assign({},ht()),{[p]:g});return new V.LL("auth","Firebase",w).create(p,{appName:y.name})}function Ve(y,p,g){if(!(p instanceof g))throw g.name!==p.constructor.name&&Ne(y,"argument-error"),rt(y,"argument-error",`Type of ${p.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function yt(y,...p){if("string"!=typeof y){const g=p[0],w=[...p.slice(1)];return w[0]&&(w[0].appName=y.name),y._errorFactory.create(g,...w)}return we.create(y,...p)}function le(y,p,...g){if(!y)throw yt(p,...g)}function Mt(y){const p="INTERNAL ASSERTION FAILED: "+y;throw $e(p),new Error(p)}function st(y,p){y||Mt(p)}function on(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.href)||""}function bt(){return"http:"===Ee()||"https:"===Ee()}function Ee(){var y;return typeof self<"u"&&(null===(y=self.location)||void 0===y?void 0:y.protocol)||null}class Be{constructor(p,g){this.shortDelay=p,this.longDelay=g,st(g>p,"Short delay should be less than long delay!"),this.isMobile=(0,V.uI)()||(0,V.b$)()}get(){return function Ce(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(bt()||(0,V.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function tt(y,p){st(y.emulator,"Emulator should always be set here");const{url:g}=y.emulator;return p?`${g}${p.startsWith("/")?p.slice(1):p}`:g}class Qe{static initialize(p,g,w){this.fetchImpl=p,g&&(this.headersImpl=g),w&&(this.responseImpl=w)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void Mt("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void Mt("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void Mt("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Ct={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},Tt=new Be(3e4,6e4);function Kt(y,p){return y.tenantId&&!p.tenantId?Object.assign(Object.assign({},p),{tenantId:y.tenantId}):p}function ut(y,p,g,w){return Ht.apply(this,arguments)}function Ht(){return(Ht=(0,l.Z)(function*(y,p,g,w,N={}){return Rt(y,N,(0,l.Z)(function*(){let P={},W={};w&&("GET"===p?W=w:P={body:JSON.stringify(w)});const ie=(0,V.xO)(Object.assign({key:y.config.apiKey},W)).slice(1),je=yield y._getAdditionalHeaders();return je["Content-Type"]="application/json",y.languageCode&&(je["X-Firebase-Locale"]=y.languageCode),Qe.fetch()(Mr(y,y.config.apiHost,g,ie),Object.assign({method:p,headers:je,referrerPolicy:"no-referrer"},P))}))})).apply(this,arguments)}function Rt(y,p,g){return bn.apply(this,arguments)}function bn(){return(bn=(0,l.Z)(function*(y,p,g){y._canInitEmulator=!1;const w=Object.assign(Object.assign({},Ct),p);try{const N=new jr(y),P=yield Promise.race([g(),N.promise]);N.clearNetworkTimeout();const W=yield P.json();if("needConfirmation"in W)throw jt(y,"account-exists-with-different-credential",W);if(P.ok&&!("errorMessage"in W))return W;{const ie=P.ok?W.errorMessage:W.error.message,[je,at]=ie.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===je)throw jt(y,"credential-already-in-use",W);if("EMAIL_EXISTS"===je)throw jt(y,"email-already-in-use",W);if("USER_DISABLED"===je)throw jt(y,"user-disabled",W);const wt=w[je]||je.toLowerCase().replace(/[_\s]+/g,"-");if(at)throw rt(y,wt,at);Ne(y,wt)}}catch(N){if(N instanceof V.ZR)throw N;Ne(y,"network-request-failed",{message:String(N)})}})).apply(this,arguments)}function mn(y,p,g,w){return Hn.apply(this,arguments)}function Hn(){return(Hn=(0,l.Z)(function*(y,p,g,w,N={}){const P=yield ut(y,p,g,w,N);return"mfaPendingCredential"in P&&Ne(y,"multi-factor-auth-required",{_serverResponse:P}),P})).apply(this,arguments)}function Mr(y,p,g,w){const N=`${p}${g}?${w}`;return y.config.emulator?tt(y.config,N):`${y.config.apiScheme}://${N}`}class jr{constructor(p){this.auth=p,this.timer=null,this.promise=new Promise((g,w)=>{this.timer=setTimeout(()=>w(Pe(this.auth,"network-request-failed")),Tt.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function jt(y,p,g){const w={appName:y.name};g.email&&(w.email=g.email),g.phoneNumber&&(w.phoneNumber=g.phoneNumber);const N=Pe(y,p,w);return N.customData._tokenResponse=g,N}function nr(){return(nr=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:delete",p)})).apply(this,arguments)}function ee(){return(ee=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function oe(){return(oe=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:lookup",p)})).apply(this,arguments)}function Je(y){if(y)try{const p=new Date(Number(y));if(!isNaN(p.getTime()))return p.toUTCString()}catch{}}function rn(){return(rn=(0,l.Z)(function*(y,p=!1){const g=(0,V.m9)(y),w=yield g.getIdToken(p),N=$t(w);le(N&&N.exp&&N.auth_time&&N.iat,g.auth,"internal-error");const P="object"==typeof N.firebase?N.firebase:void 0,W=P?.sign_in_provider;return{claims:N,token:w,authTime:Je(fn(N.auth_time)),issuedAtTime:Je(fn(N.iat)),expirationTime:Je(fn(N.exp)),signInProvider:W||null,signInSecondFactor:P?.sign_in_second_factor||null}})).apply(this,arguments)}function fn(y){return 1e3*Number(y)}function $t(y){const[p,g,w]=y.split(".");if(void 0===p||void 0===g||void 0===w)return $e("JWT malformed, contained fewer than 3 sections"),null;try{const N=(0,V.tV)(g);return N?JSON.parse(N):($e("Failed to decode base64 JWT payload"),null)}catch(N){return $e("Caught error parsing JWT payload as JSON",N?.toString()),null}}function _t(y,p){return nt.apply(this,arguments)}function nt(){return(nt=(0,l.Z)(function*(y,p,g=!1){if(g)return p;try{return yield p}catch(w){throw w instanceof V.ZR&&function $r({code:y}){return"auth/user-disabled"===y||"auth/user-token-expired"===y}(w)&&y.auth.currentUser===y&&(yield y.auth.signOut()),w}})).apply(this,arguments)}class zn{constructor(p){this.user=p,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(p){var g;if(p){const w=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),w}{this.errorBackoff=3e4;const N=(null!==(g=this.user.stsTokenManager.expirationTime)&&void 0!==g?g:0)-Date.now()-3e5;return Math.max(0,N)}}schedule(p=!1){var g=this;if(!this.isRunning)return;const w=this.getInterval(p);this.timerId=setTimeout((0,l.Z)(function*(){yield g.iteration()}),w)}iteration(){var p=this;return(0,l.Z)(function*(){try{yield p.user.getIdToken(!0)}catch(g){return void("auth/network-request-failed"===g?.code&&p.schedule(!0))}p.schedule()})()}}class Qn{constructor(p,g){this.createdAt=p,this.lastLoginAt=g,this._initializeTime()}_initializeTime(){this.lastSignInTime=Je(this.lastLoginAt),this.creationTime=Je(this.createdAt)}_copy(p){this.createdAt=p.createdAt,this.lastLoginAt=p.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function Tn(y){return kn.apply(this,arguments)}function kn(){return kn=(0,l.Z)(function*(y){var p;const g=y.auth,w=yield y.getIdToken(),N=yield _t(y,function he(y,p){return oe.apply(this,arguments)}(g,{idToken:w}));le(N?.users.length,g,"internal-error");const P=N.users[0];y._notifyReloadListener(P);const W=null!==(p=P.providerUserInfo)&&void 0!==p&&p.length?function vn(y){return y.map(p=>{var{providerId:g}=p,w=(0,fe._T)(p,["providerId"]);return{providerId:g,uid:w.rawId||"",displayName:w.displayName||null,email:w.email||null,phoneNumber:w.phoneNumber||null,photoURL:w.photoUrl||null}})}(P.providerUserInfo):[],ie=function gs(y,p){return[...y.filter(w=>!p.some(N=>N.providerId===w.providerId)),...p]}(y.providerData,W),wt=!!y.isAnonymous&&!(y.email&&P.passwordHash||ie?.length),It={uid:P.localId,displayName:P.displayName||null,photoURL:P.photoUrl||null,email:P.email||null,emailVerified:P.emailVerified||!1,phoneNumber:P.phoneNumber||null,tenantId:P.tenantId||null,providerData:ie,metadata:new Qn(P.createdAt,P.lastLoginAt),isAnonymous:wt};Object.assign(y,It)}),kn.apply(this,arguments)}function On(){return(On=(0,l.Z)(function*(y){const p=(0,V.m9)(y);yield Tn(p),yield p.auth._persistUserIfCurrent(p),p.auth._notifyListenersIfCurrent(p)})).apply(this,arguments)}function An(){return(An=(0,l.Z)(function*(y,p){const g=yield Rt(y,{},(0,l.Z)(function*(){const w=(0,V.xO)({grant_type:"refresh_token",refresh_token:p}).slice(1),{tokenApiHost:N,apiKey:P}=y.config,W=Mr(y,N,"/v1/token",`key=${P}`),ie=yield y._getAdditionalHeaders();return ie["Content-Type"]="application/x-www-form-urlencoded",Qe.fetch()(W,{method:"POST",headers:ie,body:w})}));return{accessToken:g.access_token,expiresIn:g.expires_in,refreshToken:g.refresh_token}})).apply(this,arguments)}class yi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(p){le(p.idToken,"internal-error"),le(typeof p.idToken<"u","internal-error"),le(typeof p.refreshToken<"u","internal-error");const g="expiresIn"in p&&typeof p.expiresIn<"u"?Number(p.expiresIn):function _n(y){const p=$t(y);return le(p,"internal-error"),le(typeof p.exp<"u","internal-error"),le(typeof p.iat<"u","internal-error"),Number(p.exp)-Number(p.iat)}(p.idToken);this.updateTokensAndExpiration(p.idToken,p.refreshToken,g)}getToken(p,g=!1){var w=this;return(0,l.Z)(function*(){return le(!w.accessToken||w.refreshToken,p,"user-token-expired"),g||!w.accessToken||w.isExpired?w.refreshToken?(yield w.refresh(p,w.refreshToken),w.accessToken):null:w.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(p,g){var w=this;return(0,l.Z)(function*(){const{accessToken:N,refreshToken:P,expiresIn:W}=yield function ms(y,p){return An.apply(this,arguments)}(p,g);w.updateTokensAndExpiration(N,P,Number(W))})()}updateTokensAndExpiration(p,g,w){this.refreshToken=g||null,this.accessToken=p||null,this.expirationTime=Date.now()+1e3*w}static fromJSON(p,g){const{refreshToken:w,accessToken:N,expirationTime:P}=g,W=new yi;return w&&(le("string"==typeof w,"internal-error",{appName:p}),W.refreshToken=w),N&&(le("string"==typeof N,"internal-error",{appName:p}),W.accessToken=N),P&&(le("number"==typeof P,"internal-error",{appName:p}),W.expirationTime=P),W}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(p){this.accessToken=p.accessToken,this.refreshToken=p.refreshToken,this.expirationTime=p.expirationTime}_clone(){return Object.assign(new yi,this.toJSON())}_performRefresh(){return Mt("not implemented")}}function ar(y,p){le("string"==typeof y||typeof y>"u","internal-error",{appName:p})}class Er{constructor(p){var{uid:g,auth:w,stsTokenManager:N}=p,P=(0,fe._T)(p,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new zn(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=g,this.auth=w,this.stsTokenManager=N,this.accessToken=N.accessToken,this.displayName=P.displayName||null,this.email=P.email||null,this.emailVerified=P.emailVerified||!1,this.phoneNumber=P.phoneNumber||null,this.photoURL=P.photoURL||null,this.isAnonymous=P.isAnonymous||!1,this.tenantId=P.tenantId||null,this.providerData=P.providerData?[...P.providerData]:[],this.metadata=new Qn(P.createdAt||void 0,P.lastLoginAt||void 0)}getIdToken(p){var g=this;return(0,l.Z)(function*(){const w=yield _t(g,g.stsTokenManager.getToken(g.auth,p));return le(w,g.auth,"internal-error"),g.accessToken!==w&&(g.accessToken=w,yield g.auth._persistUserIfCurrent(g),g.auth._notifyListenersIfCurrent(g)),w})()}getIdTokenResult(p){return function wn(y){return rn.apply(this,arguments)}(this,p)}reload(){return function or(y){return On.apply(this,arguments)}(this)}_assign(p){this!==p&&(le(this.uid===p.uid,this.auth,"internal-error"),this.displayName=p.displayName,this.photoURL=p.photoURL,this.email=p.email,this.emailVerified=p.emailVerified,this.phoneNumber=p.phoneNumber,this.isAnonymous=p.isAnonymous,this.tenantId=p.tenantId,this.providerData=p.providerData.map(g=>Object.assign({},g)),this.metadata._copy(p.metadata),this.stsTokenManager._assign(p.stsTokenManager))}_clone(p){const g=new Er(Object.assign(Object.assign({},this),{auth:p,stsTokenManager:this.stsTokenManager._clone()}));return g.metadata._copy(this.metadata),g}_onReload(p){le(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=p,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(p){this.reloadListener?this.reloadListener(p):this.reloadUserInfo=p}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(p,g=!1){var w=this;return(0,l.Z)(function*(){let N=!1;p.idToken&&p.idToken!==w.stsTokenManager.accessToken&&(w.stsTokenManager.updateFromServerResponse(p),N=!0),g&&(yield Tn(w)),yield w.auth._persistUserIfCurrent(w),N&&w.auth._notifyListenersIfCurrent(w)})()}delete(){var p=this;return(0,l.Z)(function*(){const g=yield p.getIdToken();return yield _t(p,function wr(y,p){return nr.apply(this,arguments)}(p.auth,{idToken:g})),p.stsTokenManager.clearRefreshToken(),p.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(p=>Object.assign({},p)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(p,g){var w,N,P,W,ie,je,at,wt;const It=null!==(w=g.displayName)&&void 0!==w?w:void 0,cr=null!==(N=g.email)&&void 0!==N?N:void 0,ua=null!==(P=g.phoneNumber)&&void 0!==P?P:void 0,Wd=null!==(W=g.photoURL)&&void 0!==W?W:void 0,_v=null!==(ie=g.tenantId)&&void 0!==ie?ie:void 0,br=null!==(je=g._redirectEventId)&&void 0!==je?je:void 0,Km=null!==(at=g.createdAt)&&void 0!==at?at:void 0,Zm=null!==(wt=g.lastLoginAt)&&void 0!==wt?wt:void 0,{uid:Kd,emailVerified:Zd,isAnonymous:Qs,providerData:cf,stsTokenManager:Vc}=g;le(Kd&&Vc,p,"internal-error");const yv=yi.fromJSON(this.name,Vc);le("string"==typeof Kd,p,"internal-error"),ar(It,p.name),ar(cr,p.name),le("boolean"==typeof Zd,p,"internal-error"),le("boolean"==typeof Qs,p,"internal-error"),ar(ua,p.name),ar(Wd,p.name),ar(_v,p.name),ar(br,p.name),ar(Km,p.name),ar(Zm,p.name);const df=new Er({uid:Kd,auth:p,email:cr,emailVerified:Zd,displayName:It,isAnonymous:Qs,photoURL:Wd,phoneNumber:ua,tenantId:_v,stsTokenManager:yv,createdAt:Km,lastLoginAt:Zm});return cf&&Array.isArray(cf)&&(df.providerData=cf.map(vv=>Object.assign({},vv))),br&&(df._redirectEventId=br),df}static _fromIdTokenResponse(p,g,w=!1){return(0,l.Z)(function*(){const N=new yi;N.updateFromServerResponse(g);const P=new Er({uid:g.localId,auth:p,stsTokenManager:N,isAnonymous:w});return yield Tn(P),P})()}}const ai=new Map;function Zn(y){st(y instanceof Function,"Expected a class definition");let p=ai.get(y);return p?(st(p instanceof y,"Instance stored in cache mismatched with class"),p):(p=new y,ai.set(y,p),p)}const vi=(()=>{class y{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,l.Z)(function*(){return!0})()}_set(g,w){var N=this;return(0,l.Z)(function*(){N.storage[g]=w})()}_get(g){var w=this;return(0,l.Z)(function*(){const N=w.storage[g];return void 0===N?null:N})()}_remove(g){var w=this;return(0,l.Z)(function*(){delete w.storage[g]})()}_addListener(g,w){}_removeListener(g,w){}}return y.type="NONE",y})();function q(y,p,g){return`firebase:${y}:${p}:${g}`}class ${constructor(p,g,w){this.persistence=p,this.auth=g,this.userKey=w;const{config:N,name:P}=this.auth;this.fullUserKey=q(this.userKey,N.apiKey,P),this.fullPersistenceKey=q("persistence",N.apiKey,P),this.boundEventHandler=g._onStorageEvent.bind(g),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(p){return this.persistence._set(this.fullUserKey,p.toJSON())}getCurrentUser(){var p=this;return(0,l.Z)(function*(){const g=yield p.persistence._get(p.fullUserKey);return g?Er._fromJSON(p.auth,g):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(p){var g=this;return(0,l.Z)(function*(){if(g.persistence===p)return;const w=yield g.getCurrentUser();return yield g.removeCurrentUser(),g.persistence=p,w?g.setCurrentUser(w):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(p,g,w="authUser"){return(0,l.Z)(function*(){if(!g.length)return new $(Zn(vi),p,w);const N=(yield Promise.all(g.map(function(){var at=(0,l.Z)(function*(wt){if(yield wt._isAvailable())return wt});return function(wt){return at.apply(this,arguments)}}()))).filter(at=>at);let P=N[0]||Zn(vi);const W=q(w,p.config.apiKey,p.name);let ie=null;for(const at of g)try{const wt=yield at._get(W);if(wt){const It=Er._fromJSON(p,wt);at!==P&&(ie=It),P=at;break}}catch{}const je=N.filter(at=>at._shouldAllowMigration);return P._shouldAllowMigration&&je.length?(P=je[0],ie&&(yield P._set(W,ie.toJSON())),yield Promise.all(g.map(function(){var at=(0,l.Z)(function*(wt){if(wt!==P)try{yield wt._remove(W)}catch{}});return function(wt){return at.apply(this,arguments)}}())),new $(P,p,w)):new $(P,p,w)})()}}function Q(y){const p=y.toLowerCase();if(p.includes("opera/")||p.includes("opr/")||p.includes("opios/"))return"Opera";if(Wt(p))return"IEMobile";if(p.includes("msie")||p.includes("trident/"))return"IE";if(p.includes("edge/"))return"Edge";if(Oe(p))return"Firefox";if(p.includes("silk/"))return"Silk";if(gr(p))return"Blackberry";if(Xn(p))return"Webos";if(ue(p))return"Safari";if((p.includes("chrome/")||We(p))&&!p.includes("edge/"))return"Chrome";if(En(p))return"Android";{const w=y.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===w?.length)return w[1]}return"Other"}function Oe(y=(0,V.z$)()){return/firefox\//i.test(y)}function ue(y=(0,V.z$)()){const p=y.toLowerCase();return p.includes("safari/")&&!p.includes("chrome/")&&!p.includes("crios/")&&!p.includes("android")}function We(y=(0,V.z$)()){return/crios\//i.test(y)}function Wt(y=(0,V.z$)()){return/iemobile/i.test(y)}function En(y=(0,V.z$)()){return/android/i.test(y)}function gr(y=(0,V.z$)()){return/blackberry/i.test(y)}function Xn(y=(0,V.z$)()){return/webos/i.test(y)}function xn(y=(0,V.z$)()){return/iphone|ipad|ipod/i.test(y)||/macintosh/i.test(y)&&/mobile/i.test(y)}function bi(y=(0,V.z$)()){return xn(y)||En(y)||Xn(y)||gr(y)||/windows phone/i.test(y)||Wt(y)}function ve(y,p=[]){let g;switch(y){case"Browser":g=Q((0,V.z$)());break;case"Worker":g=`${Q((0,V.z$)())}-${y}`;break;default:g=y}const w=p.length?p.join(","):"FirebaseCore-web";return`${g}/JsCore/${_e.SDK_VERSION}/${w}`}function ze(){return(ze=(0,l.Z)(function*(y){return(yield ut(y,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""})).apply(this,arguments)}function Lt(y,p){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,l.Z)(function*(y,p){return ut(y,"GET","/v2/recaptchaConfig",Kt(y,p))})).apply(this,arguments)}function an(y){return void 0!==y&&void 0!==y.getResponse}function Bt(y){return void 0!==y&&void 0!==y.enterprise}class Cn{constructor(p){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===p.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=p.recaptchaKey.split("/")[3],this.emailPasswordEnabled=p.recaptchaEnforcementState.some(g=>"EMAIL_PASSWORD_PROVIDER"===g.provider&&"OFF"!==g.enforcementState)}}function Or(y){return new Promise((p,g)=>{const w=document.createElement("script");w.setAttribute("src",y),w.onload=p,w.onerror=N=>{const P=Pe("internal-error");P.customData=N,g(P)},w.type="text/javascript",w.charset="UTF-8",function Dn(){var y,p;return null!==(p=null===(y=document.getElementsByTagName("head"))||void 0===y?void 0:y[0])&&void 0!==p?p:document}().appendChild(w)})}function Dr(y){return`__${y}${Math.floor(1e6*Math.random())}`}const To="NO_RECAPTCHA";class Gi{constructor(p){this.type="recaptcha-enterprise",this.auth=Rn(p)}verify(p="verify",g=!1){var w=this;return(0,l.Z)(function*(){function P(){return P=(0,l.Z)(function*(ie){if(!g){if(null==ie.tenantId&&null!=ie._agentRecaptchaConfig)return ie._agentRecaptchaConfig.siteKey;if(null!=ie.tenantId&&void 0!==ie._tenantRecaptchaConfigs[ie.tenantId])return ie._tenantRecaptchaConfigs[ie.tenantId].siteKey}return new Promise(function(){var je=(0,l.Z)(function*(at,wt){Lt(ie,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(It=>{if(void 0!==It.recaptchaKey){const cr=new Cn(It);return null==ie.tenantId?ie._agentRecaptchaConfig=cr:ie._tenantRecaptchaConfigs[ie.tenantId]=cr,at(cr.siteKey)}wt(new Error("recaptcha Enterprise site key undefined"))}).catch(It=>{wt(It)})});return function(at,wt){return je.apply(this,arguments)}}())}),P.apply(this,arguments)}function W(ie,je,at){const wt=window.grecaptcha;Bt(wt)?wt.enterprise.ready(()=>{wt.enterprise.execute(ie,{action:p}).then(It=>{je(It)}).catch(()=>{je(To)})}):at(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((ie,je)=>{(function N(ie){return P.apply(this,arguments)})(w.auth).then(at=>{if(!g&&Bt(window.grecaptcha))W(at,ie,je);else{if(typeof window>"u")return void je(new Error("RecaptchaVerifier is only supported in browser"));Or("https://www.google.com/recaptcha/enterprise.js?render="+at).then(()=>{W(at,ie,je)}).catch(wt=>{je(wt)})}}).catch(at=>{je(at)})})})()}}function ft(y,p,g){return tn.apply(this,arguments)}function tn(){return(tn=(0,l.Z)(function*(y,p,g,w=!1){const N=new Gi(y);let P;try{P=yield N.verify(g)}catch{P=yield N.verify(g,!0)}const W=Object.assign({},p);return Object.assign(W,w?{captchaResp:P}:{captchaResponse:P}),Object.assign(W,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(W,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),W})).apply(this,arguments)}class Yn{constructor(p){this.auth=p,this.queue=[]}pushCallback(p,g){const w=P=>new Promise((W,ie)=>{try{W(p(P))}catch(je){ie(je)}});w.onAbort=g,this.queue.push(w);const N=this.queue.length-1;return()=>{this.queue[N]=()=>Promise.resolve()}}runMiddleware(p){var g=this;return(0,l.Z)(function*(){if(g.auth.currentUser===p)return;const w=[];try{for(const N of g.queue)yield N(p),N.onAbort&&w.push(N.onAbort)}catch(N){w.reverse();for(const P of w)try{P()}catch{}throw g.auth._errorFactory.create("login-blocked",{originalMessage:N?.message})}})()}}class zi{constructor(p,g,w,N){this.app=p,this.heartbeatServiceProvider=g,this.appCheckServiceProvider=w,this.config=N,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new mr(this),this.idTokenSubscription=new mr(this),this.beforeStateQueue=new Yn(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=we,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=p.name,this.clientVersion=N.sdkClientVersion}_initializeWithPersistence(p,g){var w=this;return g&&(this._popupRedirectResolver=Zn(g)),this._initializationPromise=this.queue((0,l.Z)(function*(){var N,P;if(!w._deleted&&(w.persistenceManager=yield $.create(w,p),!w._deleted)){if(null!==(N=w._popupRedirectResolver)&&void 0!==N&&N._shouldInitProactively)try{yield w._popupRedirectResolver._initialize(w)}catch{}yield w.initializeCurrentUser(g),w.lastNotifiedUid=(null===(P=w.currentUser)||void 0===P?void 0:P.uid)||null,!w._deleted&&(w._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var p=this;return(0,l.Z)(function*(){if(p._deleted)return;const g=yield p.assertedPersistence.getCurrentUser();if(p.currentUser||g){if(p.currentUser&&g&&p.currentUser.uid===g.uid)return p._currentUser._assign(g),void(yield p.currentUser.getIdToken());yield p._updateCurrentUser(g,!0)}})()}initializeCurrentUser(p){var g=this;return(0,l.Z)(function*(){var w;const N=yield g.assertedPersistence.getCurrentUser();let P=N,W=!1;if(p&&g.config.authDomain){yield g.getOrInitRedirectPersistenceManager();const ie=null===(w=g.redirectUser)||void 0===w?void 0:w._redirectEventId,je=P?._redirectEventId,at=yield g.tryRedirectSignIn(p);(!ie||ie===je)&&at?.user&&(P=at.user,W=!0)}if(!P)return g.directlySetCurrentUser(null);if(!P._redirectEventId){if(W)try{yield g.beforeStateQueue.runMiddleware(P)}catch(ie){P=N,g._popupRedirectResolver._overrideRedirectResult(g,()=>Promise.reject(ie))}return P?g.reloadAndSetCurrentUserOrClear(P):g.directlySetCurrentUser(null)}return le(g._popupRedirectResolver,g,"argument-error"),yield g.getOrInitRedirectPersistenceManager(),g.redirectUser&&g.redirectUser._redirectEventId===P._redirectEventId?g.directlySetCurrentUser(P):g.reloadAndSetCurrentUserOrClear(P)})()}tryRedirectSignIn(p){var g=this;return(0,l.Z)(function*(){let w=null;try{w=yield g._popupRedirectResolver._completeRedirectFn(g,p,!0)}catch{yield g._setRedirectUser(null)}return w})()}reloadAndSetCurrentUserOrClear(p){var g=this;return(0,l.Z)(function*(){try{yield Tn(p)}catch(w){if("auth/network-request-failed"!==w?.code)return g.directlySetCurrentUser(null)}return g.directlySetCurrentUser(p)})()}useDeviceLanguage(){this.languageCode=function ke(){if(typeof navigator>"u")return null;const y=navigator;return y.languages&&y.languages[0]||y.language||null}()}_delete(){var p=this;return(0,l.Z)(function*(){p._deleted=!0})()}updateCurrentUser(p){var g=this;return(0,l.Z)(function*(){const w=p?(0,V.m9)(p):null;return w&&le(w.auth.config.apiKey===g.config.apiKey,g,"invalid-user-token"),g._updateCurrentUser(w&&w._clone(g))})()}_updateCurrentUser(p,g=!1){var w=this;return(0,l.Z)(function*(){if(!w._deleted)return p&&le(w.tenantId===p.tenantId,w,"tenant-id-mismatch"),g||(yield w.beforeStateQueue.runMiddleware(p)),w.queue((0,l.Z)(function*(){yield w.directlySetCurrentUser(p),w.notifyAuthListeners()}))})()}signOut(){var p=this;return(0,l.Z)(function*(){return yield p.beforeStateQueue.runMiddleware(null),(p.redirectPersistenceManager||p._popupRedirectResolver)&&(yield p._setRedirectUser(null)),p._updateCurrentUser(null,!0)})()}setPersistence(p){var g=this;return this.queue((0,l.Z)(function*(){yield g.assertedPersistence.setPersistence(Zn(p))}))}initializeRecaptchaConfig(){var p=this;return(0,l.Z)(function*(){const g=yield Lt(p,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),w=new Cn(g);null==p.tenantId?p._agentRecaptchaConfig=w:p._tenantRecaptchaConfigs[p.tenantId]=w,w.emailPasswordEnabled&&new Gi(p).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(p){this._errorFactory=new V.LL("auth","Firebase",p())}onAuthStateChanged(p,g,w){return this.registerStateListener(this.authStateSubscription,p,g,w)}beforeAuthStateChanged(p,g){return this.beforeStateQueue.pushCallback(p,g)}onIdTokenChanged(p,g,w){return this.registerStateListener(this.idTokenSubscription,p,g,w)}toJSON(){var p;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(p=this._currentUser)||void 0===p?void 0:p.toJSON()}}_setRedirectUser(p,g){var w=this;return(0,l.Z)(function*(){const N=yield w.getOrInitRedirectPersistenceManager(g);return null===p?N.removeCurrentUser():N.setCurrentUser(p)})()}getOrInitRedirectPersistenceManager(p){var g=this;return(0,l.Z)(function*(){if(!g.redirectPersistenceManager){const w=p&&Zn(p)||g._popupRedirectResolver;le(w,g,"argument-error"),g.redirectPersistenceManager=yield $.create(g,[Zn(w._redirectPersistence)],"redirectUser"),g.redirectUser=yield g.redirectPersistenceManager.getCurrentUser()}return g.redirectPersistenceManager})()}_redirectUserForId(p){var g=this;return(0,l.Z)(function*(){var w,N;return g._isInitialized&&(yield g.queue((0,l.Z)(function*(){}))),(null===(w=g._currentUser)||void 0===w?void 0:w._redirectEventId)===p?g._currentUser:(null===(N=g.redirectUser)||void 0===N?void 0:N._redirectEventId)===p?g.redirectUser:null})()}_persistUserIfCurrent(p){var g=this;return(0,l.Z)(function*(){if(p===g.currentUser)return g.queue((0,l.Z)(function*(){return g.directlySetCurrentUser(p)}))})()}_notifyListenersIfCurrent(p){p===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var p,g;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const w=null!==(g=null===(p=this.currentUser)||void 0===p?void 0:p.uid)&&void 0!==g?g:null;this.lastNotifiedUid!==w&&(this.lastNotifiedUid=w,this.authStateSubscription.next(this.currentUser))}registerStateListener(p,g,w,N){if(this._deleted)return()=>{};const P="function"==typeof g?g:g.next.bind(g),W=this._isInitialized?Promise.resolve():this._initializationPromise;return le(W,this,"internal-error"),W.then(()=>P(this.currentUser)),"function"==typeof g?p.addObserver(g,w,N):p.addObserver(g)}directlySetCurrentUser(p){var g=this;return(0,l.Z)(function*(){g.currentUser&&g.currentUser!==p&&g._currentUser._stopProactiveRefresh(),p&&g.isProactiveRefreshEnabled&&p._startProactiveRefresh(),g.currentUser=p,p?yield g.assertedPersistence.setCurrentUser(p):yield g.assertedPersistence.removeCurrentUser()})()}queue(p){return this.operations=this.operations.then(p,p),this.operations}get assertedPersistence(){return le(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(p){!p||this.frameworks.includes(p)||(this.frameworks.push(p),this.frameworks.sort(),this.clientVersion=ve(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var p=this;return(0,l.Z)(function*(){var g;const w={"X-Client-Version":p.clientVersion};p.app.options.appId&&(w["X-Firebase-gmpid"]=p.app.options.appId);const N=yield null===(g=p.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getHeartbeatsHeader();N&&(w["X-Firebase-Client"]=N);const P=yield p._getAppCheckToken();return P&&(w["X-Firebase-AppCheck"]=P),w})()}_getAppCheckToken(){var p=this;return(0,l.Z)(function*(){var g;const w=yield null===(g=p.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===g?void 0:g.getToken();return w?.error&&function Ze(y,...p){Se.logLevel<=de.in.WARN&&Se.warn(`Auth (${_e.SDK_VERSION}): ${y}`,...p)}(`Error while retrieving App Check token: ${w.error}`),w?.token})()}}function Rn(y){return(0,V.m9)(y)}class mr{constructor(p){this.auth=p,this.observer=null,this.addObserver=(0,V.ne)(g=>this.observer=g)}get next(){return le(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}function ur(y){const p=y.indexOf(":");return p<0?"":y.substr(0,p+1)}function Sa(y){if(!y)return null;const p=Number(y);return isNaN(p)?null:p}class _s{constructor(p,g){this.providerId=p,this.signInMethod=g}toJSON(){return Mt("not implemented")}_getIdTokenResponse(p){return Mt("not implemented")}_linkToIdToken(p,g){return Mt("not implemented")}_getReauthenticationResolver(p){return Mt("not implemented")}}function Io(y,p){return rr.apply(this,arguments)}function rr(){return(rr=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:resetPassword",Kt(y,p))})).apply(this,arguments)}function So(y,p){return ks.apply(this,arguments)}function ks(){return(ks=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Co(){return(Co=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:update",Kt(y,p))})).apply(this,arguments)}function jn(y,p){return $n.apply(this,arguments)}function $n(){return($n=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPassword",Kt(y,p))})).apply(this,arguments)}function Ni(y,p){return Fs.apply(this,arguments)}function Fs(){return(Fs=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:sendOobCode",Kt(y,p))})).apply(this,arguments)}function Ao(){return(Ao=(0,l.Z)(function*(y,p){return Ni(y,p)})).apply(this,arguments)}function ao(y,p){return lo.apply(this,arguments)}function lo(){return(lo=(0,l.Z)(function*(y,p){return Ni(y,p)})).apply(this,arguments)}function Gr(y,p){return gl.apply(this,arguments)}function gl(){return(gl=(0,l.Z)(function*(y,p){return Ni(y,p)})).apply(this,arguments)}function Oi(){return(Oi=(0,l.Z)(function*(y,p){return Ni(y,p)})).apply(this,arguments)}function Yo(){return(Yo=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}function xi(){return(xi=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithEmailLink",Kt(y,p))})).apply(this,arguments)}class ml extends _s{constructor(p,g,w,N=null){super("password",w),this._email=p,this._password=g,this._tenantId=N}static _fromEmailAndPassword(p,g){return new ml(p,g,"password")}static _fromEmailAndCode(p,g,w=null){return new ml(p,g,"emailLink",w)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p;if(g?.email&&g?.password){if("password"===g.signInMethod)return this._fromEmailAndPassword(g.email,g.password);if("emailLink"===g.signInMethod)return this._fromEmailAndCode(g.email,g.password,g.tenantId)}return null}_getIdTokenResponse(p){var g=this;return(0,l.Z)(function*(){var w;switch(g.signInMethod){case"password":const N={returnSecureToken:!0,email:g._email,password:g._password,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=p._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const P=yield ft(p,N,"signInWithPassword");return jn(p,P)}return jn(p,N).catch(function(){var P=(0,l.Z)(function*(W){if("auth/missing-recaptcha-token"===W.code){console.log("Sign-in with email address and password is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const ie=yield ft(p,N,"signInWithPassword");return jn(p,ie)}return Promise.reject(W)});return function(W){return P.apply(this,arguments)}}());case"emailLink":return function Ca(y,p){return Yo.apply(this,arguments)}(p,{email:g._email,oobCode:g._password});default:Ne(p,"internal-error")}})()}_linkToIdToken(p,g){var w=this;return(0,l.Z)(function*(){switch(w.signInMethod){case"password":return So(p,{idToken:g,returnSecureToken:!0,email:w._email,password:w._password});case"emailLink":return function eu(y,p){return xi.apply(this,arguments)}(p,{idToken:g,email:w._email,oobCode:w._password});default:Ne(p,"internal-error")}})()}_getReauthenticationResolver(p){return this._getIdTokenResponse(p)}}function wi(y,p){return Ju.apply(this,arguments)}function Ju(){return(Ju=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithIdp",Kt(y,p))})).apply(this,arguments)}class Ls extends _s{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(p){const g=new Ls(p.providerId,p.signInMethod);return p.idToken||p.accessToken?(p.idToken&&(g.idToken=p.idToken),p.accessToken&&(g.accessToken=p.accessToken),p.nonce&&!p.pendingToken&&(g.nonce=p.nonce),p.pendingToken&&(g.pendingToken=p.pendingToken)):p.oauthToken&&p.oauthTokenSecret?(g.accessToken=p.oauthToken,g.secret=p.oauthTokenSecret):Ne("argument-error"),g}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N}=g,P=(0,fe._T)(g,["providerId","signInMethod"]);if(!w||!N)return null;const W=new Ls(w,N);return W.idToken=P.idToken||void 0,W.accessToken=P.accessToken||void 0,W.secret=P.secret,W.nonce=P.nonce,W.pendingToken=P.pendingToken||null,W}_getIdTokenResponse(p){return wi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,wi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,wi(p,g)}buildRequest(){const p={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)p.pendingToken=this.pendingToken;else{const g={};this.idToken&&(g.id_token=this.idToken),this.accessToken&&(g.access_token=this.accessToken),this.secret&&(g.oauth_token_secret=this.secret),g.providerId=this.providerId,this.nonce&&!this.pendingToken&&(g.nonce=this.nonce),p.postBody=(0,V.xO)(g)}return p}}function tu(){return(tu=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:sendVerificationCode",Kt(y,p))})).apply(this,arguments)}function nu(){return(nu=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p))})).apply(this,arguments)}function Aa(){return(Aa=(0,l.Z)(function*(y,p){const g=yield mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,p));if(g.temporaryProof)throw jt(y,"account-exists-with-different-credential",g);return g})).apply(this,arguments)}const ru={USER_NOT_FOUND:"user-not-found"};function yl(){return(yl=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithPhoneNumber",Kt(y,Object.assign(Object.assign({},p),{operation:"REAUTH"})),ru)})).apply(this,arguments)}class Wi extends _s{constructor(p){super("phone","phone"),this.params=p}static _fromVerification(p,g){return new Wi({verificationId:p,verificationCode:g})}static _fromTokenResponse(p,g){return new Wi({phoneNumber:p,temporaryProof:g})}_getIdTokenResponse(p){return function Bh(y,p){return nu.apply(this,arguments)}(p,this._makeVerificationRequest())}_linkToIdToken(p,g){return function md(y,p){return Aa.apply(this,arguments)}(p,Object.assign({idToken:g},this._makeVerificationRequest()))}_getReauthenticationResolver(p){return function Ip(y,p){return yl.apply(this,arguments)}(p,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:p,phoneNumber:g,verificationId:w,verificationCode:N}=this.params;return p&&g?{temporaryProof:p,phoneNumber:g}:{sessionInfo:w,code:N}}toJSON(){const p={providerId:this.providerId};return this.params.phoneNumber&&(p.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(p.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(p.verificationCode=this.params.verificationCode),this.params.verificationId&&(p.verificationId=this.params.verificationId),p}static fromJSON(p){"string"==typeof p&&(p=JSON.parse(p));const{verificationId:g,verificationCode:w,phoneNumber:N,temporaryProof:P}=p;return w||g||N||P?new Wi({verificationId:g,verificationCode:w,phoneNumber:N,temporaryProof:P}):null}}class Jo{constructor(p){var g,w,N,P,W,ie;const je=(0,V.zd)((0,V.pd)(p)),at=null!==(g=je.apiKey)&&void 0!==g?g:null,wt=null!==(w=je.oobCode)&&void 0!==w?w:null,It=function _d(y){switch(y){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(N=je.mode)&&void 0!==N?N:null);le(at&&wt&&It,"argument-error"),this.apiKey=at,this.operation=It,this.code=wt,this.continueUrl=null!==(P=je.continueUrl)&&void 0!==P?P:null,this.languageCode=null!==(W=je.languageCode)&&void 0!==W?W:null,this.tenantId=null!==(ie=je.tenantId)&&void 0!==ie?ie:null}static parseLink(p){const g=function Qu(y){const p=(0,V.zd)((0,V.pd)(y)).link,g=p?(0,V.zd)((0,V.pd)(p)).deep_link_id:null,w=(0,V.zd)((0,V.pd)(y)).deep_link_id;return(w?(0,V.zd)((0,V.pd)(w)).link:null)||w||g||p||y}(p);try{return new Jo(g)}catch{return null}}}let Xu=(()=>{class y{constructor(){this.providerId=y.PROVIDER_ID}static credential(g,w){return ml._fromEmailAndPassword(g,w)}static credentialWithLink(g,w){const N=Jo.parseLink(w);return le(N,"argument-error"),ml._fromEmailAndCode(g,N.code,N.tenantId)}}return y.PROVIDER_ID="password",y.EMAIL_PASSWORD_SIGN_IN_METHOD="password",y.EMAIL_LINK_SIGN_IN_METHOD="emailLink",y})();class Bs{constructor(p){this.providerId=p,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(p){this.defaultLanguageCode=p}setCustomParameters(p){return this.customParameters=p,this}getCustomParameters(){return this.customParameters}}class ys extends Bs{constructor(){super(...arguments),this.scopes=[]}addScope(p){return this.scopes.includes(p)||this.scopes.push(p),this}getScopes(){return[...this.scopes]}}class uo extends ys{static credentialFromJSON(p){const g="string"==typeof p?JSON.parse(p):p;return le("providerId"in g&&"signInMethod"in g,"argument-error"),Ls._fromParams(g)}credential(p){return this._credential(Object.assign(Object.assign({},p),{nonce:p.rawNonce}))}_credential(p){return le(p.idToken||p.accessToken,"argument-error"),Ls._fromParams(Object.assign(Object.assign({},p),{providerId:this.providerId,signInMethod:this.providerId}))}static credentialFromResult(p){return uo.oauthCredentialFromTaggedObject(p)}static credentialFromError(p){return uo.oauthCredentialFromTaggedObject(p.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{oauthIdToken:g,oauthAccessToken:w,oauthTokenSecret:N,pendingToken:P,nonce:W,providerId:ie}=p;if(!w&&!N&&!g&&!P||!ie)return null;try{return new uo(ie)._credential({idToken:g,accessToken:w,nonce:W,pendingToken:P})}catch{return null}}}let bl=(()=>{class y extends ys{constructor(){super("facebook.com")}static credential(g){return Ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.FACEBOOK_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.FACEBOOK_SIGN_IN_METHOD="facebook.com",y.PROVIDER_ID="facebook.com",y})(),No=(()=>{class y extends ys{constructor(){super("google.com"),this.addScope("profile")}static credential(g,w){return Ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GOOGLE_SIGN_IN_METHOD,idToken:g,accessToken:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthIdToken:w,oauthAccessToken:N}=g;if(!w&&!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.GOOGLE_SIGN_IN_METHOD="google.com",y.PROVIDER_ID="google.com",y})(),ec=(()=>{class y extends ys{constructor(){super("github.com")}static credential(g){return Ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.GITHUB_SIGN_IN_METHOD,accessToken:g})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g||!("oauthAccessToken"in g)||!g.oauthAccessToken)return null;try{return y.credential(g.oauthAccessToken)}catch{return null}}}return y.GITHUB_SIGN_IN_METHOD="github.com",y.PROVIDER_ID="github.com",y})();class co extends _s{constructor(p,g){super(p,p),this.pendingToken=g}_getIdTokenResponse(p){return wi(p,this.buildRequest())}_linkToIdToken(p,g){const w=this.buildRequest();return w.idToken=g,wi(p,w)}_getReauthenticationResolver(p){const g=this.buildRequest();return g.autoCreate=!1,wi(p,g)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(p){const g="string"==typeof p?JSON.parse(p):p,{providerId:w,signInMethod:N,pendingToken:P}=g;return w&&N&&P&&w===N?new co(w,P):null}static _create(p,g){return new co(p,g)}buildRequest(){return{requestUri:"http://localhost",returnSecureToken:!0,pendingToken:this.pendingToken}}}class Na extends Bs{constructor(p){le(p.startsWith("saml."),"argument-error"),super(p)}static credentialFromResult(p){return Na.samlCredentialFromTaggedObject(p)}static credentialFromError(p){return Na.samlCredentialFromTaggedObject(p.customData||{})}static credentialFromJSON(p){const g=co.fromJSON(p);return le(g,"argument-error"),g}static samlCredentialFromTaggedObject({_tokenResponse:p}){if(!p)return null;const{pendingToken:g,providerId:w}=p;if(!g||!w)return null;try{return co._create(w,g)}catch{return null}}}let wl=(()=>{class y extends ys{constructor(){super("twitter.com")}static credential(g,w){return Ls._fromParams({providerId:y.PROVIDER_ID,signInMethod:y.TWITTER_SIGN_IN_METHOD,oauthToken:g,oauthTokenSecret:w})}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{oauthAccessToken:w,oauthTokenSecret:N}=g;if(!w||!N)return null;try{return y.credential(w,N)}catch{return null}}}return y.TWITTER_SIGN_IN_METHOD="twitter.com",y.PROVIDER_ID="twitter.com",y})();function ho(y,p){return Ei.apply(this,arguments)}function Ei(){return(Ei=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signUp",Kt(y,p))})).apply(this,arguments)}class Qr{constructor(p){this.user=p.user,this.providerId=p.providerId,this._tokenResponse=p._tokenResponse,this.operationType=p.operationType}static _fromIdTokenResponse(p,g,w,N=!1){return(0,l.Z)(function*(){const P=yield Er._fromIdTokenResponse(p,w,N),W=Mo(w);return new Qr({user:P,providerId:W,_tokenResponse:w,operationType:g})})()}static _forOperation(p,g,w){return(0,l.Z)(function*(){yield p._updateTokensIfNecessary(w,!0);const N=Mo(w);return new Qr({user:p,providerId:N,_tokenResponse:w,operationType:g})})()}}function Mo(y){return y.providerId?y.providerId:"phoneNumber"in y?"phone":null}function rs(){return(rs=(0,l.Z)(function*(y){var p;const g=Rn(y);if(yield g._initializationPromise,null!==(p=g.currentUser)&&void 0!==p&&p.isAnonymous)return new Qr({user:g.currentUser,providerId:null,operationType:"signIn"});const w=yield ho(g,{returnSecureToken:!0}),N=yield Qr._fromIdTokenResponse(g,"signIn",w,!0);return yield g._updateCurrentUser(N.user),N})).apply(this,arguments)}class Us extends V.ZR{constructor(p,g,w,N){var P;super(g.code,g.message),this.operationType=w,this.user=N,Object.setPrototypeOf(this,Us.prototype),this.customData={appName:p.name,tenantId:null!==(P=p.tenantId)&&void 0!==P?P:void 0,_serverResponse:g.customData._serverResponse,operationType:w}}static _fromErrorAndOperation(p,g,w,N){return new Us(p,g,w,N)}}function zr(y,p,g,w){return("reauthenticate"===p?g._getReauthenticationResolver(y):g._getIdTokenResponse(y)).catch(P=>{throw"auth/multi-factor-auth-required"===P.code?Us._fromErrorAndOperation(y,P,p,w):P})}function tc(y){return new Set(y.map(({providerId:p})=>p).filter(p=>!!p))}function ci(){return ci=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y);yield Vs(!0,g,p);const{providerUserInfo:w}=yield function se(y,p){return ee.apply(this,arguments)}(g.auth,{idToken:yield g.getIdToken(),deleteProvider:[p]}),N=tc(w||[]);return g.providerData=g.providerData.filter(P=>N.has(P.providerId)),N.has("phone")||(g.phoneNumber=null),yield g.auth._persistUserIfCurrent(g),g}),ci.apply(this,arguments)}function Rr(y,p){return El.apply(this,arguments)}function El(){return(El=(0,l.Z)(function*(y,p,g=!1){const w=yield _t(y,p._linkToIdToken(y.auth,yield y.getIdToken()),g);return Qr._forOperation(y,"link",w)})).apply(this,arguments)}function Vs(y,p,g){return su.apply(this,arguments)}function su(){return(su=(0,l.Z)(function*(y,p,g){yield Tn(p);const N=!1===y?"provider-already-linked":"no-such-provider";le(tc(p.providerData).has(g)===y,p.auth,N)})).apply(this,arguments)}function vs(y,p){return Oo.apply(this,arguments)}function Oo(){return(Oo=(0,l.Z)(function*(y,p,g=!1){const{auth:w}=y,N="reauthenticate";try{const P=yield _t(y,zr(w,N,p,y),g);le(P.idToken,w,"internal-error");const W=$t(P.idToken);le(W,w,"internal-error");const{sub:ie}=W;return le(y.uid===ie,w,"user-mismatch"),Qr._forOperation(y,N,P)}catch(P){throw"auth/user-not-found"===P?.code&&Ne(w,"user-mismatch"),P}})).apply(this,arguments)}function Ma(y,p){return Yt.apply(this,arguments)}function Yt(){return(Yt=(0,l.Z)(function*(y,p,g=!1){const w="signIn",N=yield zr(y,w,p),P=yield Qr._fromIdTokenResponse(y,w,N);return g||(yield y._updateCurrentUser(P.user)),P})).apply(this,arguments)}function Oa(y,p){return ou.apply(this,arguments)}function ou(){return(ou=(0,l.Z)(function*(y,p){return Ma(Rn(y),p)})).apply(this,arguments)}function rc(y,p){return Qo.apply(this,arguments)}function Qo(){return(Qo=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y);return yield Vs(!1,g,p.providerId),Rr(g,p)})).apply(this,arguments)}function au(y,p){return xa.apply(this,arguments)}function xa(){return(xa=(0,l.Z)(function*(y,p){return vs((0,V.m9)(y),p)})).apply(this,arguments)}function sc(){return(sc=(0,l.Z)(function*(y,p){return mn(y,"POST","/v1/accounts:signInWithCustomToken",Kt(y,p))})).apply(this,arguments)}function nn(){return nn=(0,l.Z)(function*(y,p){const g=Rn(y),w=yield function ic(y,p){return sc.apply(this,arguments)}(g,{token:p,returnSecureToken:!0}),N=yield Qr._fromIdTokenResponse(g,"signIn",w);return yield g._updateCurrentUser(N.user),N}),nn.apply(this,arguments)}class fo{constructor(p,g){this.factorId=p,this.uid=g.mfaEnrollmentId,this.enrollmentTime=new Date(g.enrolledAt).toUTCString(),this.displayName=g.displayName}static _fromServerResponse(p,g){return"phoneInfo"in g?Ra._fromServerResponse(p,g):"totpInfo"in g?Pr._fromServerResponse(p,g):Ne(p,"internal-error")}}class Ra extends fo{constructor(p){super("phone",p),this.phoneNumber=p.phoneInfo}static _fromServerResponse(p,g){return new Ra(g)}}class Pr extends fo{constructor(p){super("totp",p)}static _fromServerResponse(p,g){return new Pr(g)}}function xo(y,p,g){var w;le((null===(w=g.url)||void 0===w?void 0:w.length)>0,y,"invalid-continue-uri"),le(typeof g.dynamicLinkDomain>"u"||g.dynamicLinkDomain.length>0,y,"invalid-dynamic-link-domain"),p.continueUrl=g.url,p.dynamicLinkDomain=g.dynamicLinkDomain,p.canHandleCodeInApp=g.handleCodeInApp,g.iOS&&(le(g.iOS.bundleId.length>0,y,"missing-ios-bundle-id"),p.iOSBundleId=g.iOS.bundleId),g.android&&(le(g.android.packageName.length>0,y,"missing-android-pkg-name"),p.androidInstallApp=g.android.installApp,p.androidMinimumVersionCode=g.android.minimumVersion,p.androidPackageName=g.android.packageName)}function di(){return di=(0,l.Z)(function*(y,p,g){var w;const N=Rn(y),P={requestType:"PASSWORD_RESET",email:p,clientType:"CLIENT_TYPE_WEB"};if(null!==(w=N._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const W=yield ft(N,P,"getOobCode",!0);g&&xo(N,W,g),yield ao(N,W)}else g&&xo(N,P,g),yield ao(N,P).catch(function(){var W=(0,l.Z)(function*(ie){if("auth/missing-recaptcha-token"!==ie.code)return Promise.reject(ie);{console.log("Password resets are protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the password reset flow.");const je=yield ft(N,P,"getOobCode",!0);g&&xo(N,je,g),yield ao(N,je)}});return function(ie){return W.apply(this,arguments)}}())}),di.apply(this,arguments)}function Tl(){return(Tl=(0,l.Z)(function*(y,p,g){yield Io((0,V.m9)(y),{oobCode:p,newPassword:g})})).apply(this,arguments)}function Hs(){return Hs=(0,l.Z)(function*(y,p){yield function ns(y,p){return Co.apply(this,arguments)}((0,V.m9)(y),{oobCode:p})}),Hs.apply(this,arguments)}function Xo(y,p){return _r.apply(this,arguments)}function _r(){return(_r=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y),w=yield Io(g,{oobCode:p}),N=w.requestType;switch(le(N,g,"internal-error"),N){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":le(w.newEmail,g,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":le(w.mfaInfo,g,"internal-error");default:le(w.email,g,"internal-error")}let P=null;return w.mfaInfo&&(P=fo._fromServerResponse(Rn(g),w.mfaInfo)),{data:{email:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.newEmail:w.email)||null,previousEmail:("VERIFY_AND_CHANGE_EMAIL"===w.requestType?w.email:w.newEmail)||null,multiFactorInfo:P},operation:N}})).apply(this,arguments)}function bs(){return(bs=(0,l.Z)(function*(y,p){const{data:g}=yield Xo((0,V.m9)(y),p);return g.email})).apply(this,arguments)}function Ri(){return Ri=(0,l.Z)(function*(y,p,g){var w;const N=Rn(y),P={returnSecureToken:!0,email:p,password:g,clientType:"CLIENT_TYPE_WEB"};let W;if(null!==(w=N._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const at=yield ft(N,P,"signUpPassword");W=ho(N,at)}else W=ho(N,P).catch(function(){var at=(0,l.Z)(function*(wt){if("auth/missing-recaptcha-token"===wt.code){console.log("Sign-up is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-up flow.");const It=yield ft(N,P,"signUpPassword");return ho(N,It)}return Promise.reject(wt)});return function(wt){return at.apply(this,arguments)}}());const ie=yield W.catch(at=>Promise.reject(at)),je=yield Qr._fromIdTokenResponse(N,"signIn",ie);return yield N._updateCurrentUser(je.user),je}),Ri.apply(this,arguments)}function Sl(){return Sl=(0,l.Z)(function*(y,p,g){var w;const N=Rn(y),P={requestType:"EMAIL_SIGNIN",email:p,clientType:"CLIENT_TYPE_WEB"};function W(ie,je){le(je.handleCodeInApp,N,"argument-error"),je&&xo(N,ie,je)}if(null!==(w=N._getRecaptchaConfig())&&void 0!==w&&w.emailPasswordEnabled){const ie=yield ft(N,P,"getOobCode",!0);W(ie,g),yield Gr(N,ie)}else W(P,g),yield Gr(N,P).catch(function(){var ie=(0,l.Z)(function*(je){if("auth/missing-recaptcha-token"!==je.code)return Promise.reject(je);{console.log("Email link sign-in is protected by reCAPTCHA for this project. Automatically triggering the reCAPTCHA flow and restarting the sign-in flow.");const at=yield ft(N,P,"getOobCode",!0);W(at,g),yield Gr(N,at)}});return function(je){return ie.apply(this,arguments)}}())}),Sl.apply(this,arguments)}function Po(){return(Po=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y),N=Xu.credentialWithLink(p,g||on());return le(N._tenantId===(w.tenantId||null),w,"tenant-id-mismatch"),Oa(w,N)})).apply(this,arguments)}function Cl(){return(Cl=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:createAuthUri",Kt(y,p))})).apply(this,arguments)}function Al(){return Al=(0,l.Z)(function*(y,p){const w={identifier:p,continueUri:bt()?on():"http://localhost"},{signinMethods:N}=yield function lu(y,p){return Cl.apply(this,arguments)}((0,V.m9)(y),w);return N||[]}),Al.apply(this,arguments)}function ka(){return ka=(0,l.Z)(function*(y,p){const g=(0,V.m9)(y),N={requestType:"VERIFY_EMAIL",idToken:yield y.getIdToken()};p&&xo(g.auth,N,p);const{email:P}=yield function Xl(y,p){return Ao.apply(this,arguments)}(g.auth,N);P!==y.email&&(yield y.reload())}),ka.apply(this,arguments)}function Fa(){return Fa=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y),P={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:yield y.getIdToken(),newEmail:p};g&&xo(w.auth,P,g);const{email:W}=yield function Mi(y,p){return Oi.apply(this,arguments)}(w.auth,P);W!==y.email&&(yield y.reload())}),Fa.apply(this,arguments)}function ws(){return(ws=(0,l.Z)(function*(y,p){return ut(y,"POST","/v1/accounts:update",p)})).apply(this,arguments)}function Ml(){return Ml=(0,l.Z)(function*(y,{displayName:p,photoURL:g}){if(void 0===p&&void 0===g)return;const w=(0,V.m9)(y),P={idToken:yield w.getIdToken(),displayName:p,photoUrl:g,returnSecureToken:!0},W=yield _t(w,function lc(y,p){return ws.apply(this,arguments)}(w.auth,P));w.displayName=W.displayName||null,w.photoURL=W.photoUrl||null;const ie=w.providerData.find(({providerId:je})=>"password"===je);ie&&(ie.displayName=w.displayName,ie.photoURL=w.photoURL),yield w._updateTokensIfNecessary(W)}),Ml.apply(this,arguments)}function er(y,p,g){return Ol.apply(this,arguments)}function Ol(){return(Ol=(0,l.Z)(function*(y,p,g){const{auth:w}=y,P={idToken:yield y.getIdToken(),returnSecureToken:!0};p&&(P.email=p),g&&(P.password=g);const W=yield _t(y,So(w,P));yield y._updateTokensIfNecessary(W,!0)})).apply(this,arguments)}class ko{constructor(p,g,w={}){this.isNewUser=p,this.providerId=g,this.profile=w}}class vd extends ko{constructor(p,g,w,N){super(p,g,w),this.username=N}}class dc extends ko{constructor(p,g){super(p,"facebook.com",g)}}class $s extends vd{constructor(p,g){super(p,"github.com",g,"string"==typeof g?.login?g?.login:null)}}class Gs extends ko{constructor(p,g){super(p,"google.com",g)}}class cu extends vd{constructor(p,g,w){super(p,"twitter.com",g,w)}}function du(y){const{user:p,_tokenResponse:g}=y;return p.isAnonymous&&!g?{providerId:null,isNewUser:!1,profile:null}:function cc(y){var p,g;if(!y)return null;const{providerId:w}=y,N=y.rawUserInfo?JSON.parse(y.rawUserInfo):{},P=y.isNewUser||"identitytoolkit#SignupNewUserResponse"===y.kind;if(!w&&y?.idToken){const W=null===(g=null===(p=$t(y.idToken))||void 0===p?void 0:p.firebase)||void 0===g?void 0:g.sign_in_provider;if(W)return new ko(P,"anonymous"!==W&&"custom"!==W?W:null)}if(!w)return null;switch(w){case"facebook.com":return new dc(P,N);case"github.com":return new $s(P,N);case"google.com":return new Gs(P,N);case"twitter.com":return new cu(P,N,y.screenName||null);case"custom":case"anonymous":return new ko(P,null);default:return new ko(P,w,N)}}(g)}class De{constructor(p,g,w){this.type=p,this.credential=g,this.auth=w}static _fromIdtoken(p,g){return new De("enroll",p,g)}static _fromMfaPendingCredential(p){return new De("signin",p)}toJSON(){return{multiFactorSession:{["enroll"===this.type?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(p){var g,w;if(p?.multiFactorSession){if(null!==(g=p.multiFactorSession)&&void 0!==g&&g.pendingCredential)return De._fromMfaPendingCredential(p.multiFactorSession.pendingCredential);if(null!==(w=p.multiFactorSession)&&void 0!==w&&w.idToken)return De._fromIdtoken(p.multiFactorSession.idToken)}return null}}class Ft{constructor(p,g,w){this.session=p,this.hints=g,this.signInResolver=w}static _fromError(p,g){const w=Rn(p),N=g.customData._serverResponse,P=(N.mfaInfo||[]).map(ie=>fo._fromServerResponse(w,ie));le(N.mfaPendingCredential,w,"internal-error");const W=De._fromMfaPendingCredential(N.mfaPendingCredential);return new Ft(W,P,function(){var ie=(0,l.Z)(function*(je){const at=yield je._process(w,W);delete N.mfaInfo,delete N.mfaPendingCredential;const wt=Object.assign(Object.assign({},N),{idToken:at.idToken,refreshToken:at.refreshToken});switch(g.operationType){case"signIn":const It=yield Qr._fromIdTokenResponse(w,g.operationType,wt);return yield w._updateCurrentUser(It.user),It;case"reauthenticate":return le(g.user,w,"internal-error"),Qr._forOperation(g.user,g.operationType,wt);default:Ne(w,"internal-error")}});return function(je){return ie.apply(this,arguments)}}())}resolveSignIn(p){var g=this;return(0,l.Z)(function*(){return g.signInResolver(p)})()}}class La{constructor(p){this.user=p,this.enrolledFactors=[],p._onReload(g=>{g.mfaInfo&&(this.enrolledFactors=g.mfaInfo.map(w=>fo._fromServerResponse(p.auth,w)))})}static _fromUser(p){return new La(p)}getSession(){var p=this;return(0,l.Z)(function*(){return De._fromIdtoken(yield p.user.getIdToken(),p.user.auth)})()}enroll(p,g){var w=this;return(0,l.Z)(function*(){const N=p,P=yield w.getSession(),W=yield _t(w.user,N._process(w.user.auth,P,g));return yield w.user._updateTokensIfNecessary(W),w.user.reload()})()}unenroll(p){var g=this;return(0,l.Z)(function*(){const w="string"==typeof p?p:p.uid,N=yield g.user.getIdToken();try{const P=yield _t(g.user,function fc(y,p){return ut(y,"POST","/v2/accounts/mfaEnrollment:withdraw",Kt(y,p))}(g.user.auth,{idToken:N,mfaEnrollmentId:w}));g.enrolledFactors=g.enrolledFactors.filter(({uid:W})=>W!==w),yield g.user._updateTokensIfNecessary(P),yield g.user.reload()}catch(P){throw P}})()}}const na=new WeakMap,Ba="__sak";class pc{constructor(p,g){this.storageRetriever=p,this.type=g}_isAvailable(){try{return this.storage?(this.storage.setItem(Ba,"1"),this.storage.removeItem(Ba),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(p,g){return this.storage.setItem(p,JSON.stringify(g)),Promise.resolve()}_get(p){const g=this.storage.getItem(p);return Promise.resolve(g?JSON.parse(g):null)}_remove(p){return this.storage.removeItem(p),Promise.resolve()}get storage(){return this.storageRetriever()}}const Ua=(()=>{class y extends pc{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(g,w)=>this.onStorageEvent(g,w),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=function pu(){const y=(0,V.z$)();return ue(y)||xn(y)}()&&function Zo(){try{return!(!window||window===window.top)}catch{return!1}}(),this.fallbackToPolling=bi(),this._shouldAllowMigration=!0}forAllChangedKeys(g){for(const w of Object.keys(this.listeners)){const N=this.storage.getItem(w),P=this.localCache[w];N!==P&&g(w,P,N)}}onStorageEvent(g,w=!1){if(!g.key)return void this.forAllChangedKeys((ie,je,at)=>{this.notifyListeners(ie,at)});const N=g.key;if(w?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const ie=this.storage.getItem(N);if(g.newValue!==ie)null!==g.newValue?this.storage.setItem(N,g.newValue):this.storage.removeItem(N);else if(this.localCache[N]===g.newValue&&!w)return}const P=()=>{const ie=this.storage.getItem(N);!w&&this.localCache[N]===ie||this.notifyListeners(N,ie)},W=this.storage.getItem(N);!function Ai(){return(0,V.w1)()&&10===document.documentMode}()||W===g.newValue||g.newValue===g.oldValue?P():setTimeout(P,10)}notifyListeners(g,w){this.localCache[g]=w;const N=this.listeners[g];if(N)for(const P of Array.from(N))P(w&&JSON.parse(w))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((g,w,N)=>{this.onStorageEvent(new StorageEvent("storage",{key:g,oldValue:w,newValue:N}),!0)})},1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(g,w){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[g]||(this.listeners[g]=new Set,this.localCache[g]=this.storage.getItem(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}_set(g,w){var N=()=>super._set,P=this;return(0,l.Z)(function*(){yield N().call(P,g,w),P.localCache[g]=JSON.stringify(w)})()}_get(g){var w=()=>super._get,N=this;return(0,l.Z)(function*(){const P=yield w().call(N,g);return N.localCache[g]=JSON.stringify(P),P})()}_remove(g){var w=()=>super._remove,N=this;return(0,l.Z)(function*(){yield w().call(N,g),delete N.localCache[g]})()}}return y.type="LOCAL",y})(),Fo=(()=>{class y extends pc{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(g,w){}_removeListener(g,w){}}return y.type="SESSION",y})();let xl=(()=>{class y{constructor(g){this.eventTarget=g,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(g){const w=this.receivers.find(P=>P.isListeningto(g));if(w)return w;const N=new y(g);return this.receivers.push(N),N}isListeningto(g){return this.eventTarget===g}handleEvent(g){var w=this;return(0,l.Z)(function*(){const N=g,{eventId:P,eventType:W,data:ie}=N.data,je=w.handlersMap[W];if(!je?.size)return;N.ports[0].postMessage({status:"ack",eventId:P,eventType:W});const at=Array.from(je).map(function(){var It=(0,l.Z)(function*(cr){return cr(N.origin,ie)});return function(cr){return It.apply(this,arguments)}}()),wt=yield function bd(y){return Promise.all(y.map(function(){var p=(0,l.Z)(function*(g){try{return{fulfilled:!0,value:yield g}}catch(w){return{fulfilled:!1,reason:w}}});return function(g){return p.apply(this,arguments)}}()))}(at);N.ports[0].postMessage({status:"done",eventId:P,eventType:W,response:wt})})()}_subscribe(g,w){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[g]||(this.handlersMap[g]=new Set),this.handlersMap[g].add(w)}_unsubscribe(g,w){this.handlersMap[g]&&w&&this.handlersMap[g].delete(w),(!w||0===this.handlersMap[g].size)&&delete this.handlersMap[g],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}return y.receivers=[],y})();function Rl(y="",p=10){let g="";for(let w=0;w<p;w++)g+=Math.floor(10*Math.random());return y+g}class $h{constructor(p){this.target=p,this.handlers=new Set}removeMessageHandler(p){p.messageChannel&&(p.messageChannel.port1.removeEventListener("message",p.onMessage),p.messageChannel.port1.close()),this.handlers.delete(p)}_send(p,g,w=50){var N=this;return(0,l.Z)(function*(){const P=typeof MessageChannel<"u"?new MessageChannel:null;if(!P)throw new Error("connection_unavailable");let W,ie;return new Promise((je,at)=>{const wt=Rl("",20);P.port1.start();const It=setTimeout(()=>{at(new Error("unsupported_event"))},w);ie={messageChannel:P,onMessage(cr){const ua=cr;if(ua.data.eventId===wt)switch(ua.data.status){case"ack":clearTimeout(It),W=setTimeout(()=>{at(new Error("timeout"))},3e3);break;case"done":clearTimeout(W),je(ua.data.response);break;default:clearTimeout(It),clearTimeout(W),at(new Error("invalid_response"))}}},N.handlers.add(ie),P.port1.addEventListener("message",ie.onMessage),N.target.postMessage({eventType:p,eventId:wt,data:g},[P.port2])}).finally(()=>{ie&&N.removeMessageHandler(ie)})})()}}function qn(){return window}function mc(){return typeof qn().WorkerGlobalScope<"u"&&"function"==typeof qn().importScripts}function _c(){return(_c=(0,l.Z)(function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})).apply(this,arguments)}const Va="firebaseLocalStorageDb",Fr=1,Ed="firebaseLocalStorage",gu="fbase_key";class mu{constructor(p){this.request=p}toPromise(){return new Promise((p,g)=>{this.request.addEventListener("success",()=>{p(this.request.result)}),this.request.addEventListener("error",()=>{g(this.request.error)})})}}function Lo(y,p){return y.transaction([Ed],p?"readwrite":"readonly").objectStore(Ed)}function vc(){const y=indexedDB.open(Va,Fr);return new Promise((p,g)=>{y.addEventListener("error",()=>{g(y.error)}),y.addEventListener("upgradeneeded",()=>{const w=y.result;try{w.createObjectStore(Ed,{keyPath:gu})}catch(N){g(N)}}),y.addEventListener("success",(0,l.Z)(function*(){const w=y.result;w.objectStoreNames.contains(Ed)?p(w):(w.close(),yield function Cp(){const y=indexedDB.deleteDatabase(Va);return new mu(y).toPromise()}(),p(yield vc()))}))})}function Ha(y,p,g){return Dd.apply(this,arguments)}function Dd(){return(Dd=(0,l.Z)(function*(y,p,g){const w=Lo(y,!0).put({[gu]:p,value:g});return new mu(w).toPromise()})).apply(this,arguments)}function Pl(){return(Pl=(0,l.Z)(function*(y,p){const g=Lo(y,!1).get(p),w=yield new mu(g).toPromise();return void 0===w?null:w.value})).apply(this,arguments)}function ra(y,p){const g=Lo(y,!0).delete(p);return new mu(g).toPromise()}const $a=(()=>{class y{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){var g=this;return(0,l.Z)(function*(){return g.db||(g.db=yield vc()),g.db})()}_withRetries(g){var w=this;return(0,l.Z)(function*(){let N=0;for(;;)try{const P=yield w._openDb();return yield g(P)}catch(P){if(N++>3)throw P;w.db&&(w.db.close(),w.db=void 0)}})()}initializeServiceWorkerMessaging(){var g=this;return(0,l.Z)(function*(){return mc()?g.initializeReceiver():g.initializeSender()})()}initializeReceiver(){var g=this;return(0,l.Z)(function*(){g.receiver=xl._getInstance(function Xr(){return mc()?self:null}()),g.receiver._subscribe("keyChanged",function(){var w=(0,l.Z)(function*(N,P){return{keyProcessed:(yield g._poll()).includes(P.key)}});return function(N,P){return w.apply(this,arguments)}}()),g.receiver._subscribe("ping",function(){var w=(0,l.Z)(function*(N,P){return["keyChanged"]});return function(N,P){return w.apply(this,arguments)}}())})()}initializeSender(){var g=this;return(0,l.Z)(function*(){var w,N;if(g.activeServiceWorker=yield function wd(){return _c.apply(this,arguments)}(),!g.activeServiceWorker)return;g.sender=new $h(g.activeServiceWorker);const P=yield g.sender._send("ping",{},800);P&&null!==(w=P[0])&&void 0!==w&&w.fulfilled&&null!==(N=P[0])&&void 0!==N&&N.value.includes("keyChanged")&&(g.serviceWorkerReceiverAvailable=!0)})()}notifyServiceWorker(g){var w=this;return(0,l.Z)(function*(){if(w.sender&&w.activeServiceWorker&&function yc(){var y;return(null===(y=navigator?.serviceWorker)||void 0===y?void 0:y.controller)||null}()===w.activeServiceWorker)try{yield w.sender._send("keyChanged",{key:g},w.serviceWorkerReceiverAvailable?800:50)}catch{}})()}_isAvailable(){return(0,l.Z)(function*(){try{if(!indexedDB)return!1;const g=yield vc();return yield Ha(g,Ba,"1"),yield ra(g,Ba),!0}catch{}return!1})()}_withPendingWrite(g){var w=this;return(0,l.Z)(function*(){w.pendingWrites++;try{yield g()}finally{w.pendingWrites--}})()}_set(g,w){var N=this;return(0,l.Z)(function*(){return N._withPendingWrite((0,l.Z)(function*(){return yield N._withRetries(P=>Ha(P,g,w)),N.localCache[g]=w,N.notifyServiceWorker(g)}))})()}_get(g){var w=this;return(0,l.Z)(function*(){const N=yield w._withRetries(P=>function _u(y,p){return Pl.apply(this,arguments)}(P,g));return w.localCache[g]=N,N})()}_remove(g){var w=this;return(0,l.Z)(function*(){return w._withPendingWrite((0,l.Z)(function*(){return yield w._withRetries(N=>ra(N,g)),delete w.localCache[g],w.notifyServiceWorker(g)}))})()}_poll(){var g=this;return(0,l.Z)(function*(){const w=yield g._withRetries(W=>{const ie=Lo(W,!1).getAll();return new mu(ie).toPromise()});if(!w)return[];if(0!==g.pendingWrites)return[];const N=[],P=new Set;for(const{fbase_key:W,value:ie}of w)P.add(W),JSON.stringify(g.localCache[W])!==JSON.stringify(ie)&&(g.notifyListeners(W,ie),N.push(W));for(const W of Object.keys(g.localCache))g.localCache[W]&&!P.has(W)&&(g.notifyListeners(W,null),N.push(W));return N})()}notifyListeners(g,w){this.localCache[g]=w;const N=this.listeners[g];if(N)for(const P of Array.from(N))P(w)}startPolling(){var g=this;this.stopPolling(),this.pollTimer=setInterval((0,l.Z)(function*(){return g._poll()}),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(g,w){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[g]||(this.listeners[g]=new Set,this._get(g)),this.listeners[g].add(w)}_removeListener(g,w){this.listeners[g]&&(this.listeners[g].delete(w),0===this.listeners[g].size&&delete this.listeners[g]),0===Object.keys(this.listeners).length&&this.stopPolling()}}return y.type="LOCAL",y})(),vu=1e12;class Td{constructor(p){this.auth=p,this.counter=vu,this._widgets=new Map}render(p,g){const w=this.counter;return this._widgets.set(w,new Id(p,this.auth.name,g||{})),this.counter++,w}reset(p){var g;const w=p||vu;null===(g=this._widgets.get(w))||void 0===g||g.delete(),this._widgets.delete(w)}getResponse(p){var g;return(null===(g=this._widgets.get(p||vu))||void 0===g?void 0:g.getResponse())||""}execute(p){var g=this;return(0,l.Z)(function*(){var w;return null===(w=g._widgets.get(p||vu))||void 0===w||w.execute(),""})()}}class Id{constructor(p,g,w){this.params=w,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const N="string"==typeof p?document.getElementById(p):p;le(N,"argument-error",{appName:g}),this.container=N,this.isVisible="invisible"!==this.params.size,this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=function rv(y){const p=[],g="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let w=0;w<y;w++)p.push(g.charAt(Math.floor(Math.random()*g.length)));return p.join("")}(50);const{callback:p,"expired-callback":g}=this.params;if(p)try{p(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,g)try{g()}catch{}this.isVisible&&this.execute()},6e4)},500))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}const Mp=Dr("rcb"),iv=new Be(3e4,6e4);class sv{constructor(){var p;this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!(null===(p=qn().grecaptcha)||void 0===p||!p.render)}load(p,g=""){return le(function Op(y){return y.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(y)}(g),p,"argument-error"),this.shouldResolveImmediately(g)&&an(qn().grecaptcha)?Promise.resolve(qn().grecaptcha):new Promise((w,N)=>{const P=qn().setTimeout(()=>{N(Pe(p,"network-request-failed"))},iv.get());qn()[Mp]=()=>{qn().clearTimeout(P),delete qn()[Mp];const ie=qn().grecaptcha;if(!ie||!an(ie))return void N(Pe(p,"internal-error"));const je=ie.render;ie.render=(at,wt)=>{const It=je(at,wt);return this.counter++,It},this.hostLanguage=g,w(ie)},Or(`https://www.google.com/recaptcha/api.js??${(0,V.xO)({onload:Mp,render:"explicit",hl:g})}`).catch(()=>{clearTimeout(P),N(Pe(p,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(p){var g;return!(null===(g=qn().grecaptcha)||void 0===g||!g.render)&&(p===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}class ei{load(p){return(0,l.Z)(function*(){return new Td(p)})()}clearedOneInstance(){}}const bu="recaptcha",bc={theme:"light",type:"image"};class Sd{constructor(p,g=Object.assign({},bc),w){this.parameters=g,this.type=bu,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=Rn(w),this.isInvisible="invisible"===this.parameters.size,le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const N="string"==typeof p?document.getElementById(p):p;le(N,this.auth,"argument-error"),this.container=N,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new ei:new sv,this.validateStartingState()}verify(){var p=this;return(0,l.Z)(function*(){p.assertNotDestroyed();const g=yield p.render(),w=p.getAssertedRecaptcha();return w.getResponse(g)||new Promise(P=>{const W=ie=>{ie&&(p.tokenChangeListeners.delete(W),P(ie))};p.tokenChangeListeners.add(W),p.isInvisible&&w.execute(g)})})()}render(){try{this.assertNotDestroyed()}catch(p){return Promise.reject(p)}return this.renderPromise||(this.renderPromise=this.makeRenderPromise().catch(p=>{throw this.renderPromise=null,p})),this.renderPromise}_reset(){this.assertNotDestroyed(),null!==this.widgetId&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(p=>{this.container.removeChild(p)})}validateStartingState(){le(!this.parameters.sitekey,this.auth,"argument-error"),le(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),le(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(p){return g=>{if(this.tokenChangeListeners.forEach(w=>w(g)),"function"==typeof p)p(g);else if("string"==typeof p){const w=qn()[p];"function"==typeof w&&w(g)}}}assertNotDestroyed(){le(!this.destroyed,this.auth,"internal-error")}makeRenderPromise(){var p=this;return(0,l.Z)(function*(){if(yield p.init(),!p.widgetId){let g=p.container;if(!p.isInvisible){const w=document.createElement("div");g.appendChild(w),g=w}p.widgetId=p.getAssertedRecaptcha().render(g,p.parameters)}return p.widgetId})()}init(){var p=this;return(0,l.Z)(function*(){le(bt()&&!mc(),p.auth,"internal-error"),yield function Ws(){let y=null;return new Promise(p=>{"complete"!==document.readyState?(y=()=>p(),window.addEventListener("load",y)):p()}).catch(p=>{throw y&&window.removeEventListener("load",y),p})}(),p.recaptcha=yield p._recaptchaLoader.load(p.auth,p.auth.languageCode||void 0);const g=yield function re(y){return ze.apply(this,arguments)}(p.auth);le(g,p.auth,"internal-error"),p.parameters.sitekey=g})()}getAssertedRecaptcha(){return le(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}class po{constructor(p,g){this.verificationId=p,this.onConfirmation=g}confirm(p){const g=Wi._fromVerification(this.verificationId,p);return this.onConfirmation(g)}}function qa(){return(qa=(0,l.Z)(function*(y,p,g){const w=Rn(y),N=yield Dc(w,p,(0,V.m9)(g));return new po(N,P=>Oa(w,P))})).apply(this,arguments)}function Ec(){return(Ec=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y);yield Vs(!1,w,"phone");const N=yield Dc(w.auth,p,(0,V.m9)(g));return new po(N,P=>rc(w,P))})).apply(this,arguments)}function Cd(){return(Cd=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y),N=yield Dc(w.auth,p,(0,V.m9)(g));return new po(N,P=>au(w,P))})).apply(this,arguments)}function Dc(y,p,g){return Yi.apply(this,arguments)}function Yi(){return Yi=(0,l.Z)(function*(y,p,g){var w;const N=yield g.verify();try{let P;if(le("string"==typeof N,y,"argument-error"),le(g.type===bu,y,"argument-error"),P="string"==typeof p?{phoneNumber:p}:p,"session"in P){const W=P.session;if("phoneNumber"in P)return le("enroll"===W.type,y,"internal-error"),(yield function kr(y,p){return ut(y,"POST","/v2/accounts/mfaEnrollment:start",Kt(y,p))}(y,{idToken:W.credential,phoneEnrollmentInfo:{phoneNumber:P.phoneNumber,recaptchaToken:N}})).phoneSessionInfo.sessionInfo;{le("signin"===W.type,y,"internal-error");const ie=(null===(w=P.multiFactorHint)||void 0===w?void 0:w.uid)||P.multiFactorUid;return le(ie,y,"missing-multi-factor-info"),(yield function Ga(y,p){return ut(y,"POST","/v2/accounts/mfaSignIn:start",Kt(y,p))}(y,{mfaPendingCredential:W.credential,mfaEnrollmentId:ie,phoneSignInInfo:{recaptchaToken:N}})).phoneResponseInfo.sessionInfo}}{const{sessionInfo:W}=yield function _l(y,p){return tu.apply(this,arguments)}(y,{phoneNumber:P.phoneNumber,recaptchaToken:N});return W}}finally{g._reset()}}),Yi.apply(this,arguments)}function Pi(){return(Pi=(0,l.Z)(function*(y,p){yield Rr((0,V.m9)(y),p)})).apply(this,arguments)}let At=(()=>{class y{constructor(g){this.providerId=y.PROVIDER_ID,this.auth=Rn(g)}verifyPhoneNumber(g,w){return Dc(this.auth,g,(0,V.m9)(w))}static credential(g,w){return Wi._fromVerification(g,w)}static credentialFromResult(g){return y.credentialFromTaggedObject(g)}static credentialFromError(g){return y.credentialFromTaggedObject(g.customData||{})}static credentialFromTaggedObject({_tokenResponse:g}){if(!g)return null;const{phoneNumber:w,temporaryProof:N}=g;return w&&N?Wi._fromTokenResponse(w,N):null}}return y.PROVIDER_ID="phone",y.PHONE_SIGN_IN_METHOD="phone",y})();function Mn(y,p){return p?Zn(p):(le(y._popupRedirectResolver,y,"argument-error"),y._popupRedirectResolver)}class Un extends _s{constructor(p){super("custom","custom"),this.params=p}_getIdTokenResponse(p){return wi(p,this._buildIdpRequest())}_linkToIdToken(p,g){return wi(p,this._buildIdpRequest(g))}_getReauthenticationResolver(p){return wi(p,this._buildIdpRequest())}_buildIdpRequest(p){const g={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return p&&(g.idToken=p),g}}function qh(y){return Ma(y.auth,new Un(y),y.bypassAuthState)}function wu(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),vs(g,new Un(y),y.bypassAuthState)}function Kr(y){return Tc.apply(this,arguments)}function Tc(){return(Tc=(0,l.Z)(function*(y){const{auth:p,user:g}=y;return le(g,p,"internal-error"),Rr(g,new Un(y),y.bypassAuthState)})).apply(this,arguments)}class Ad{constructor(p,g,w,N,P=!1){this.auth=p,this.resolver=w,this.user=N,this.bypassAuthState=P,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(g)?g:[g]}execute(){var p=this;return new Promise(function(){var g=(0,l.Z)(function*(w,N){p.pendingPromise={resolve:w,reject:N};try{p.eventManager=yield p.resolver._initialize(p.auth),yield p.onExecution(),p.eventManager.registerConsumer(p)}catch(P){p.reject(P)}});return function(w,N){return g.apply(this,arguments)}}())}onAuthEvent(p){var g=this;return(0,l.Z)(function*(){const{urlResponse:w,sessionId:N,postBody:P,tenantId:W,error:ie,type:je}=p;if(ie)return void g.reject(ie);const at={auth:g.auth,requestUri:w,sessionId:N,tenantId:W||void 0,postBody:P||void 0,user:g.user,bypassAuthState:g.bypassAuthState};try{g.resolve(yield g.getIdpTask(je)(at))}catch(wt){g.reject(wt)}})()}onError(p){this.reject(p)}getIdpTask(p){switch(p){case"signInViaPopup":case"signInViaRedirect":return qh;case"linkViaPopup":case"linkViaRedirect":return Kr;case"reauthViaPopup":case"reauthViaRedirect":return wu;default:Ne(this.auth,"internal-error")}}resolve(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(p),this.unregisterAndCleanUp()}reject(p){st(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(p),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Ds=new Be(2e3,1e4);function Eu(){return(Eu=(0,l.Z)(function*(y,p,g){const w=Rn(y);Ve(y,p,Bs);const N=Mn(w,g);return new Ic(w,"signInViaPopup",p,N).executeNotNull()})).apply(this,arguments)}function Bo(){return(Bo=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y);Ve(w.auth,p,Bs);const N=Mn(w.auth,g);return new Ic(w.auth,"reauthViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}function Nd(){return(Nd=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y);Ve(w.auth,p,Bs);const N=Mn(w.auth,g);return new Ic(w.auth,"linkViaPopup",p,N,w).executeNotNull()})).apply(this,arguments)}let Ic=(()=>{class y extends Ad{constructor(g,w,N,P,W){super(g,w,P,W),this.provider=N,this.authWindow=null,this.pollId=null,y.currentPopupAction&&y.currentPopupAction.cancel(),y.currentPopupAction=this}executeNotNull(){var g=this;return(0,l.Z)(function*(){const w=yield g.execute();return le(w,g.auth,"internal-error"),w})()}onExecution(){var g=this;return(0,l.Z)(function*(){st(1===g.filter.length,"Popup operations only handle one event");const w=Rl();g.authWindow=yield g.resolver._openPopup(g.auth,g.provider,g.filter[0],w),g.authWindow.associatedEvent=w,g.resolver._originValidation(g.auth).catch(N=>{g.reject(N)}),g.resolver._isIframeWebStorageSupported(g.auth,N=>{N||g.reject(Pe(g.auth,"web-storage-unsupported"))}),g.pollUserCancellation()})()}get eventId(){var g;return(null===(g=this.authWindow)||void 0===g?void 0:g.associatedEvent)||null}cancel(){this.reject(Pe(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,y.currentPopupAction=null}pollUserCancellation(){const g=()=>{var w,N;this.pollId=null!==(N=null===(w=this.authWindow)||void 0===w?void 0:w.window)&&void 0!==N&&N.closed?window.setTimeout(()=>{this.pollId=null,this.reject(Pe(this.auth,"popup-closed-by-user"))},8e3):window.setTimeout(g,Ds.get())};g()}}return y.currentPopupAction=null,y})();const Uo="pendingRedirect",ia=new Map;class yr extends Ad{constructor(p,g,w=!1){super(p,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],g,void 0,w),this.eventId=null}execute(){var p=()=>super.execute,g=this;return(0,l.Z)(function*(){let w=ia.get(g.auth._key());if(!w){try{const P=(yield function Md(y,p){return Tu.apply(this,arguments)}(g.resolver,g.auth))?yield p().call(g):null;w=()=>Promise.resolve(P)}catch(N){w=()=>Promise.reject(N)}ia.set(g.auth._key(),w)}return g.bypassAuthState||ia.set(g.auth._key(),()=>Promise.resolve(null)),w()})()}onAuthEvent(p){var g=()=>super.onAuthEvent,w=this;return(0,l.Z)(function*(){if("signInViaRedirect"===p.type)return g().call(w,p);if("unknown"!==p.type){if(p.eventId){const N=yield w.auth._redirectUserForId(p.eventId);if(N)return w.user=N,g().call(w,p);w.resolve(null)}}else w.resolve(null)})()}onExecution(){return(0,l.Z)(function*(){})()}cleanUp(){}}function Tu(){return(Tu=(0,l.Z)(function*(y,p){const g=is(p),w=Fl(y);if(!(yield w._isAvailable()))return!1;const N="true"===(yield w._get(g));return yield w._remove(g),N})).apply(this,arguments)}function Wa(y,p){return Ka.apply(this,arguments)}function Ka(){return(Ka=(0,l.Z)(function*(y,p){return Fl(y)._set(is(p),"true")})).apply(this,arguments)}function Wh(y,p){ia.set(y._key(),p)}function Fl(y){return Zn(y._redirectPersistence)}function is(y){return q(Uo,y.config.apiKey,y.name)}function Kh(y,p,g){return function Pp(y,p,g){return Ts.apply(this,arguments)}(y,p,g)}function Ts(){return(Ts=(0,l.Z)(function*(y,p,g){const w=Rn(y);Ve(y,p,Bs),yield w._initializationPromise;const N=Mn(w,g);return yield Wa(N,w),N._openRedirect(w,p,"signInViaRedirect")})).apply(this,arguments)}function Iu(y,p,g){return function ss(y,p,g){return Su.apply(this,arguments)}(y,p,g)}function Su(){return(Su=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y);Ve(w.auth,p,Bs),yield w.auth._initializationPromise;const N=Mn(w.auth,g);yield Wa(N,w.auth);const P=yield vr(w);return N._openRedirect(w.auth,p,"reauthViaRedirect",P)})).apply(this,arguments)}function ti(y,p,g){return function Od(y,p,g){return xd.apply(this,arguments)}(y,p,g)}function xd(){return(xd=(0,l.Z)(function*(y,p,g){const w=(0,V.m9)(y);Ve(w.auth,p,Bs),yield w.auth._initializationPromise;const N=Mn(w.auth,g);yield Vs(!1,w,p.providerId),yield Wa(N,w.auth);const P=yield vr(w);return N._openRedirect(w.auth,p,"linkViaRedirect",P)})).apply(this,arguments)}function Sr(){return(Sr=(0,l.Z)(function*(y,p){return yield Rn(y)._initializationPromise,go(y,p,!1)})).apply(this,arguments)}function go(y,p){return ir.apply(this,arguments)}function ir(){return(ir=(0,l.Z)(function*(y,p,g=!1){const w=Rn(y),N=Mn(w,p),W=yield new yr(w,N,g).execute();return W&&!g&&(delete W.user._redirectEventId,yield w._persistUserIfCurrent(W.user),yield w._setRedirectUser(null,p)),W})).apply(this,arguments)}function vr(y){return Za.apply(this,arguments)}function Za(){return(Za=(0,l.Z)(function*(y){const p=Rl(`${y.uid}:::`);return y._redirectEventId=p,yield y.auth._setRedirectUser(y),yield y.auth._persistUserIfCurrent(y),p})).apply(this,arguments)}class Ll{constructor(p){this.auth=p,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(p){this.consumers.add(p),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,p)&&(this.sendToConsumer(this.queuedRedirectEvent,p),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(p){this.consumers.delete(p)}onEvent(p){if(this.hasEventBeenHandled(p))return!1;let g=!1;return this.consumers.forEach(w=>{this.isEventForConsumer(p,w)&&(g=!0,this.sendToConsumer(p,w),this.saveEventToCache(p))}),this.hasHandledPotentialRedirect||!function Zr(y){switch(y.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return mo(y);default:return!1}}(p)||(this.hasHandledPotentialRedirect=!0,g||(this.queuedRedirectEvent=p,g=!0)),g}sendToConsumer(p,g){var w;if(p.error&&!mo(p)){const N=(null===(w=p.error.code)||void 0===w?void 0:w.split("auth/")[1])||"internal-error";g.onError(Pe(this.auth,N))}else g.onAuthEvent(p)}isEventForConsumer(p,g){const w=null===g.eventId||!!p.eventId&&p.eventId===g.eventId;return g.filter.includes(p.type)&&w}hasEventBeenHandled(p){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(Ks(p))}saveEventToCache(p){this.cachedEventUids.add(Ks(p)),this.lastProcessedEventTime=Date.now()}}function Ks(y){return[y.type,y.eventId,y.sessionId,y.tenantId].filter(p=>p).join("-")}function mo({type:y,error:p}){return"unknown"===y&&"auth/no-auth-event"===p?.code}function Ya(y){return kp.apply(this,arguments)}function kp(){return(kp=(0,l.Z)(function*(y,p={}){return ut(y,"GET","/v1/projects",p)})).apply(this,arguments)}const Cc=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Ac=/^https?/;function Vo(){return(Vo=(0,l.Z)(function*(y){if(y.config.emulator)return;const{authorizedDomains:p}=yield Ya(y);for(const g of p)try{if(Mc(g))return}catch{}Ne(y,"unauthorized-domain")})).apply(this,arguments)}function Mc(y){const p=on(),{protocol:g,hostname:w}=new URL(p);if(y.startsWith("chrome-extension://")){const W=new URL(y);return""===W.hostname&&""===w?"chrome-extension:"===g&&y.replace("chrome-extension://","")===p.replace("chrome-extension://",""):"chrome-extension:"===g&&W.hostname===w}if(!Ac.test(g))return!1;if(Cc.test(y))return w===y;const N=y.replace(/\./g,"\\.");return new RegExp("^(.+\\."+N+"|"+N+")$","i").test(w)}const Oc=new Be(3e4,6e4);function zt(){const y=qn().___jsl;if(y?.H)for(const p of Object.keys(y.H))if(y.H[p].r=y.H[p].r||[],y.H[p].L=y.H[p].L||[],y.H[p].r=[...y.H[p].L],y.CP)for(let g=0;g<y.CP.length;g++)y.CP[g]=null}let xc=null;const Fp=new Be(5e3,15e3),Zh="__/auth/iframe",Ys="emulator/auth/iframe",Yh={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Jh=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function Qh(y){const p=y.config;le(p.authDomain,y,"auth-domain-config-required");const g=p.emulator?tt(p,Ys):`https://${y.config.authDomain}/${Zh}`,w={apiKey:p.apiKey,appName:y.name,v:_e.SDK_VERSION},N=Jh.get(y.config.apiHost);N&&(w.eid=N);const P=y._getFrameworks();return P.length&&(w.fw=P.join(",")),`${g}?${(0,V.xO)(w).slice(1)}`}function S(){return S=(0,l.Z)(function*(y){const p=yield function Is(y){return xc=xc||function Zs(y){return new Promise((p,g)=>{var w,N,P;function W(){zt(),gapi.load("gapi.iframes",{callback:()=>{p(gapi.iframes.getContext())},ontimeout:()=>{zt(),g(Pe(y,"network-request-failed"))},timeout:Oc.get()})}if(null!==(N=null===(w=qn().gapi)||void 0===w?void 0:w.iframes)&&void 0!==N&&N.Iframe)p(gapi.iframes.getContext());else{if(null===(P=qn().gapi)||void 0===P||!P.load){const ie=Dr("iframefcb");return qn()[ie]=()=>{gapi.load?W():g(Pe(y,"network-request-failed"))},Or(`https://apis.google.com/js/api.js?onload=${ie}`).catch(je=>g(je))}W()}}).catch(p=>{throw xc=null,p})}(y),xc}(y),g=qn().gapi;return le(g,y,"internal-error"),p.open({where:document.body,url:Qh(y),messageHandlersFilter:g.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Yh,dontclear:!0},w=>new Promise(function(){var N=(0,l.Z)(function*(P,W){yield w.restyle({setHideOnLeave:!1});const ie=Pe(y,"network-request-failed"),je=qn().setTimeout(()=>{W(ie)},Fp.get());function at(){qn().clearTimeout(je),P(w)}w.ping(at).then(at,()=>{W(ie)})});return function(P,W){return N.apply(this,arguments)}}()))}),S.apply(this,arguments)}const O={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},H=500,Y=600,ne="_blank",me="http://localhost";class lt{constructor(p){this.window=p,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}const Xt="__/auth/handler",en="emulator/auth/handler",ki=encodeURIComponent("fac");function Wn(y,p,g,w,N,P){return sn.apply(this,arguments)}function sn(){return(sn=(0,l.Z)(function*(y,p,g,w,N,P){le(y.config.authDomain,y,"auth-domain-config-required"),le(y.config.apiKey,y,"invalid-api-key");const W={apiKey:y.config.apiKey,appName:y.name,authType:g,redirectUrl:w,v:_e.SDK_VERSION,eventId:N};if(p instanceof Bs){p.setDefaultLanguage(y.languageCode),W.providerId=p.providerId||"",(0,V.xb)(p.getCustomParameters())||(W.customParameters=JSON.stringify(p.getCustomParameters()));for(const[wt,It]of Object.entries(P||{}))W[wt]=It}if(p instanceof ys){const wt=p.getScopes().filter(It=>""!==It);wt.length>0&&(W.scopes=wt.join(","))}y.tenantId&&(W.tid=y.tenantId);const ie=W;for(const wt of Object.keys(ie))void 0===ie[wt]&&delete ie[wt];const je=yield y._getAppCheckToken(),at=je?`#${ki}=${encodeURIComponent(je)}`:"";return`${function sa({config:y}){return y.emulator?tt(y,en):`https://${y.authDomain}/${Xt}`}(y)}?${(0,V.xO)(ie).slice(1)}${at}`})).apply(this,arguments)}const Ja="webStorageSupport",Js=class hi{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fo,this._completeRedirectFn=go,this._overrideRedirectResult=Wh}_openPopup(p,g,w,N){var P=this;return(0,l.Z)(function*(){var W;st(null===(W=P.eventManagers[p._key()])||void 0===W?void 0:W.manager,"_initialize() not called before _openPopup()");const ie=yield Wn(p,g,w,on(),N);return function ot(y,p,g,w=H,N=Y){const P=Math.max((window.screen.availHeight-N)/2,0).toString(),W=Math.max((window.screen.availWidth-w)/2,0).toString();let ie="";const je=Object.assign(Object.assign({},O),{width:w.toString(),height:N.toString(),top:P,left:W}),at=(0,V.z$)().toLowerCase();g&&(ie=We(at)?ne:g),Oe(at)&&(p=p||me,je.scrollbars="yes");const wt=Object.entries(je).reduce((cr,[ua,Wd])=>`${cr}${ua}=${Wd},`,"");if(function li(y=(0,V.z$)()){var p;return xn(y)&&!(null===(p=window.navigator)||void 0===p||!p.standalone)}(at)&&"_self"!==ie)return function kt(y,p){const g=document.createElement("a");g.href=y,g.target=p;const w=document.createEvent("MouseEvent");w.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),g.dispatchEvent(w)}(p||"",ie),new lt(null);const It=window.open(p||"",ie,wt);le(It,y,"popup-blocked");try{It.focus()}catch{}return new lt(It)}(p,ie,Rl())})()}_openRedirect(p,g,w,N){var P=this;return(0,l.Z)(function*(){return yield P._originValidation(p),function Gh(y){qn().location.href=y}(yield Wn(p,g,w,on(),N)),new Promise(()=>{})})()}_initialize(p){const g=p._key();if(this.eventManagers[g]){const{manager:N,promise:P}=this.eventManagers[g];return N?Promise.resolve(N):(st(P,"If manager is not set, promise should be"),P)}const w=this.initAndGetManager(p);return this.eventManagers[g]={promise:w},w.catch(()=>{delete this.eventManagers[g]}),w}initAndGetManager(p){var g=this;return(0,l.Z)(function*(){const w=yield function E(y){return S.apply(this,arguments)}(p),N=new Ll(p);return w.register("authEvent",P=>(le(P?.authEvent,p,"invalid-auth-event"),{status:N.onEvent(P.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),g.eventManagers[p._key()]={manager:N},g.iframes[p._key()]=w,N})()}_isIframeWebStorageSupported(p,g){this.iframes[p._key()].send(Ja,{type:Ja},N=>{var P;const W=null===(P=N?.[0])||void 0===P?void 0:P[Ja];void 0!==W&&g(!!W),Ne(p,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function Nc(y){return Vo.apply(this,arguments)}(p)),this.originValidationPromises[g]}get _shouldInitProactively(){return bi()||ue()||xn()}};class oa{constructor(p){this.factorId=p}_process(p,g,w){switch(g.type){case"enroll":return this._finalizeEnroll(p,g.credential,w);case"signin":return this._finalizeSignIn(p,g.credential);default:return Mt("unexpected MultiFactorSessionType")}}}class Pd extends oa{constructor(p){super("phone"),this.credential=p}static _fromCredential(p){return new Pd(p)}_finalizeEnroll(p,g,w){return function Wr(y,p){return ut(y,"POST","/v2/accounts/mfaEnrollment:finalize",Kt(y,p))}(p,{idToken:g,displayName:w,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(p,g){return function Np(y,p){return ut(y,"POST","/v2/accounts/mfaSignIn:finalize",Kt(y,p))}(p,{mfaPendingCredential:g,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}let kd=(()=>{class y{constructor(){}static assertion(g){return Pd._fromCredential(g)}}return y.FACTOR_ID="phone",y})();var Bp="@firebase/auth";class Rc{constructor(p){this.auth=p,this.internalListeners=new Map}getUid(){var p;return this.assertAuthConfigured(),(null===(p=this.auth.currentUser)||void 0===p?void 0:p.uid)||null}getToken(p){var g=this;return(0,l.Z)(function*(){return g.assertAuthConfigured(),yield g.auth._initializationPromise,g.auth.currentUser?{accessToken:yield g.auth.currentUser.getIdToken(p)}:null})()}addAuthTokenListener(p){if(this.assertAuthConfigured(),this.internalListeners.has(p))return;const g=this.auth.onIdTokenChanged(w=>{p(w?.stsTokenManager.accessToken||null)});this.internalListeners.set(p,g),this.updateProactiveRefresh()}removeAuthTokenListener(p){this.assertAuthConfigured();const g=this.internalListeners.get(p);g&&(this.internalListeners.delete(p),g(),this.updateProactiveRefresh())}assertAuthConfigured(){le(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function Au(){return window}(0,V.Pz)("authIdTokenMaxAge"),function Lm(y){(0,_e._registerComponent)(new be.wA("auth",(p,{options:g})=>{const w=p.getProvider("app").getImmediate(),N=p.getProvider("heartbeat"),P=p.getProvider("app-check-internal"),{apiKey:W,authDomain:ie}=w.options;le(W&&!W.includes(":"),"invalid-api-key",{appName:w.name}),le(!ie?.includes(":"),"argument-error",{appName:w.name});const je={apiKey:W,authDomain:ie,clientPlatform:y,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:ve(y)},at=new zi(w,N,P,je);return function lr(y,p){const g=p?.persistence||[],w=(Array.isArray(g)?g:[g]).map(Zn);p?.errorMap&&y._updateErrorMap(p.errorMap),y._initializeWithPersistence(w,p?.popupRedirectResolver)}(at,g),at},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((p,g,w)=>{p.getProvider("auth-internal").initialize()})),(0,_e._registerComponent)(new be.wA("auth-internal",p=>{const g=Rn(p.getProvider("auth").getImmediate());return new Rc(g)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,_e.registerVersion)(Bp,"0.23.1",function Up(y){switch(y){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(y)),(0,_e.registerVersion)(Bp,"0.23.1","esm2017")}("Browser");const av=2e3;function Ld(){return Ld=(0,l.Z)(function*(y,p,g){var w;const{BuildInfo:N}=Au();st(p.sessionId,"AuthEvent did not contain a session ID");const P=yield function Ul(y){return Bd.apply(this,arguments)}(p.sessionId),W={};return xn()?W.ibi=N.packageName:En()?W.apn=N.packageName:Ne(y,"operation-not-supported-in-this-environment"),N.displayName&&(W.appDisplayName=N.displayName),W.sessionId=P,Wn(y,g,p.type,void 0,null!==(w=p.eventId)&&void 0!==w?w:void 0,W)}),Ld.apply(this,arguments)}function Bl(){return(Bl=(0,l.Z)(function*(y){const{BuildInfo:p}=Au(),g={};xn()?g.iosBundleId=p.packageName:En()?g.androidPackageName=p.packageName:Ne(y,"operation-not-supported-in-this-environment"),yield Ya(y,g)})).apply(this,arguments)}function Pc(){return(Pc=(0,l.Z)(function*(y,p,g){const{cordova:w}=Au();let N=()=>{};try{yield new Promise((P,W)=>{let ie=null;function je(){var It;P();const cr=null===(It=w.plugins.browsertab)||void 0===It?void 0:It.close;"function"==typeof cr&&cr(),"function"==typeof g?.close&&g.close()}function at(){ie||(ie=window.setTimeout(()=>{W(Pe(y,"redirect-cancelled-by-user"))},av))}function wt(){"visible"===document?.visibilityState&&at()}p.addPassiveListener(je),document.addEventListener("resume",at,!1),En()&&document.addEventListener("visibilitychange",wt,!1),N=()=>{p.removePassiveListener(je),document.removeEventListener("resume",at,!1),document.removeEventListener("visibilitychange",wt,!1),ie&&window.clearTimeout(ie)}})}finally{N()}})).apply(this,arguments)}function Bd(){return(Bd=(0,l.Z)(function*(y){const p=function Vm(y){if(st(/[0-9a-zA-Z]+/.test(y),"Can only convert alpha-numeric strings"),typeof TextEncoder<"u")return(new TextEncoder).encode(y);const p=new ArrayBuffer(y.length),g=new Uint8Array(p);for(let w=0;w<y.length;w++)g[w]=y.charCodeAt(w);return g}(y),g=yield crypto.subtle.digest("SHA-256",p);return Array.from(new Uint8Array(g)).map(N=>N.toString(16).padStart(2,"0")).join("")})).apply(this,arguments)}const Ud=20;class tf extends Ll{constructor(){super(...arguments),this.passiveListeners=new Set,this.initPromise=new Promise(p=>{this.resolveInialized=p})}addPassiveListener(p){this.passiveListeners.add(p)}removePassiveListener(p){this.passiveListeners.delete(p)}resetRedirect(){this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1}onEvent(p){return this.resolveInialized(),this.passiveListeners.forEach(g=>g(p)),super.onEvent(p)}initialized(){var p=this;return(0,l.Z)(function*(){yield p.initPromise})()}}function nf(y){return Vd.apply(this,arguments)}function Vd(){return(Vd=(0,l.Z)(function*(y){const p=yield rf()._get(Ou(y));return p&&(yield rf()._remove(Ou(y))),p})).apply(this,arguments)}function Hp(){const y=[],p="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let g=0;g<Ud;g++){const w=Math.floor(Math.random()*p.length);y.push(p.charAt(w))}return y.join("")}function rf(){return Zn(Ua)}function Ou(y){return q("authEvent",y.config.apiKey,y.name)}function Ho(y){if(!y?.includes("?"))return{};const[p,...g]=y.split("?");return(0,V.zd)(g.join("?"))}const jd=class Hd{constructor(){this._redirectPersistence=Fo,this._shouldInitProactively=!0,this.eventManagers=new Map,this.originValidationPromises={},this._completeRedirectFn=go,this._overrideRedirectResult=Wh}_initialize(p){var g=this;return(0,l.Z)(function*(){const w=p._key();let N=g.eventManagers.get(w);return N||(N=new tf(p),g.eventManagers.set(w,N),g.attachCallbackListeners(p,N)),N})()}_openPopup(p){Ne(p,"operation-not-supported-in-this-environment")}_openRedirect(p,g,w,N){var P=this;return(0,l.Z)(function*(){!function uv(y){var p,g,w,N,P,W,ie,je,at,wt;const It=Au();le("function"==typeof(null===(p=It?.universalLinks)||void 0===p?void 0:p.subscribe),y,"invalid-cordova-configuration",{missingPlugin:"cordova-universal-links-plugin-fix"}),le(typeof(null===(g=It?.BuildInfo)||void 0===g?void 0:g.packageName)<"u",y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-buildInfo"}),le("function"==typeof(null===(P=null===(N=null===(w=It?.cordova)||void 0===w?void 0:w.plugins)||void 0===N?void 0:N.browsertab)||void 0===P?void 0:P.openUrl),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(je=null===(ie=null===(W=It?.cordova)||void 0===W?void 0:W.plugins)||void 0===ie?void 0:ie.browsertab)||void 0===je?void 0:je.isAvailable),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-browsertab"}),le("function"==typeof(null===(wt=null===(at=It?.cordova)||void 0===at?void 0:at.InAppBrowser)||void 0===wt?void 0:wt.open),y,"invalid-cordova-configuration",{missingPlugin:"cordova-plugin-inappbrowser"})}(p);const W=yield P._initialize(p);yield W.initialized(),W.resetRedirect(),function Sc(){ia.clear()}(),yield P._originValidation(p);const ie=function el(y,p,g=null){return{type:p,eventId:g,urlResponse:null,sessionId:Hp(),postBody:null,tenantId:y.tenantId,error:Pe(y,"no-auth-event")}}(p,w,N);yield function Hm(y,p){return rf()._set(Ou(y),p)}(p,ie);const je=yield function Um(y,p,g){return Ld.apply(this,arguments)}(p,ie,g),at=yield function lv(y){const{cordova:p}=Au();return new Promise(g=>{p.plugins.browsertab.isAvailable(w=>{let N=null;w?p.plugins.browsertab.openUrl(y):N=p.InAppBrowser.open(y,function yn(y=(0,V.z$)()){return/(iPad|iPhone|iPod).*OS 7_\d/i.test(y)||/(iPad|iPhone|iPod).*OS 8_\d/i.test(y)}()?"_blank":"_system","location=yes"),g(N)})})}(je);return function Nu(y,p,g){return Pc.apply(this,arguments)}(p,W,at)})()}_isIframeWebStorageSupported(p,g){throw new Error("Method not implemented.")}_originValidation(p){const g=p._key();return this.originValidationPromises[g]||(this.originValidationPromises[g]=function ef(y){return Bl.apply(this,arguments)}(p)),this.originValidationPromises[g]}attachCallbackListeners(p,g){const{universalLinks:w,handleOpenURL:N,BuildInfo:P}=Au(),W=setTimeout((0,l.Z)(function*(){yield nf(p),g.onEvent($p())}),500),ie=function(){var wt=(0,l.Z)(function*(It){clearTimeout(W);const cr=yield nf(p);let ua=null;cr&&It?.url&&(ua=function Mu(y,p){var g,w;const N=function af(y){const p=Ho(y),g=p.link?decodeURIComponent(p.link):void 0,w=Ho(g).link,N=p.deep_link_id?decodeURIComponent(p.deep_link_id):void 0;return Ho(N).link||N||w||g||y}(p);if(N.includes("/__/auth/callback")){const P=Ho(N),W=P.firebaseError?function sf(y){try{return JSON.parse(y)}catch{return null}}(decodeURIComponent(P.firebaseError)):null,ie=null===(w=null===(g=W?.code)||void 0===g?void 0:g.split("auth/"))||void 0===w?void 0:w[1],je=ie?Pe(ie):null;return je?{type:y.type,eventId:y.eventId,tenantId:y.tenantId,error:je,urlResponse:null,sessionId:null,postBody:null}:{type:y.type,eventId:y.eventId,tenantId:y.tenantId,sessionId:y.sessionId,urlResponse:N,postBody:null}}return null}(cr,It.url)),g.onEvent(ua||$p())});return function(cr){return wt.apply(this,arguments)}}();typeof w<"u"&&"function"==typeof w.subscribe&&w.subscribe(null,ie);const je=N,at=`${P.packageName.toLowerCase()}://`;Au().handleOpenURL=function(){var wt=(0,l.Z)(function*(It){if(It.toLowerCase().startsWith(at)&&ie({url:It}),"function"==typeof je)try{je(It)}catch(cr){console.error(cr)}});return function(It){return wt.apply(this,arguments)}}()}};function $p(){return{type:"unknown",eventId:null,sessionId:null,urlResponse:null,postBody:null,tenantId:null,error:Pe("no-auth-event")}}const zp=1e3;function _o(){var y;return(null===(y=self?.location)||void 0===y?void 0:y.protocol)||null}function Vl(y=(0,V.z$)()){return!("file:"!==_o()&&"ionic:"!==_o()&&"capacitor:"!==_o()||!y.toLowerCase().match(/iphone|ipad|ipod|android/))}function hv(){try{const y=self.localStorage,p=Rl();if(y)return y.setItem(p,"1"),y.removeItem(p),!function dv(y=(0,V.z$)()){return function kc(){return(0,V.w1)()&&11===document?.documentMode}()||function cv(y=(0,V.z$)()){return/Edge\/\d+/.test(y)}(y)}()||(0,V.hl)()}catch{return qp()&&(0,V.hl)()}return!1}function qp(){return typeof global<"u"&&"WorkerGlobalScope"in global&&"importScripts"in global}function qd(){return(function Gd(){return"http:"===_o()||"https:"===_o()}()||(0,V.ru)()||Vl())&&!function zd(){return(0,V.b$)()||(0,V.UG)()}()&&hv()&&!qp()}function jm(){return Vl()&&typeof document<"u"}function Fc(){return(Fc=(0,l.Z)(function*(){return!!jm()&&new Promise(y=>{const p=setTimeout(()=>{y(!1)},zp);document.addEventListener("deviceready",()=>{clearTimeout(p),y(!0)})})})).apply(this,arguments)}const Ss={LOCAL:"local",NONE:"none",SESSION:"session"},xu=le,Kp="persistence";function Zp(y){return Yp.apply(this,arguments)}function Yp(){return(Yp=(0,l.Z)(function*(y){yield y._initializationPromise;const p=Jp(),g=q(Kp,y.config.apiKey,y.name);p&&p.setItem(g,y._getPersistence())})).apply(this,arguments)}function Jp(){var y;try{return(null===(y=function Wp(){return typeof window<"u"?window:null}())||void 0===y?void 0:y.sessionStorage)||null}catch{return null}}const Qp=le;class Fi{constructor(){this.browserResolver=Zn(Js),this.cordovaResolver=Zn(jd),this.underlyingResolver=null,this._redirectPersistence=Fo,this._completeRedirectFn=go,this._overrideRedirectResult=Wh}_initialize(p){var g=this;return(0,l.Z)(function*(){return yield g.selectUnderlyingResolver(),g.assertedUnderlyingResolver._initialize(p)})()}_openPopup(p,g,w,N){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openPopup(p,g,w,N)})()}_openRedirect(p,g,w,N){var P=this;return(0,l.Z)(function*(){return yield P.selectUnderlyingResolver(),P.assertedUnderlyingResolver._openRedirect(p,g,w,N)})()}_isIframeWebStorageSupported(p,g){this.assertedUnderlyingResolver._isIframeWebStorageSupported(p,g)}_originValidation(p){return this.assertedUnderlyingResolver._originValidation(p)}get _shouldInitProactively(){return jm()||this.browserResolver._shouldInitProactively}get assertedUnderlyingResolver(){return Qp(this.underlyingResolver,"internal-error"),this.underlyingResolver}selectUnderlyingResolver(){var p=this;return(0,l.Z)(function*(){if(p.underlyingResolver)return;const g=yield function $m(){return Fc.apply(this,arguments)}();p.underlyingResolver=g?p.cordovaResolver:p.browserResolver})()}}function Cs(y){return y.unwrap()}function pv(y){return mv(y)}function mv(y){const{_tokenResponse:p}=y instanceof V.ZR?y.customData:y;if(!p)return null;if(!(y instanceof V.ZR)&&"temporaryProof"in p&&"phoneNumber"in p)return At.credentialFromResult(y);const g=p.providerId;if(!g||g===Te.PASSWORD)return null;let w;switch(g){case Te.GOOGLE:w=No;break;case Te.FACEBOOK:w=bl;break;case Te.GITHUB:w=ec;break;case Te.TWITTER:w=wl;break;default:const{oauthIdToken:N,oauthAccessToken:P,oauthTokenSecret:W,pendingToken:ie,nonce:je}=p;return P||W||N||ie?ie?g.startsWith("saml.")?co._create(g,ie):Ls._fromParams({providerId:g,signInMethod:g,pendingToken:ie,idToken:N,accessToken:P}):new uo(g).credential({idToken:N,accessToken:P,rawNonce:je}):null}return y instanceof V.ZR?w.credentialFromError(y):w.credentialFromResult(y)}function Di(y,p){return p.catch(g=>{throw g instanceof V.ZR&&function gv(y,p){var g;const w=null===(g=p.customData)||void 0===g?void 0:g._tokenResponse;if("auth/multi-factor-auth-required"===p?.code)p.resolver=new uf(y,function Pn(y,p){var g;const w=(0,V.m9)(y),N=p;return le(p.customData.operationType,w,"argument-error"),le(null===(g=N.customData._serverResponse)||void 0===g?void 0:g.mfaPendingCredential,w,"argument-error"),Ft._fromError(w,N)}(y,p));else if(w){const N=mv(p),P=p;N&&(P.credential=N,P.tenantId=w.tenantId||void 0,P.email=w.email||void 0,P.phoneNumber=w.phoneNumber||void 0)}}(y,g),g}).then(g=>{const N=g.user;return{operationType:g.operationType,credential:pv(g),additionalUserInfo:du(g),user:la.getOrCreate(N)}})}function Xp(y,p){return lf.apply(this,arguments)}function lf(){return(lf=(0,l.Z)(function*(y,p){const g=yield p;return{verificationId:g.verificationId,confirm:w=>Di(y,g.confirm(w))}})).apply(this,arguments)}class uf{constructor(p,g){this.resolver=g,this.auth=function Lc(y){return y.wrapped()}(p)}get session(){return this.resolver.session}get hints(){return this.resolver.hints}resolveSignIn(p){return Di(Cs(this.auth),this.resolver.resolveSignIn(p))}}class la{constructor(p){this._delegate=p,this.multiFactor=function Hh(y){const p=(0,V.m9)(y);return na.has(p)||na.set(p,La._fromUser(p)),na.get(p)}(p)}static getOrCreate(p){return la.USER_MAP.has(p)||la.USER_MAP.set(p,new la(p)),la.USER_MAP.get(p)}delete(){return this._delegate.delete()}reload(){return this._delegate.reload()}toJSON(){return this._delegate.toJSON()}getIdTokenResult(p){return this._delegate.getIdTokenResult(p)}getIdToken(p){return this._delegate.getIdToken(p)}linkAndRetrieveDataWithCredential(p){return this.linkWithCredential(p)}linkWithCredential(p){var g=this;return(0,l.Z)(function*(){return Di(g.auth,rc(g._delegate,p))})()}linkWithPhoneNumber(p,g){var w=this;return(0,l.Z)(function*(){return Xp(w.auth,function wc(y,p,g){return Ec.apply(this,arguments)}(w._delegate,p,g))})()}linkWithPopup(p){var g=this;return(0,l.Z)(function*(){return Di(g.auth,function Pt(y,p,g){return Nd.apply(this,arguments)}(g._delegate,p,Fi))})()}linkWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Zp(Rn(g.auth)),ti(g._delegate,p,Fi)})()}reauthenticateAndRetrieveDataWithCredential(p){return this.reauthenticateWithCredential(p)}reauthenticateWithCredential(p){var g=this;return(0,l.Z)(function*(){return Di(g.auth,au(g._delegate,p))})()}reauthenticateWithPhoneNumber(p,g){return Xp(this.auth,function Rp(y,p,g){return Cd.apply(this,arguments)}(this._delegate,p,g))}reauthenticateWithPopup(p){return Di(this.auth,function Du(y,p,g){return Bo.apply(this,arguments)}(this._delegate,p,Fi))}reauthenticateWithRedirect(p){var g=this;return(0,l.Z)(function*(){return yield Zp(Rn(g.auth)),Iu(g._delegate,p,Fi)})()}sendEmailVerification(p){return function Nl(y,p){return ka.apply(this,arguments)}(this._delegate,p)}unlink(p){var g=this;return(0,l.Z)(function*(){return yield function nc(y,p){return ci.apply(this,arguments)}(g._delegate,p),g})()}updateEmail(p){return function qr(y,p){return er((0,V.m9)(y),p,null)}(this._delegate,p)}updatePassword(p){return function js(y,p){return er((0,V.m9)(y),null,p)}(this._delegate,p)}updatePhoneNumber(p){return function Bn(y,p){return Pi.apply(this,arguments)}(this._delegate,p)}updateProfile(p){return function uc(y,p){return Ml.apply(this,arguments)}(this._delegate,p)}verifyBeforeUpdateEmail(p,g){return function uu(y,p,g){return Fa.apply(this,arguments)}(this._delegate,p,g)}get emailVerified(){return this._delegate.emailVerified}get isAnonymous(){return this._delegate.isAnonymous}get metadata(){return this._delegate.metadata}get phoneNumber(){return this._delegate.phoneNumber}get providerData(){return this._delegate.providerData}get refreshToken(){return this._delegate.refreshToken}get tenantId(){return this._delegate.tenantId}get displayName(){return this._delegate.displayName}get email(){return this._delegate.email}get photoURL(){return this._delegate.photoURL}get providerId(){return this._delegate.providerId}get uid(){return this._delegate.uid}get auth(){return this._delegate.auth}}la.USER_MAP=new WeakMap;const Ru=le;let eg=(()=>{class y{constructor(g,w){if(this.app=g,w.isInitialized())return this._delegate=w.getImmediate(),void this.linkUnderlyingAuth();const{apiKey:N}=g.options;Ru(N,"invalid-api-key",{appName:g.name}),Ru(N,"invalid-api-key",{appName:g.name});const P=typeof window<"u"?Fi:void 0;this._delegate=w.initialize({options:{persistence:jo(N,g.name),popupRedirectResolver:P}}),this._delegate._updateErrorMap(it),this.linkUnderlyingAuth()}get emulatorConfig(){return this._delegate.emulatorConfig}get currentUser(){return this._delegate.currentUser?la.getOrCreate(this._delegate.currentUser):null}get languageCode(){return this._delegate.languageCode}set languageCode(g){this._delegate.languageCode=g}get settings(){return this._delegate.settings}get tenantId(){return this._delegate.tenantId}set tenantId(g){this._delegate.tenantId=g}useDeviceLanguage(){this._delegate.useDeviceLanguage()}signOut(){return this._delegate.signOut()}useEmulator(g,w){!function Ia(y,p,g){const w=Rn(y);le(w._canInitEmulator,w,"emulator-config-failed"),le(/^https?:\/\//.test(p),w,"invalid-emulator-scheme");const N=!!g?.disableWarnings,P=ur(p),{host:W,port:ie}=function ln(y){const p=ur(y),g=/(\/\/)?([^?#/]+)/.exec(y.substr(p.length));if(!g)return{host:"",port:null};const w=g[2].split("@").pop()||"",N=/^(\[[^\]]+\])(:|$)/.exec(w);if(N){const P=N[1];return{host:P,port:Sa(w.substr(P.length+1))}}{const[P,W]=w.split(":");return{host:P,port:Sa(W)}}}(p);w.config.emulator={url:`${P}//${W}${null===ie?"":`:${ie}`}/`},w.settings.appVerificationDisabledForTesting=!0,w.emulatorConfig=Object.freeze({host:W,port:ie,protocol:P.replace(":",""),options:Object.freeze({disableWarnings:N})}),N||function qi(){function y(){const p=document.createElement("p"),g=p.style;p.innerText="Running in emulator mode. Do not use with production credentials.",g.position="fixed",g.width="100%",g.backgroundColor="#ffffff",g.border=".1em solid #000000",g.color="#b50000",g.bottom="0px",g.left="0px",g.margin="0px",g.zIndex="10000",g.textAlign="center",p.classList.add("firebase-emulator-warning"),document.body.appendChild(p)}typeof console<"u"&&"function"==typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",y):y())}()}(this._delegate,g,w)}applyActionCode(g){return function Uh(y,p){return Hs.apply(this,arguments)}(this._delegate,g)}checkActionCode(g){return Xo(this._delegate,g)}confirmPasswordReset(g,w){return function oc(y,p,g){return Tl.apply(this,arguments)}(this._delegate,g,w)}createUserWithEmailAndPassword(g,w){var N=this;return(0,l.Z)(function*(){return Di(N._delegate,function Ro(y,p,g){return Ri.apply(this,arguments)}(N._delegate,g,w))})()}fetchProvidersForEmail(g){return this.fetchSignInMethodsForEmail(g)}fetchSignInMethodsForEmail(g){return function ac(y,p){return Al.apply(this,arguments)}(this._delegate,g)}isSignInWithEmailLink(g){return function Vh(y,p){return"EMAIL_SIGNIN"===Jo.parseLink(p)?.operation}(0,g)}getRedirectResult(){var g=this;return(0,l.Z)(function*(){Ru(qd(),g._delegate,"operation-not-supported-in-this-environment");const w=yield function Ir(y,p){return Sr.apply(this,arguments)}(g._delegate,Fi);return w?Di(g._delegate,Promise.resolve(w)):{credential:null,user:null}})()}addFrameworkForLogging(g){!function Gp(y,p){Rn(y)._logFramework(p)}(this._delegate,g)}onAuthStateChanged(g,w,N){const{next:P,error:W,complete:ie}=Bc(g,w,N);return this._delegate.onAuthStateChanged(P,W,ie)}onIdTokenChanged(g,w,N){const{next:P,error:W,complete:ie}=Bc(g,w,N);return this._delegate.onIdTokenChanged(P,W,ie)}sendSignInLinkToEmail(g,w){return function Pa(y,p,g){return Sl.apply(this,arguments)}(this._delegate,g,w)}sendPasswordResetEmail(g,w){return function Dl(y,p,g){return di.apply(this,arguments)}(this._delegate,g,w||void 0)}setPersistence(g){var w=this;return(0,l.Z)(function*(){let N;switch(function Gm(y,p){xu(Object.values(Ss).includes(p),y,"invalid-persistence-type"),(0,V.b$)()?xu(p!==Ss.SESSION,y,"unsupported-persistence-type"):(0,V.UG)()?xu(p===Ss.NONE,y,"unsupported-persistence-type"):qp()?xu(p===Ss.NONE||p===Ss.LOCAL&&(0,V.hl)(),y,"unsupported-persistence-type"):xu(p===Ss.NONE||hv(),y,"unsupported-persistence-type")}(w._delegate,g),g){case Ss.SESSION:N=Fo;break;case Ss.LOCAL:N=(yield Zn($a)._isAvailable())?$a:Ua;break;case Ss.NONE:N=vi;break;default:return Ne("argument-error",{appName:w._delegate.name})}return w._delegate.setPersistence(N)})()}signInAndRetrieveDataWithCredential(g){return this.signInWithCredential(g)}signInAnonymously(){return Di(this._delegate,function xr(y){return rs.apply(this,arguments)}(this._delegate))}signInWithCredential(g){return Di(this._delegate,Oa(this._delegate,g))}signInWithCustomToken(g){return Di(this._delegate,function Ie(y,p){return nn.apply(this,arguments)}(this._delegate,g))}signInWithEmailAndPassword(g,w){return Di(this._delegate,function Il(y,p,g){return Oa((0,V.m9)(y),Xu.credential(p,g))}(this._delegate,g,w))}signInWithEmailLink(g,w){return Di(this._delegate,function Tr(y,p,g){return Po.apply(this,arguments)}(this._delegate,g,w))}signInWithPhoneNumber(g,w){return Xp(this._delegate,function xp(y,p,g){return qa.apply(this,arguments)}(this._delegate,g,w))}signInWithPopup(g){var w=this;return(0,l.Z)(function*(){return Ru(qd(),w._delegate,"operation-not-supported-in-this-environment"),Di(w._delegate,function kl(y,p,g){return Eu.apply(this,arguments)}(w._delegate,g,Fi))})()}signInWithRedirect(g){var w=this;return(0,l.Z)(function*(){return Ru(qd(),w._delegate,"operation-not-supported-in-this-environment"),yield Zp(w._delegate),Kh(w._delegate,g,Fi)})()}updateCurrentUser(g){return this._delegate.updateCurrentUser(g)}verifyPasswordResetCode(g){return function Ki(y,p){return bs.apply(this,arguments)}(this._delegate,g)}unwrap(){return this._delegate}_delete(){return this._delegate._delete()}linkUnderlyingAuth(){this._delegate.wrapped=()=>this}}return y.Persistence=Ss,y})();function Bc(y,p,g){let w=y;"function"!=typeof y&&({next:w,error:p,complete:g}=y);const N=w;return{next:W=>N(W&&la.getOrCreate(W)),error:p,complete:g}}function jo(y,p){const g=function fv(y,p){const g=Jp();if(!g)return[];const w=q(Kp,y,p);switch(g.getItem(w)){case Ss.NONE:return[vi];case Ss.LOCAL:return[$a,Fo];case Ss.SESSION:return[Fo];default:return[]}}(y,p);if(typeof self<"u"&&!g.includes($a)&&g.push($a),typeof window<"u")for(const w of[Ua,Fo])g.includes(w)||g.push(w);return g.includes(vi)||g.push(vi),g}class Pu{constructor(){this.providerId="phone",this._delegate=new At(Cs(B.Z.auth()))}static credential(p,g){return At.credential(p,g)}verifyPhoneNumber(p,g){return this._delegate.verifyPhoneNumber(p,g)}unwrap(){return this._delegate}}Pu.PHONE_SIGN_IN_METHOD=At.PHONE_SIGN_IN_METHOD,Pu.PROVIDER_ID=At.PROVIDER_ID;const Uc=le;class zm{constructor(p,g,w=B.Z.app()){var N;Uc(null===(N=w.options)||void 0===N?void 0:N.apiKey,"invalid-api-key",{appName:w.name}),this._delegate=new Sd(p,g,w.auth()),this.type=this._delegate.type}clear(){this._delegate.clear()}render(){return this._delegate.render()}verify(){return this._delegate.verify()}}!function Wm(y){y.INTERNAL.registerComponent(new be.wA("auth-compat",p=>{const g=p.getProvider("app-compat").getImmediate(),w=p.getProvider("auth");return new eg(g,w)},"PUBLIC").setServiceProps({ActionCodeInfo:{Operation:{EMAIL_SIGNIN:te_EMAIL_SIGNIN,PASSWORD_RESET:te_PASSWORD_RESET,RECOVER_EMAIL:te_RECOVER_EMAIL,REVERT_SECOND_FACTOR_ADDITION:te_REVERT_SECOND_FACTOR_ADDITION,VERIFY_AND_CHANGE_EMAIL:te_VERIFY_AND_CHANGE_EMAIL,VERIFY_EMAIL:te_VERIFY_EMAIL}},EmailAuthProvider:Xu,FacebookAuthProvider:bl,GithubAuthProvider:ec,GoogleAuthProvider:No,OAuthProvider:uo,SAMLAuthProvider:Na,PhoneAuthProvider:Pu,PhoneMultiFactorGenerator:kd,RecaptchaVerifier:zm,TwitterAuthProvider:wl,Auth:eg,AuthCredential:_s,Error:V.ZR}).setInstantiationMode("LAZY").setMultipleInstances(!1)),y.registerVersion("@firebase/auth-compat","0.4.1")}(B.Z)},5861:(xt,ge,U)=>{"use strict";function l(V,_e,fe,de,be,Me,Te){try{var Z=V[Me](Te),K=Z.value}catch(te){return void fe(te)}Z.done?_e(K):Promise.resolve(K).then(de,be)}function B(V){return function(){var _e=this,fe=arguments;return new Promise(function(de,be){var Me=V.apply(_e,fe);function Te(K){l(Me,de,be,Te,Z,"next",K)}function Z(K){l(Me,de,be,Te,Z,"throw",K)}Te(void 0)})}}U.d(ge,{Z:()=>B})}},xt=>{var ge=l=>xt(xt.s=l);ge(1321),ge(6326)}]);